(()=>{var e={};e.id=8012,e.ids=[8012],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},81542:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.Z,__next_app__:()=>h,originalPathname:()=>d,pages:()=>c,routeModule:()=>u,tree:()=>l}),t(89120),t(2792),t(58522),t(61804),t(7629),t(11930),t(12523);var a=t(23191),n=t(88716),i=t(43315),o=t(95231),s={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>o[e]);t.d(r,s);let l=["",{children:["(main)",{children:["branch",{children:["manager",{children:["[...mode]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,89120)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\branch\\manager\\[...mode]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2792)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\branch\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],c=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\branch\\manager\\[...mode]\\page.tsx"],d="/(main)/branch/manager/[...mode]/page",h={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(main)/branch/manager/[...mode]/page",pathname:"/branch/manager/[...mode]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},66329:(e,r,t)=>{Promise.resolve().then(t.bind(t,14801))},92886:(e,r,t)=>{Promise.resolve().then(t.bind(t,84747))},2643:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(17577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var i=t(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}let s=a.forwardRef((e,r)=>a.createElement(i.Z,o({},e,{ref:r,icon:n})))},14801:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(10326);t(17577);var n=t(18418),i=t(35047),o=t(67329),s=t(88196);let l=()=>{let e=(0,i.useRouter)(),r=(0,i.usePathname)(),t=[{key:"home",label:"หน้าแรก",icon:a.jsx(o.Z,{}),path:"/"}];return a.jsx(s.Z,{maxWidth:260,items:t.map(t=>({key:t.key,label:t.label,icon:t.icon,onClick:()=>e.push(t.path),active:r===t.path}))})};function c({children:e}){return a.jsx(a.Fragment,{children:(0,a.jsxs)(n.default,{style:{minHeight:"100%",background:"transparent"},children:[a.jsx(n.default.Content,{style:{background:"transparent"},children:e}),a.jsx(l,{})]})})}},84747:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>q});var a=t(10326),n=t(17577),i=t(49909),o=t(43359),s=t(35509),l=t(92121),c=t(71935),d=t(4139),h=t(38106),u=t(63459),p=t(35047),m=t(77626),b=t.n(m),x=t(66874),f=t(60578);let{Title:g,Text:j}=x.default,y={container:{minHeight:"100vh",background:"#f8f9fc",paddingBottom:40}},P=()=>a.jsx(b(),{id:"d6a7379aac763388",children:".manage-form-card .ant-form-item-label label{font-weight:600;color:#374151}.manage-form-card .ant-input,.manage-form-card .ant-input-number,.manage-form-card .ant-select-selector{-webkit-border-radius:12px!important;-moz-border-radius:12px!important;border-radius:12px!important;padding-top:8px;padding-bottom:8px}"});var v=t(78407),k=t(94001),Z=t(33357),w=t(26963),_=t(76892),C=t(52647);let{TextArea:E}=i.default;function q({params:e}){let r=(0,p.useRouter)(),[t]=o.Z.useForm(),[m,b]=(0,n.useState)(!1),[x,g]=(0,n.useState)(!1),{user:j,loading:q}=(0,k.a)(),{message:T,modal:S}=s.Z.useApp(),F=e.mode[0],O=e.mode[1]||null,R="edit"===F&&!!O;(0,n.useCallback)(async()=>{b(!0);try{let e=await v.x.getById(O);t.setFieldsValue({branch_name:e.branch_name,branch_code:e.branch_code,address:e.address,phone:e.phone,tax_id:e.tax_id,is_active:e.is_active})}catch(e){console.error(e),T.error((0,f.t)("branch.form.loadError")),r.push("/branch")}finally{b(!1)}},[O,t,r,T]);let z=async e=>{g(!0);try{let t=await (0,Z.P)();R?(await v.x.update(O,e,void 0,t),T.success((0,f.t)("branch.form.updateSuccess"))):(await v.x.create(e,void 0,t),T.success((0,f.t)("branch.form.createSuccess"))),r.push("/branch")}catch(e){console.error(e),T.error(e.message||(0,f.t)("branch.form.saveError"))}finally{g(!1)}},I=()=>r.push("/branch");return q||R&&m?a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f8f9fc"},children:a.jsx(l.Z,{size:"large"})}):(0,a.jsxs)("div",{style:y.container,children:[a.jsx(P,{}),a.jsx(C.Z,{title:R?(0,f.t)("branch.form.titleEdit"):(0,f.t)("branch.form.titleCreate"),subtitle:(0,f.t)("branch.form.subtitle"),onBack:I,actions:R?a.jsx(c.ZP,{danger:!0,onClick:()=>{O&&S.confirm({title:(0,f.t)("branch.form.deleteTitle"),content:(0,f.t)("branch.form.deleteContent"),okText:(0,f.t)("branch.delete.ok"),okType:"danger",cancelText:(0,f.t)("branch.delete.cancel"),centered:!0,onOk:async()=>{try{let e=await (0,Z.P)();await v.x.delete(O,void 0,e),T.success((0,f.t)("branch.form.deleteSuccess")),r.push("/branch")}catch{T.error((0,f.t)("branch.form.deleteError"))}}})},children:(0,f.t)("branch.delete.ok")}):void 0}),a.jsx(w.Z,{maxWidth:900,children:a.jsx("div",{className:"manage-form-card",children:a.jsx(_.Z,{children:(0,a.jsxs)(o.Z,{form:t,layout:"vertical",onFinish:z,requiredMark:!1,autoComplete:"off",initialValues:{is_active:!0},children:[(0,a.jsxs)(d.Z,{gutter:24,children:[a.jsx(h.Z,{xs:24,md:12,children:a.jsx(o.Z.Item,{name:"branch_name",label:(0,f.t)("branch.form.fields.nameLabel"),rules:[{required:!0,message:(0,f.t)("branch.form.fields.nameRequired")}],children:a.jsx(i.default,{size:"large",placeholder:(0,f.t)("branch.form.fields.namePlaceholder"),maxLength:100})})}),a.jsx(h.Z,{xs:24,md:12,children:a.jsx(o.Z.Item,{name:"branch_code",label:(0,f.t)("branch.form.fields.codeLabel"),rules:[{required:!0,message:(0,f.t)("branch.form.fields.codeRequired")},{pattern:/^[A-Za-z0-9]+$/,message:(0,f.t)("branch.form.fields.codePattern")}],children:a.jsx(i.default,{size:"large",placeholder:(0,f.t)("branch.form.fields.codePlaceholder"),maxLength:20})})})]}),a.jsx(o.Z.Item,{name:"address",label:(0,f.t)("branch.form.fields.addressLabel"),children:a.jsx(E,{rows:3,placeholder:(0,f.t)("branch.form.fields.addressPlaceholder"),style:{borderRadius:12}})}),(0,a.jsxs)(d.Z,{gutter:24,children:[a.jsx(h.Z,{xs:24,md:12,children:a.jsx(o.Z.Item,{name:"phone",label:(0,f.t)("branch.form.fields.phoneLabel"),children:a.jsx(i.default,{size:"large",placeholder:(0,f.t)("branch.form.fields.phonePlaceholder"),maxLength:20})})}),a.jsx(h.Z,{xs:24,md:12,children:a.jsx(o.Z.Item,{name:"tax_id",label:(0,f.t)("branch.form.fields.taxIdLabel"),children:a.jsx(i.default,{size:"large",placeholder:(0,f.t)("branch.form.fields.taxIdPlaceholder"),maxLength:50})})})]}),a.jsx(o.Z.Item,{name:"is_active",label:(0,f.t)("branch.form.fields.statusLabel"),valuePropName:"checked",children:a.jsx(u.Z,{checkedChildren:(0,f.t)("branch.stats.active"),unCheckedChildren:(0,f.t)("branch.stats.inactive")})}),(0,a.jsxs)("div",{style:{marginTop:32,display:"flex",justifyContent:"flex-end",gap:12},children:[a.jsx(c.ZP,{size:"large",onClick:I,style:{borderRadius:12,minWidth:100},children:(0,f.t)("branch.form.back")}),a.jsx(c.ZP,{type:"primary",htmlType:"submit",loading:x,size:"large",style:{borderRadius:12,minWidth:120,background:"#7c3aed",border:"none"},children:R?(0,f.t)("branch.form.submitEdit"):(0,f.t)("branch.form.submitCreate")})]})]})})})})]})}},88196:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(10326);t(17577);var n=t(66874),i=t(5591),o=t(3861),s=t(56249),l=t(11401),c=t(71935),d=t(83575);let{Text:h}=n.default;function u({items:e,maxWidth:r=440,bottomOffset:t=d.w}){let{token:n}=i.default.useToken(),u=!o.default.useBreakpoint().md,p={position:"fixed",left:"50%",transform:"translateX(-50%)",bottom:`calc(${t}px + env(safe-area-inset-bottom))`,width:"calc(100% - 24px)",maxWidth:r,zIndex:900};return a.jsx("div",{style:p,"aria-label":"Bottom navigation",children:a.jsx(s.Z,{size:"small",variant:"outlined",bodyStyle:{padding:8,display:"grid",gridTemplateColumns:`repeat(${e.length}, minmax(0, 1fr))`,gap:4},style:{borderRadius:u?18:22,borderColor:n.colorBorderSecondary,background:"rgba(255, 255, 255, 0.92)",backdropFilter:"blur(12px)",boxShadow:n.boxShadowSecondary},children:e.map(e=>{let r=!!e.active,t=r?n.colorPrimary:n.colorTextSecondary,i=r?n.colorPrimary:n.colorTextSecondary,o=a.jsx("span",{style:{fontSize:22,lineHeight:1,color:t},children:e.icon}),s=e.badgeDot||(e.badgeCount??0)>0?a.jsx(l.Z,{dot:e.badgeDot,count:e.badgeCount,size:"small",children:o}):o;return(0,a.jsxs)(c.ZP,{type:"text",disabled:e.disabled,"aria-label":e.ariaLabel??e.label,"aria-current":r?"page":void 0,onClick:e.onClick,style:{height:u?64:68,paddingInline:0,borderRadius:16,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,background:r?n.colorPrimaryBg:"transparent"},children:[s,a.jsx(h,{style:{fontSize:11,fontWeight:r?600:500,color:i,lineHeight:1},children:e.label})]},e.key)})})})}},52647:(e,r,t)=>{"use strict";t.d(r,{Z:()=>h});var a=t(10326);t(17577);var n=t(2643),i=t(5591),o=t(3861),s=t(21020),l=t(71935),c=t(66874),d=t(52386);function h({title:e,subtitle:r,icon:t,onBack:h,actions:u,style:p}){let{token:m}=i.default.useToken(),b=o.default.useBreakpoint().md?d.H.pagePaddingXDesktop:d.H.pagePaddingXMobile;return a.jsx("div",{style:{padding:`${d.H.pagePaddingY}px ${b}px`,background:m.colorBgContainer,borderBottom:`1px solid ${m.colorBorderSecondary}`,...p},children:(0,a.jsxs)(s.Z,{align:"center",justify:"space-between",wrap:"wrap",gap:12,style:{maxWidth:d.H.pageMaxWidth,margin:"0 auto"},children:[(0,a.jsxs)(s.Z,{align:"center",gap:12,style:{minWidth:0},children:[h&&a.jsx(l.ZP,{type:"text","aria-label":"ย้อนกลับ",icon:a.jsx(n.Z,{}),onClick:h,style:{borderRadius:12,width:44,height:44}}),t&&a.jsx("div",{style:{width:44,height:44,borderRadius:14,display:"grid",placeItems:"center",background:m.colorFillTertiary,color:m.colorText},children:t}),(0,a.jsxs)("div",{style:{minWidth:0},children:[a.jsx(c.default.Title,{level:4,style:{margin:0},children:e}),r&&a.jsx(c.default.Text,{type:"secondary",children:r})]})]}),u&&a.jsx(s.Z,{gap:8,wrap:"wrap",children:u})]})})}},55075:(e,r,t)=>{"use strict";t.d(r,{E:()=>i,M:()=>n});var a=t(48571);let n=a.Ryn({id:a.Z_8(),branch_name:a.Z_8(),branch_code:a.Z_8(),address:a.Z_8().optional().nullable(),phone:a.Z_8().optional().nullable(),tax_id:a.Z_8().optional().nullable(),is_active:a.O72().default(!0),create_date:a.Z_8().or(a.hTZ()).transform(e=>new Date(e))}),i=a.IXX(n)},78407:(e,r,t)=>{"use strict";t.d(r,{x:()=>l});var a=t(40820),n=t(12529),i=t(55075),o=t(40577);let s=a.q.POS.BRANCH,l={getAll:async e=>{let r=(0,n.b)("GET",s),t={};e&&(t.Cookie=e);let a=await fetch(r,{cache:"no-store",credentials:"include",headers:t});if(!a.ok)throw Error("Failed to fetch branches");let l=await a.json();return i.E.parse((0,o.hH)(l))},getById:async(e,r)=>{let t=(0,n.b)("GET",`${s}/${e}`),a={};r&&(a.Cookie=r);let l=await fetch(t,{cache:"no-store",credentials:"include",headers:a});if(!l.ok)throw Error("Failed to fetch branch");let c=await l.json();return i.M.parse((0,o.hH)(c))},create:async(e,r,t)=>{let a=(0,n.b)("POST",s),i={"Content-Type":"application/json"};r&&(i.Cookie=r),t&&(i["X-CSRF-Token"]=t);let l=await fetch(a,{method:"POST",body:JSON.stringify(e),headers:i,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to create branch"))}return(0,o.hH)(await l.json())},update:async(e,r,t,a)=>{let i=(0,n.b)("PUT",`${s}/${e}`),l={"Content-Type":"application/json"};t&&(l.Cookie=t),a&&(l["X-CSRF-Token"]=a);let c=await fetch(i,{method:"PUT",body:JSON.stringify(r),headers:l,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to update branch"))}return(0,o.hH)(await c.json())},delete:async(e,r,t)=>{let a=(0,n.b)("DELETE",`${s}/${e}`),i={};r&&(i.Cookie=r),t&&(i["X-CSRF-Token"]=t);let l=await fetch(a,{method:"DELETE",headers:i,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to delete branch"))}}}},2792:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\branch\layout.tsx#default`)},89120:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\branch\manager\[...mode]\page.tsx#default`)}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[9276,4421,8571,8963,1399],()=>t(81542));module.exports=a})();