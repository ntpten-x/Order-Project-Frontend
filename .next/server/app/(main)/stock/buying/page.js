(()=>{var e={};e.id=2884,e.ids=[2884],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},99653:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.Z,__next_app__:()=>p,originalPathname:()=>c,pages:()=>l,routeModule:()=>u,tree:()=>d}),r(63242),r(94239),r(58522),r(61804),r(7629),r(11930),r(12523);var i=r(23191),n=r(88716),s=r(43315),a=r(95231),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);r.d(t,o);let d=["",{children:["(main)",{children:["stock",{children:["buying",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,63242)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\stock\\buying\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94239)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\stock\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],l=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\stock\\buying\\page.tsx"],c="/(main)/stock/buying/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(main)/stock/buying/page",pathname:"/stock/buying",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},82310:(e,t,r)=>{Promise.resolve().then(r.bind(r,79297))},2643:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(17577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var s=r(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let o=i.forwardRef((e,t)=>i.createElement(s.Z,a({},e,{ref:t,icon:n})))},61758:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(17577);let n={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"};var s=r(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let o=i.forwardRef((e,t)=>i.createElement(s.Z,a({},e,{ref:t,icon:n})))},79297:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O});var i=r(10326),n=r(17577),s=r(35047),a=r(58184),o=r(46752),d=r(71935),l=r(92121),c=r(75958),p=r(61758),u=r(49965),g=r(94001),h=r(80440);r(81456);var x=r(30124),y=r(71209),b=r(61357),f=r(31916),m=r(2643),j=r(56811),k=r(9297),v=r(38572),_=r(72380);let{Text:w,Title:P}=a.default,q={container:{paddingBottom:160,backgroundColor:"#f8f9fc",minHeight:"100vh"},header:{background:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",padding:"20px 20px 60px 20px",position:"relative",overflow:"hidden"},headerDecoCircle1:{position:"absolute",top:-50,right:-50,width:150,height:150,borderRadius:"50%",background:"rgba(255,255,255,0.1)"},headerDecoCircle2:{position:"absolute",bottom:-30,left:-30,width:100,height:100,borderRadius:"50%",background:"rgba(255,255,255,0.08)"},headerContent:{position:"relative",zIndex:1,display:"flex",alignItems:"center",gap:12},headerIconBox:{width:48,height:48,borderRadius:14,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},statsCard:{margin:"-40px 16px 0 16px",padding:"16px",background:"white",borderRadius:20,boxShadow:"0 8px 24px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-around",position:"relative",zIndex:10},statItem:{textAlign:"center",flex:1},statNumber:{fontSize:24,fontWeight:700,display:"block"},statLabel:{fontSize:12,color:"#8c8c8c",marginTop:2},listContainer:{padding:"20px 16px 0 16px"},sectionTitle:{display:"flex",alignItems:"center",gap:8,marginBottom:16},itemCard:e=>({marginBottom:12,borderRadius:20,border:"none",boxShadow:e?"0 4px 16px rgba(82, 196, 26, 0.2)":"0 2px 8px rgba(0,0,0,0.04)",overflow:"hidden",transition:"all 0.3s ease"}),itemCardInner:e=>({padding:16,display:"flex",alignItems:"flex-start",background:e?"linear-gradient(135deg, #f6ffed 0%, #d9f7be 100%)":"white",position:"relative"}),itemCheckbox:{marginTop:6,marginRight:14,transform:"scale(1.3)"},itemInfo:{flex:1,minWidth:0},orderedTag:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:12,padding:"4px 10px",color:"white",fontWeight:600,fontSize:12},quantitySection:{marginTop:10},quantityHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},quantityControls:{display:"flex",alignItems:"center",gap:8},quantityButton:{width:40,height:40,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center"},quantityInput:{flex:1,textAlign:"center",height:40,borderRadius:12,fontSize:16,fontWeight:600},floatingFooter:{position:"fixed",bottom:70,left:16,right:16,zIndex:99},confirmButton:e=>({height:56,borderRadius:28,fontWeight:700,fontSize:16,boxShadow:e?"0 8px 24px rgba(82, 196, 26, 0.4)":void 0,background:e?"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)":void 0,border:"none"}),modalStyles:{body:{padding:0},mask:{backdropFilter:"blur(8px)",background:"rgba(0, 0, 0, 0.45)"}}},C=()=>i.jsx("style",{children:`
        .buying-page-modal .ant-modal-content {
            border-radius: 24px !important;
            overflow: hidden;
            padding: 0 !important;
        }
        
        @keyframes fadeSlideIn {
            from {
                opacity: 0;
                transform: translateY(12px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .purchase-item-card {
            animation: fadeSlideIn 0.4s ease both;
        }
        
        .purchase-item-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.1) !important;
        }
        
        .buying-page .ant-input-number {
            border-radius: 12px !important;
        }
        
        .buying-page .ant-input-number-input {
            text-align: center;
            font-weight: 600;
            font-size: 16px;
        }
        
        .buying-page .ant-checkbox-inner {
            border-radius: 6px;
            width: 22px;
            height: 22px;
        }
        
        .buying-page .ant-checkbox-checked .ant-checkbox-inner {
            background: linear-gradient(135deg, #52c41a 0%, #73d13d 100%);
            border-color: #52c41a;
        }
        
        .buying-page .ant-checkbox-checked .ant-checkbox-inner::after {
            left: 30%;
        }
        
        /* Custom scrollbar */
        .buying-page *::-webkit-scrollbar {
            width: 6px;
        }
        .buying-page *::-webkit-scrollbar-track {
            background: transparent;
        }
        .buying-page *::-webkit-scrollbar-thumb {
            background: #d9d9d9;
            border-radius: 3px;
        }
        .buying-page *::-webkit-scrollbar-thumb:hover {
            background: #bfbfbf;
        }
    `}),S=({orderId:e,onBack:t})=>(0,i.jsxs)("div",{style:q.header,children:[i.jsx("div",{style:q.headerDecoCircle1}),i.jsx("div",{style:q.headerDecoCircle2}),(0,i.jsxs)("div",{style:q.headerContent,children:[i.jsx(d.ZP,{type:"text",icon:i.jsx(m.Z,{style:{fontSize:20,color:"white"}}),onClick:t,style:{width:40,height:40,borderRadius:12,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"}}),i.jsx("div",{style:q.headerIconBox,children:i.jsx(p.Z,{style:{fontSize:24,color:"white"}})}),(0,i.jsxs)("div",{children:[i.jsx(w,{style:{color:"rgba(255,255,255,0.85)",fontSize:13,display:"block"},children:"ทำการสั่งซื้อ"}),(0,i.jsxs)(P,{level:4,style:{color:"white",margin:0,fontWeight:700,letterSpacing:"0.5px"},children:["#",e?.substring(0,8).toUpperCase()||"..."]})]})]})]}),z=({totalItems:e,purchasedItems:t,notPurchasedItems:r})=>(0,i.jsxs)("div",{style:q.statsCard,children:[(0,i.jsxs)("div",{style:q.statItem,children:[i.jsx("span",{style:{...q.statNumber,color:"#667eea"},children:e}),i.jsx(w,{style:q.statLabel,children:"รายการทั้งหมด"})]}),i.jsx("div",{style:{width:1,background:"#f0f0f0"}}),(0,i.jsxs)("div",{style:q.statItem,children:[i.jsx("span",{style:{...q.statNumber,color:"#52c41a"},children:t}),i.jsx(w,{style:q.statLabel,children:"เลือกซื้อแล้ว"})]}),i.jsx("div",{style:{width:1,background:"#f0f0f0"}}),(0,i.jsxs)("div",{style:q.statItem,children:[i.jsx("span",{style:{...q.statNumber,color:"#faad14"},children:r}),i.jsx(w,{style:q.statLabel,children:"ยังไม่เลือก"})]})]}),I=({item:e,index:t,onCheck:r,onQuantityChange:n,onSetFullAmount:s})=>i.jsx("div",{className:"purchase-item-card",style:{...q.itemCard(e.is_purchased),animationDelay:`${.05*t}s`},onClick:()=>!e.is_purchased&&r(e.ingredient_id,!0),children:(0,i.jsxs)("div",{style:q.itemCardInner(e.is_purchased),children:[i.jsx(x.Z,{checked:e.is_purchased,onChange:t=>{t.stopPropagation(),r(e.ingredient_id,t.target.checked)},style:q.itemCheckbox}),i.jsx(y.Z,{src:e.img_url||"https://placehold.co/72x72/f5f5f5/999999?text=\uD83D\uDCE6",shape:"square",size:72,style:{borderRadius:16,border:e.is_purchased?"3px solid #52c41a":"3px solid white",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",marginRight:14,flexShrink:0}}),(0,i.jsxs)("div",{style:q.itemInfo,children:[(0,i.jsxs)("div",{style:{marginBottom:4},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:2},children:[i.jsx(w,{strong:!0,style:{fontSize:16,color:"#1a1a2e"},ellipsis:{tooltip:e.display_name},children:e.display_name}),e.is_purchased&&i.jsx(j.Z,{style:{color:"#52c41a",fontSize:16}})]}),e.description&&i.jsx(w,{type:"secondary",style:{fontSize:12,display:"block",marginBottom:4},ellipsis:{tooltip:e.description},children:e.description}),(0,i.jsxs)(b.Z,{style:q.orderedTag,children:["สั่ง ",e.ordered_quantity," ",e.unit_name]})]}),e.is_purchased?(0,i.jsxs)("div",{style:q.quantitySection,onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)("div",{style:q.quantityHeader,children:[(0,i.jsxs)(w,{style:{fontSize:13,color:"#666"},children:["จำนวนที่ซื้อจริง (",e.unit_name,")"]}),i.jsx(d.ZP,{type:"link",size:"small",onClick:()=>s(e.ingredient_id),style:{padding:"4px 8px",fontSize:13,fontWeight:600,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"เต็มจำนวน"})]}),(0,i.jsxs)("div",{style:q.quantityControls,children:[i.jsx(d.ZP,{icon:i.jsx(v.Z,{}),style:q.quantityButton,onClick:()=>{let t=Math.max(0,e.actual_quantity-1);n(e.ingredient_id,t)}}),i.jsx(f.Z,{min:0,value:e.actual_quantity,onChange:t=>n(e.ingredient_id,t),style:q.quantityInput,controls:!1}),i.jsx(d.ZP,{icon:i.jsx(_.Z,{}),style:q.quantityButton,onClick:()=>{let t=e.actual_quantity+1;n(e.ingredient_id,t)}})]})]}):(0,i.jsxs)(d.ZP,{size:"large",type:"dashed",block:!0,onClick:t=>{t.stopPropagation(),r(e.ingredient_id,!0)},style:{color:"#8c8c8c",borderRadius:12,marginTop:8},children:[i.jsx(k.Z,{style:{marginRight:6}}),"แตะเพื่อเลือกซื้อ"]})]})]})}),Z=()=>(0,i.jsxs)("div",{style:{background:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",padding:"24px",position:"relative",overflow:"hidden"},children:[i.jsx("div",{style:{position:"absolute",top:-30,right:-30,width:100,height:100,borderRadius:"50%",background:"rgba(255,255,255,0.1)"}}),i.jsx("div",{style:{position:"absolute",bottom:-20,left:-20,width:70,height:70,borderRadius:"50%",background:"rgba(255,255,255,0.08)"}}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,position:"relative",zIndex:1},children:[i.jsx("div",{style:{width:44,height:44,borderRadius:14,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},children:i.jsx(j.Z,{style:{fontSize:22,color:"white"}})}),(0,i.jsxs)("div",{children:[i.jsx(w,{style:{color:"rgba(255,255,255,0.9)",fontSize:13,display:"block"},children:"ยืนยันการสั่งซื้อ"}),i.jsx(P,{level:4,style:{color:"white",margin:0,fontWeight:700},children:"สรุปรายการ"})]})]})]}),R=({item:e,index:t})=>{let r=e.actual_quantity-e.ordered_quantity;return(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:14,padding:14,background:"#fafafa",borderRadius:16,marginBottom:10,animation:`fadeSlideIn 0.3s ease ${.05*t}s both`},children:[i.jsx(y.Z,{src:e.img_url||"https://placehold.co/56x56/f5f5f5/999999?text=\uD83D\uDCE6",shape:"square",size:56,style:{borderRadius:12,border:"2px solid white",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}}),(0,i.jsxs)("div",{style:{flex:1,minWidth:0},children:[i.jsx(w,{strong:!0,style:{fontSize:15,display:"block",color:"#1a1a2e"},ellipsis:{tooltip:e.display_name},children:e.display_name}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[(0,i.jsxs)(w,{style:{fontSize:13},children:["ซื้อ: ",i.jsx(w,{strong:!0,style:{color:"#52c41a"},children:e.actual_quantity})]}),i.jsx(w,{type:"secondary",children:"/"}),(0,i.jsxs)(w,{type:"secondary",style:{fontSize:13},children:["สั่ง: ",e.ordered_quantity]})]})]}),(0,i.jsxs)("div",{style:{textAlign:"right"},children:[i.jsx("div",{style:{padding:"8px 14px",borderRadius:12,fontWeight:600,fontSize:14,background:0===r?"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)":r>0?"linear-gradient(135deg, #1890ff 0%, #69c0ff 100%)":"linear-gradient(135deg, #ff4d4f 0%, #ff7875 100%)",color:"white",minWidth:60,textAlign:"center"},children:0===r?"ครบ":r>0?`+${r}`:r}),i.jsx(w,{style:{fontSize:11,color:"#8c8c8c",marginTop:2,display:"block"},children:e.unit_name})]})]})},F=({count:e})=>(0,i.jsxs)("div",{style:{marginTop:16,padding:"14px 16px",background:"linear-gradient(135deg, #fffbe6 0%, #fff1b8 100%)",borderRadius:14,border:"1px solid #ffe58f",display:"flex",alignItems:"center",gap:10},children:[i.jsx("div",{style:{width:32,height:32,borderRadius:10,background:"#faad14",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:16,fontWeight:700},children:"!"}),(0,i.jsxs)(w,{style:{color:"#ad6800",fontSize:13},children:["มี ",i.jsx(w,{strong:!0,children:e})," รายการที่ ",i.jsx(w,{strong:!0,children:'"ไม่ได้เลือก"'})," (จะถูกบันทึกว่าไม่ได้ซื้อ)"]})]}),{Text:B}=a.default;function O(){let e=(0,s.useSearchParams)(),t=(0,s.useRouter)(),r=e.get("orderId"),{user:a}=(0,g.a)(),[x,y]=(0,n.useState)(null),[b,f]=(0,n.useState)([]),[m,j]=(0,n.useState)(!1),[k,v]=(0,n.useState)(!1),{socket:_}=(0,h.s)();(0,n.useCallback)(async()=>{try{j(!0);let e=await fetch(`/api/stock/orders/${r}`,{cache:"no-store"});if(!e.ok)throw Error("Failed to load order");let t=await e.json();y(t);let i=t.ordersItems?.map(e=>({ingredient_id:e.ingredient_id,actual_quantity:e.quantity_ordered,ordered_quantity:e.quantity_ordered,is_purchased:!1,display_name:e.ingredient?.display_name||"Unknown",description:e.ingredient?.description||"",unit_name:e.ingredient?.unit?.display_name||"-",img_url:e.ingredient?.img_url}))||[];f(i)}catch{o.ZP.error("Failed to load order")}finally{j(!1)}},[r]);let w=(e,t)=>{f(b.map(r=>r.ingredient_id===e?{...r,is_purchased:t}:r))},P=(e,t)=>{null!==t&&f(b.map(r=>r.ingredient_id===e?{...r,actual_quantity:t}:r))},O=e=>{f(b.map(t=>t.ingredient_id===e?{...t,actual_quantity:t.ordered_quantity,is_purchased:!0}:t))},[E,T]=(0,n.useState)(""),W=async()=>{if(!a){o.ZP.error("User not found");return}try{j(!0);let e=b.map(e=>({ingredient_id:e.ingredient_id,actual_quantity:e.is_purchased?e.actual_quantity:0,is_purchased:e.is_purchased}));if(!(await fetch(`/api/stock/orders/${r}/purchase`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":E},body:JSON.stringify({items:e,purchased_by_id:a.id})})).ok)throw Error("Failed to confirm purchase");o.ZP.success("บันทึกการสั่งซื้อเรียบร้อย"),v(!1),t.push("/stock/history")}catch(e){console.error(e),o.ZP.error("Failed to confirm purchase")}finally{j(!1)}},D=b.filter(e=>e.is_purchased),H=b.filter(e=>!e.is_purchased),A=D.length>0;return r?m&&!x?i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:i.jsx(l.Z,{size:"large"})}):(0,i.jsxs)("div",{className:"buying-page",style:q.container,children:[i.jsx(C,{}),i.jsx(S,{orderId:x?.id,onBack:()=>t.back()}),i.jsx(z,{totalItems:b.length,purchasedItems:D.length,notPurchasedItems:H.length}),(0,i.jsxs)("div",{style:q.listContainer,children:[(0,i.jsxs)("div",{style:q.sectionTitle,children:[i.jsx(p.Z,{style:{fontSize:18,color:"#52c41a"}}),i.jsx(B,{strong:!0,style:{fontSize:16,color:"#1a1a2e"},children:"รายการสินค้า"}),(0,i.jsxs)("div",{style:{background:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",color:"white",padding:"4px 12px",borderRadius:20,fontSize:12,fontWeight:600},children:[b.length," รายการ"]})]}),b.map((e,t)=>i.jsx(I,{item:e,index:t,onCheck:w,onQuantityChange:P,onSetFullAmount:O},e.ingredient_id))]}),i.jsx("div",{style:q.floatingFooter,children:(0,i.jsxs)(d.ZP,{type:"primary",size:"large",block:!0,icon:i.jsx(p.Z,{style:{fontSize:18}}),onClick:()=>v(!0),disabled:!A,style:q.confirmButton(A),children:["ยืนยันการสั่งซื้อ (",D.length," รายการ)"]})}),(0,i.jsxs)(c.Z,{open:k,onCancel:()=>v(!1),footer:null,width:520,centered:!0,className:"buying-page-modal",styles:q.modalStyles,closeIcon:null,children:[i.jsx(Z,{}),(0,i.jsxs)("div",{style:{padding:"20px 24px 24px"},children:[i.jsx("div",{style:{maxHeight:320,overflowY:"auto",paddingRight:4,marginBottom:16},children:D.map((e,t)=>i.jsx(R,{item:e,index:t},e.ingredient_id))}),H.length>0&&i.jsx(F,{count:H.length}),(0,i.jsxs)("div",{style:{display:"flex",gap:12,marginTop:20},children:[i.jsx(d.ZP,{block:!0,size:"large",onClick:()=>v(!1),icon:i.jsx(u.Z,{}),style:{height:48,borderRadius:12,fontWeight:600},children:"กลับ"}),i.jsx(d.ZP,{type:"primary",block:!0,size:"large",onClick:W,loading:m,style:{height:48,borderRadius:12,fontWeight:600,background:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",border:"none",boxShadow:"0 4px 16px rgba(82, 196, 26, 0.35)"},children:"ยืนยันการสั่งซื้อ"})]})]})]})]}):(0,i.jsxs)("div",{style:{padding:24,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",flexDirection:"column",gap:16},children:[i.jsx(p.Z,{style:{fontSize:48,color:"#d9d9d9"}}),i.jsx(B,{type:"secondary",children:"กรุณาเลือกออเดอร์ก่อน"}),i.jsx(d.ZP,{type:"primary",onClick:()=>t.push("/stock/items"),children:"กลับหน้าหลัก"})]})}},63242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\stock\buying\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[9276,8674,8571,9042,1399,2414],()=>r(99653));module.exports=i})();