(()=>{var e={};e.id=4062,e.ids=[4062],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},76119:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.Z,__next_app__:()=>p,originalPathname:()=>c,pages:()=>l,routeModule:()=>x,tree:()=>d}),r(29440),r(94239),r(58522),r(61804),r(7629),r(11930),r(12523);var i=r(23191),s=r(88716),n=r(43315),a=r(95231),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);r.d(t,o);let d=["",{children:["(main)",{children:["stock",{children:["ingredientsUnit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29440)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\stock\\ingredientsUnit\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94239)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\stock\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],l=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\stock\\ingredientsUnit\\page.tsx"],c="/(main)/stock/ingredientsUnit/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/stock/ingredientsUnit/page",pathname:"/stock/ingredientsUnit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},25521:(e,t,r)=>{Promise.resolve().then(r.bind(r,7061))},12129:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 472a40 40 0 1080 0 40 40 0 10-80 0zm367 352.9L696.3 352V178H768v-68H256v68h71.7v174L145 824.9c-2.8 7.4-4.3 15.2-4.3 23.1 0 35.3 28.7 64 64 64h614.6c7.9 0 15.7-1.5 23.1-4.3 33-12.7 49.4-49.8 36.6-82.8zM395.7 364.7V180h232.6v184.7L719.2 600c-20.7-5.3-42.1-8-63.9-8-61.2 0-119.2 21.5-165.3 60a188.78 188.78 0 01-121.3 43.9c-32.7 0-64.1-8.3-91.8-23.7l118.8-307.5zM210.5 844l41.7-107.8c35.7 18.1 75.4 27.8 116.6 27.8 61.2 0 119.2-21.5 165.3-60 33.9-28.2 76.3-43.9 121.3-43.9 35 0 68.4 9.5 97.6 27.1L813.5 844h-603z"}}]},name:"experiment",theme:"outlined"};var n=r(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let o=i.forwardRef((e,t)=>i.createElement(n.Z,a({},e,{ref:t,icon:s})))},7061:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var i=r(10326),s=r(17577),n=r(58184),a=r(75958),o=r(46752),d=r(92121),l=r(12129),c=r(35047),p=r(37938),x=r(59746),u=r(80440),h=r(94001),g=r(71935),f=r(61357),y=r(75698),b=r(80490),j=r(72380),m=r(56811),v=r(54695),k=r(46024),P=r(63191);let{Text:w,Title:C}=n.default,S={container:{paddingBottom:100,backgroundColor:"#f8f9fc",minHeight:"100vh"},header:{background:"linear-gradient(135deg, #722ed1 0%, #531dab 100%)",padding:"20px 20px 60px 20px",position:"relative",overflow:"hidden"},headerDecoCircle1:{position:"absolute",top:-50,right:-50,width:150,height:150,borderRadius:"50%",background:"rgba(255,255,255,0.1)"},headerDecoCircle2:{position:"absolute",bottom:-30,left:-30,width:100,height:100,borderRadius:"50%",background:"rgba(255,255,255,0.08)"},headerContent:{position:"relative",zIndex:1,display:"flex",alignItems:"center",justifyContent:"space-between"},headerLeft:{display:"flex",alignItems:"center",gap:12},headerIconBox:{width:48,height:48,borderRadius:14,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},headerActions:{display:"flex",gap:8},statsCard:{margin:"-40px 16px 0 16px",padding:"16px",background:"white",borderRadius:20,boxShadow:"0 8px 24px rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-around",position:"relative",zIndex:10},statItem:{textAlign:"center",flex:1},statNumber:{fontSize:24,fontWeight:700,display:"block"},statLabel:{fontSize:12,color:"#8c8c8c",marginTop:2},listContainer:{padding:"20px 16px 0 16px"},sectionTitle:{display:"flex",alignItems:"center",gap:8,marginBottom:16},unitCard:e=>({marginBottom:12,borderRadius:20,border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",overflow:"hidden",transition:"all 0.3s ease",background:e?"white":"linear-gradient(to right, #fafafa, white)",opacity:e?1:.7}),unitCardInner:{padding:16,display:"flex",alignItems:"center",gap:14}},_=()=>i.jsx("style",{children:`
        @keyframes fadeSlideIn {
            from {
                opacity: 0;
                transform: translateY(12px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .unit-card {
            animation: fadeSlideIn 0.4s ease both;
        }
        
        .unit-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.1) !important;
        }
        
        .unit-card:active {
            transform: scale(0.98);
        }
        
        /* Custom scrollbar */
        .ingredients-unit-page *::-webkit-scrollbar {
            width: 6px;
        }
        .ingredients-unit-page *::-webkit-scrollbar-track {
            background: transparent;
        }
        .ingredients-unit-page *::-webkit-scrollbar-thumb {
            background: #d9d9d9;
            border-radius: 3px;
        }
        .ingredients-unit-page *::-webkit-scrollbar-thumb:hover {
            background: #bfbfbf;
        }
    `}),Z=({onRefresh:e,onAdd:t})=>(0,i.jsxs)("div",{style:S.header,children:[i.jsx("div",{style:S.headerDecoCircle1}),i.jsx("div",{style:S.headerDecoCircle2}),(0,i.jsxs)("div",{style:S.headerContent,children:[(0,i.jsxs)("div",{style:S.headerLeft,children:[i.jsx("div",{style:S.headerIconBox,children:i.jsx(l.Z,{style:{fontSize:24,color:"white"}})}),(0,i.jsxs)("div",{children:[i.jsx(w,{style:{color:"rgba(255,255,255,0.85)",fontSize:13,display:"block"},children:"จัดการข้อมูล"}),i.jsx(C,{level:4,style:{color:"white",margin:0,fontWeight:700,letterSpacing:"0.5px"},children:"หน่วยวัตถุดิบ"})]})]}),(0,i.jsxs)("div",{style:S.headerActions,children:[i.jsx(g.ZP,{type:"text",icon:i.jsx(b.Z,{style:{color:"white"}}),onClick:e,style:{background:"rgba(255,255,255,0.2)",borderRadius:12,height:40,width:40}}),i.jsx(g.ZP,{type:"primary",icon:i.jsx(j.Z,{}),onClick:t,style:{background:"white",color:"#722ed1",borderRadius:12,height:40,fontWeight:600,border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:"เพิ่มหน่วย"})]})]})]}),q=({totalUnits:e,activeUnits:t,inactiveUnits:r})=>(0,i.jsxs)("div",{style:S.statsCard,children:[(0,i.jsxs)("div",{style:S.statItem,children:[i.jsx("span",{style:{...S.statNumber,color:"#722ed1"},children:e}),i.jsx(w,{style:S.statLabel,children:"ทั้งหมด"})]}),i.jsx("div",{style:{width:1,background:"#f0f0f0"}}),(0,i.jsxs)("div",{style:S.statItem,children:[i.jsx("span",{style:{...S.statNumber,color:"#52c41a"},children:t}),i.jsx(w,{style:S.statLabel,children:"ใช้งาน"})]}),i.jsx("div",{style:{width:1,background:"#f0f0f0"}}),(0,i.jsxs)("div",{style:S.statItem,children:[i.jsx("span",{style:{...S.statNumber,color:"#ff4d4f"},children:r}),i.jsx(w,{style:S.statLabel,children:"ไม่ใช้งาน"})]})]}),E=({unit:e,index:t,onEdit:r,onDelete:s})=>i.jsx("div",{className:"unit-card",style:{...S.unitCard(e.is_active),animationDelay:`${.03*t}s`},children:(0,i.jsxs)("div",{style:S.unitCardInner,children:[i.jsx("div",{style:{width:52,height:52,borderRadius:14,background:"linear-gradient(135deg, #f9f0ff 0%, #efdbff 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,border:"2px solid #d3adf7"},children:i.jsx(l.Z,{style:{fontSize:24,color:"#722ed1"}})}),(0,i.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[i.jsx(w,{strong:!0,style:{fontSize:16,color:"#1a1a2e"},children:e.display_name}),e.is_active?i.jsx(m.Z,{style:{color:"#52c41a",fontSize:14}}):i.jsx(v.Z,{style:{color:"#ff4d4f",fontSize:14}})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:6,flexWrap:"wrap",alignItems:"center"},children:[i.jsx(f.Z,{color:"purple",style:{borderRadius:8,margin:0,fontSize:12,fontWeight:500},children:e.unit_name}),e.create_date&&(0,i.jsxs)(w,{type:"secondary",style:{fontSize:11},children:["สร้างเมื่อ: ",new Date(e.create_date).toLocaleDateString("th-TH")]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:8},children:[i.jsx(g.ZP,{type:"text",icon:i.jsx(k.Z,{}),onClick:t=>{t.stopPropagation(),r(e)},style:{borderRadius:10,color:"#722ed1",background:"#f9f0ff"}}),i.jsx(g.ZP,{type:"text",danger:!0,icon:i.jsx(P.Z,{}),onClick:t=>{t.stopPropagation(),s(e)},style:{borderRadius:10,background:"#fff2f0"}})]})]})}),z=({onAdd:e})=>i.jsx(y.Z,{image:y.Z.PRESENTED_IMAGE_SIMPLE,description:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[i.jsx(w,{type:"secondary",style:{fontSize:15},children:"ยังไม่มีหน่วยวัตถุดิบ"}),i.jsx("br",{}),i.jsx(w,{type:"secondary",style:{fontSize:13},children:"เริ่มต้นเพิ่มหน่วยวัตถุดิบแรกของคุณ"})]}),style:{padding:"60px 20px",background:"white",borderRadius:20,margin:"0 16px"},children:i.jsx(g.ZP,{type:"primary",icon:i.jsx(j.Z,{}),onClick:e,style:{background:"linear-gradient(135deg, #722ed1 0%, #531dab 100%)",border:"none",borderRadius:12,height:40,fontWeight:600},children:"เพิ่มหน่วยวัตถุดิบ"})});r(81456);let{Text:I}=n.default;function R(){let e=(0,c.useRouter)(),{user:t,loading:r}=(0,h.a)(),[n,g]=(0,s.useState)([]),{execute:f}=(0,x.J)(),{showLoading:y,hideLoading:b}=(0,p.x)(),{socket:j}=(0,u.s)(),[m,v]=(0,s.useState)(""),[k,P]=(0,s.useState)(null),w=(0,s.useCallback)(async()=>{f(async()=>{let e=await fetch("/api/stock/ingredientsUnit/getAll");if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.error||t.message||"ไม่สามารถดึงข้อมูลหน่วยวัตถุดิบได้")}g(await e.json())},"กำลังโหลดข้อมูลหน่วยวัตถุดิบ...")},[f]),C=()=>{y(),e.push("/stock/ingredientsUnit/manage/add"),setTimeout(()=>b(),1e3)},R=t=>{y(),e.push(`/stock/ingredientsUnit/manage/edit/${t.id}`),setTimeout(()=>b(),1e3)},O=e=>{a.Z.confirm({title:"ยืนยันการลบหน่วยวัตถุดิบ",content:`คุณต้องการลบหน่วยวัตถุดิบ "${e.display_name}" หรือไม่?`,okText:"ลบ",okType:"danger",cancelText:"ยกเลิก",centered:!0,onOk:async()=>{await f(async()=>{if(!(await fetch(`/api/stock/ingredientsUnit/delete/${e.id}`,{method:"DELETE",headers:{"X-CSRF-Token":m}})).ok)throw Error("ไม่สามารถลบหน่วยวัตถุดิบได้");o.ZP.success(`ลบหน่วยวัตถุดิบ "${e.display_name}" สำเร็จ`)},"กำลังลบหน่วยวัตถุดิบ...")}})};if(r||null===k)return(0,i.jsxs)("div",{style:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:16},children:[i.jsx(d.Z,{size:"large"}),i.jsx(I,{type:"secondary",children:"กำลังตรวจสอบสิทธิ์การใช้งาน..."})]});if(!1===k)return(0,i.jsxs)("div",{style:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:16},children:[i.jsx(d.Z,{size:"large"}),i.jsx(I,{type:"danger",children:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้ กำลังพากลับหน้าแรก..."})]});let T=n.filter(e=>e.is_active),U=n.filter(e=>!e.is_active);return(0,i.jsxs)("div",{className:"ingredients-unit-page",style:S.container,children:[i.jsx(_,{}),i.jsx(Z,{onRefresh:w,onAdd:C}),i.jsx(q,{totalUnits:n.length,activeUnits:T.length,inactiveUnits:U.length}),i.jsx("div",{style:S.listContainer,children:n.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:S.sectionTitle,children:[i.jsx(l.Z,{style:{fontSize:18,color:"#722ed1"}}),i.jsx("span",{style:{fontSize:16,fontWeight:600,color:"#1a1a2e"},children:"รายการหน่วยวัตถุดิบ"}),(0,i.jsxs)("div",{style:{background:"linear-gradient(135deg, #722ed1 0%, #531dab 100%)",color:"white",padding:"4px 12px",borderRadius:20,fontSize:12,fontWeight:600},children:[n.length," รายการ"]})]}),n.map((e,t)=>i.jsx(E,{unit:e,index:t,onEdit:R,onDelete:O},e.id))]}):i.jsx(z,{onAdd:C})})]})}},59746:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var i=r(17577),s=r(37938),n=r(75958);let a=()=>{let{showLoading:e,hideLoading:t}=(0,s.x)();return{execute:(0,i.useCallback)(async(r,i="กำลังดำเนินการ...",s,a="เกิดข้อผิดพลาด")=>{try{return e(i,"async"),await r()}catch(e){console.error("Async action error:",e),n.Z.error({title:"ข้อผิดพลาด",content:e.message||a});return}finally{t("async")}},[e,t])}}},29440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\stock\ingredientsUnit\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[9276,8674,8571,9042,1399,2414],()=>r(76119));module.exports=i})();