(()=>{var e={};e.id=6797,e.ids=[6797],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},40216:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.Z,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>l}),r(47738),r(94239),r(58522),r(61804),r(7629),r(11930),r(12523);var s=r(23191),n=r(88716),a=r(43315),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let l=["",{children:["(main)",{children:["stock",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47738)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\stock\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,94239)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\stock\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],d=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\stock\\page.tsx"],c="/(main)/stock/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(main)/stock/page",pathname:"/stock",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},99050:(e,t,r)=>{Promise.resolve().then(r.bind(r,75737))},12226:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(17577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var a=r(74082);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let o=s.forwardRef((e,t)=>s.createElement(a.Z,i({},e,{ref:t,icon:n})))},61758:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(17577);let n={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"};var a=r(74082);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let o=s.forwardRef((e,t)=>s.createElement(a.Z,i({},e,{ref:t,icon:n})))},8472:()=>{},51596:(e,t,r)=>{"use strict";r(8472);var s=r(17577),n=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(s),a="undefined"!=typeof process&&process.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,r=t.name,s=void 0===r?"stylesheet":r,n=t.optimizeForSpeed,o=void 0===n?a:n;l(i(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",l("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(i(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var r=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(s){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,r){t&&l(i(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return r?n.insertBefore(s,r):n.appendChild(s),s},function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},c={};function p(e,t){if(!t)return"jsx-"+e;var r=String(t),s=e+r;return c[s]||(c[s]="jsx-"+d(e+"-"+r)),c[s]}function u(e,t){var r=e+(t=t.replace(/\/style/gi,"\\/style"));return c[r]||(c[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[r]}var x=s.createContext(null);x.displayName="StyleSheetContext",n.default.useInsertionEffect||n.default.useLayoutEffect;var g=void 0;function f(e){var t=g||s.useContext(x);return t&&t.add(e),null}f.dynamic=function(e){return e.map(function(e){return p(e[0],e[1])}).join(" ")},t.style=f},77626:(e,t,r)=>{"use strict";e.exports=r(51596).style},75737:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var s=r(10326),n=r(17577);r(72018);var a=r(58184),i=r(56249),o=r(97930),l=r(64635),d=r(11401),c=r(97458),p=r(22327),u=r(9297),x=r(80490),g=r(77626),f=r.n(g),h=r(46752),m=r(61357),b=r(71935),y=r(75958),j=r(46226),v=r(4122),k=r(24895),S=r(61758),w=r(49965),z=r(33540);let{Title:_,Paragraph:P,Text:Z}=a.default,R=({ingredient:e})=>{let{addToCart:t}=(0,z.j)(),[r,a]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),p=(0,n.useCallback)(()=>{l(!0)},[]),u=(0,n.useCallback)(()=>{l(!1)},[]);(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&o&&u()};return o&&document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o,u]);let x=e.img_url||"https://placehold.co/600x400?text=No+Image";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Z,{hoverable:!0,cover:(0,s.jsxs)("div",{onClick:p,style:{position:"relative",overflow:"hidden",borderRadius:"16px 16px 0 0",cursor:"pointer",background:"linear-gradient(145deg, #f8fafc 0%, #e2e8f0 100%)"},className:"jsx-34e97e55521c7fb8",children:[(0,s.jsxs)("div",{style:{position:"relative",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",minHeight:200,maxHeight:280,padding:16},className:"jsx-34e97e55521c7fb8",children:[!d&&s.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(145deg, #f1f5f9 0%, #e2e8f0 100%)"},className:"jsx-34e97e55521c7fb8",children:s.jsx("div",{style:{width:40,height:40,border:"3px solid #e2e8f0",borderTopColor:"#667eea",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-34e97e55521c7fb8"})}),s.jsx("div",{style:{position:"relative",width:"100%",height:"250px"},className:"jsx-34e97e55521c7fb8",children:s.jsx(j.default,{alt:e.display_name,src:x,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"contain",transition:"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), filter 0.3s ease",opacity:d?1:0,borderRadius:8,filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.1))"},onLoad:()=>c(!0),onError:()=>{c(!0)},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.08)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"}})})]}),(0,s.jsxs)("div",{style:{position:"absolute",bottom:12,left:12,padding:"8px 14px",borderRadius:20,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",color:"#fff",display:"flex",alignItems:"center",gap:6,fontSize:12,fontWeight:500,opacity:.8,transition:"all 0.3s ease",border:"1px solid rgba(255,255,255,0.1)"},onMouseEnter:e=>{e.currentTarget.style.opacity="1",e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.opacity="0.8",e.currentTarget.style.transform="scale(1)"},className:"jsx-34e97e55521c7fb8",children:[s.jsx(v.Z,{style:{fontSize:14}}),s.jsx("span",{className:"jsx-34e97e55521c7fb8",children:"ดูรูปขยาย"})]}),e.unit&&s.jsx(m.Z,{style:{position:"absolute",top:12,right:12,margin:0,padding:"8px 16px",fontSize:"13px",fontWeight:600,borderRadius:24,background:"linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%)",backdropFilter:"blur(8px)",color:"#fff",border:"none",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:e.unit.display_name})]}),style:{width:"100%",borderRadius:20,overflow:"hidden",border:"none",boxShadow:"0 4px 24px rgba(0,0,0,0.06)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",background:"#fff"},styles:{body:{padding:"20px 24px 24px",display:"flex",flexDirection:"column",background:"#fff"}},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-10px)",e.currentTarget.style.boxShadow="0 20px 50px rgba(102, 126, 234, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 24px rgba(0,0,0,0.06)"},children:[(0,s.jsxs)("div",{style:{marginBottom:16,flexGrow:1},className:"jsx-34e97e55521c7fb8",children:[s.jsx(_,{level:4,style:{margin:0,marginBottom:6,lineHeight:1.3,fontSize:"20px",fontWeight:700,color:"#1e293b",letterSpacing:"-0.02em"},children:e.display_name}),e.ingredient_name&&s.jsx(Z,{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:e.ingredient_name}),s.jsx(P,{ellipsis:{rows:2,expandable:!1},style:{marginTop:14,marginBottom:0,minHeight:"48px",color:"#64748b",fontSize:"14px",lineHeight:1.7},children:e.description||"ไม่มีคำอธิบาย"})]}),s.jsx(b.ZP,{type:"primary",icon:r?s.jsx(k.Z,{}):s.jsx(S.Z,{}),onClick:r=>{r.stopPropagation(),t(e),a(!0),h.ZP.success(`เพิ่ม ${e.display_name} ลงตะกร้าแล้ว`),setTimeout(()=>a(!1),1500)},block:!0,size:"large",style:{height:52,borderRadius:14,fontSize:"15px",fontWeight:600,background:r?"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)":"linear-gradient(135deg, #0d9488 0%, #059669 100%)",border:"none",boxShadow:r?"0 4px 20px rgba(34, 197, 94, 0.4)":"0 4px 20px rgba(5, 150, 105, 0.35)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:r?"scale(0.98)":"scale(1)"},onMouseEnter:e=>{r||(e.currentTarget.style.transform="translateY(-3px)",e.currentTarget.style.boxShadow="0 8px 28px rgba(5, 150, 105, 0.5)")},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow=r?"0 4px 20px rgba(34, 197, 94, 0.4)":"0 4px 20px rgba(5, 150, 105, 0.35)"},children:r?"เพิ่มแล้ว ✓":"เพิ่มลงตะกร้า"})]}),s.jsx(y.Z,{open:o,onCancel:u,footer:null,centered:!0,width:"auto",style:{maxWidth:"95vw"},styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)"},wrapper:{background:"transparent"},body:{padding:0,background:"transparent"}},closeIcon:s.jsx("div",{style:{position:"fixed",top:20,right:20,width:44,height:44,borderRadius:"50%",background:"rgba(255,255,255,0.15)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",border:"1px solid rgba(255,255,255,0.2)"},className:"jsx-34e97e55521c7fb8",children:s.jsx(w.Z,{style:{color:"#fff",fontSize:18}})}),children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:20,animation:"modalFadeIn 0.3s ease-out"},className:"jsx-34e97e55521c7fb8",children:[s.jsx("div",{style:{background:"rgba(255,255,255,0.08)",borderRadius:20,padding:20,backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 60px rgba(0,0,0,0.5)"},className:"jsx-34e97e55521c7fb8",children:s.jsx("img",{alt:e.display_name,src:x,style:{maxWidth:"85vw",maxHeight:"75vh",width:"auto",height:"auto",objectFit:"contain",borderRadius:12,display:"block"},onError:e=>{e.currentTarget.src="https://placehold.co/600x400?text=No+Image"},className:"jsx-34e97e55521c7fb8"})}),(0,s.jsxs)("div",{style:{textAlign:"center",color:"#fff",maxWidth:"80vw"},className:"jsx-34e97e55521c7fb8",children:[s.jsx(_,{level:3,style:{color:"#fff",margin:0,marginBottom:8,fontWeight:700,textShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:e.display_name}),e.ingredient_name&&s.jsx(Z,{style:{color:"rgba(255,255,255,0.7)",fontSize:16},children:e.ingredient_name}),e.unit&&s.jsx(m.Z,{style:{marginLeft:12,padding:"4px 14px",fontSize:"13px",fontWeight:600,borderRadius:16,background:"linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%)",color:"#fff",border:"none"},children:e.unit.display_name})]})]})}),s.jsx(f(),{id:"34e97e55521c7fb8",children:"@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes modalFadeIn{from{opacity:0;-webkit-transform:scale(.95);transform:scale(.95)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-moz-keyframes modalFadeIn{from{opacity:0;-moz-transform:scale(.95);transform:scale(.95)}to{opacity:1;-moz-transform:scale(1);transform:scale(1)}}@-o-keyframes modalFadeIn{from{opacity:0;-o-transform:scale(.95);transform:scale(.95)}to{opacity:1;-o-transform:scale(1);transform:scale(1)}}@keyframes modalFadeIn{from{opacity:0;-webkit-transform:scale(.95);-moz-transform:scale(.95);-o-transform:scale(.95);transform:scale(.95)}to{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}"})]})};var F=r(90218),T=r(71209),C=r(49909),I=r(63191),q=r(12226),E=r(38572),B=r(72380),O=r(94001);r(81456);var W=r(49713),N=r(35047);let{Text:D,Title:M}=a.default;function L(){let[e,t]=(0,n.useState)(!1),{items:r,updateQuantity:a,clearCart:o,itemCount:c,updateItemNote:p}=(0,z.j)(),{user:x}=(0,O.a)(),g=(0,N.useRouter)(),[f,j]=(0,n.useState)(!1),[v,k]=(0,n.useState)(""),[w,_]=(0,n.useState)(!1),[P,Z]=(0,n.useState)(null),[R,L]=(0,n.useState)(""),A=(e,t,r)=>{Z({id:e,name:t,note:r}),L(r||""),_(!0)},H=async()=>{if(!x){h.ZP.error("กรุณาเข้าสู่ระบบก่อนสั่งซื้อ");return}if(0===r.length){h.ZP.warning("ไม่มีสินค้าในตะกร้า");return}j(!0);try{let e=r.map(e=>({ingredient_id:e.ingredient.id,quantity_ordered:e.quantity}));await W.x.createOrder({ordered_by_id:x.id,items:e,remark:"สั่งซื้อผ่านเว็บ"},void 0,v),h.ZP.success("\uD83C\uDF89 สั่งออเดอร์สำเร็จ!"),o(),t(!1),g.push("/stock/items")}catch(e){console.error("Order failed:",e),h.ZP.error(e.message||"การสั่งซื้อล้มเหลว")}finally{j(!1)}};return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{style:{position:"fixed",bottom:100,right:24,zIndex:1e3},children:s.jsx(d.Z,{count:c,offset:[-8,8],style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"2px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",fontWeight:600},children:s.jsx(b.ZP,{type:"primary",shape:"circle",size:"large",icon:s.jsx(S.Z,{style:{fontSize:28}}),style:{width:64,height:64,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.5)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},onClick:()=>{t(!0)},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.1) translateY(-4px)",e.currentTarget.style.boxShadow="0 12px 32px rgba(102, 126, 234, 0.6)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1) translateY(0)",e.currentTarget.style.boxShadow="0 8px 24px rgba(102, 126, 234, 0.5)"}})})}),s.jsx(F.Z,{title:(0,s.jsxs)(l.Z,{align:"center",size:12,children:[s.jsx("div",{style:{width:40,height:40,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:10,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(S.Z,{style:{color:"#fff",fontSize:20}})}),(0,s.jsxs)("div",{children:[s.jsx(M,{level:5,style:{margin:0,fontSize:18},children:"ตะกร้าสินค้า"}),(0,s.jsxs)(D,{type:"secondary",style:{fontSize:13},children:[c," รายการ"]})]})]}),placement:"right",onClose:()=>{t(!1)},open:e,styles:{wrapper:{width:420},header:{background:"#fafbff",borderBottom:"1px solid #f0f0f0",padding:"16px 24px"},body:{padding:0,background:"#f8f9fc"},footer:{padding:"16px 24px",background:"#fff",borderTop:"1px solid #f0f0f0"}},extra:r.length>0&&s.jsx(b.ZP,{type:"text",danger:!0,icon:s.jsx(I.Z,{}),onClick:()=>y.Z.confirm({title:"ล้างตะกร้า",content:"ยืนยันลบรายการทั้งหมด?",okText:"ยืนยัน",cancelText:"ยกเลิก",okButtonProps:{style:{background:"#ff4d4f"}},onOk:o}),style:{fontWeight:500},children:"ล้าง"}),footer:s.jsx("div",{children:(0,s.jsxs)(b.ZP,{type:"primary",block:!0,size:"large",onClick:H,loading:f,disabled:0===r.length,icon:s.jsx(q.Z,{}),style:{height:56,borderRadius:14,fontSize:17,fontWeight:600,background:0===r.length?"#d9d9d9":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",boxShadow:0===r.length?"none":"0 6px 20px rgba(102, 126, 234, 0.4)"},children:["ยืนยันการสั่งซื้อ (",c," รายการ)"]})}),children:s.jsx("div",{style:{padding:"16px 24px"},children:0===r.length?(0,s.jsxs)("div",{style:{textAlign:"center",marginTop:80},children:[s.jsx("div",{style:{width:120,height:120,margin:"0 auto 24px",background:"linear-gradient(135deg, rgba(102,126,234,0.1) 0%, rgba(118,75,162,0.1) 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(u.Z,{style:{fontSize:56,color:"#667eea"}})}),s.jsx(M,{level:4,style:{color:"#666",marginBottom:8},children:"ตะกร้าว่างเปล่า"}),s.jsx(D,{type:"secondary",style:{fontSize:15},children:"เลือกวัตถุดิบที่ต้องการสั่งซื้อ"})]}):s.jsx(l.Z,{direction:"vertical",size:12,style:{width:"100%"},children:r.map(e=>{let t=e.ingredient.unit?.display_name||"หมวดหมู่ทั่วไป",r=(e.ingredient.price||129)*e.quantity,n=e.details||[];return s.jsx(i.Z,{size:"small",style:{borderRadius:16,border:"none",boxShadow:"0 2px 12px rgba(0,0,0,0.06)",overflow:"hidden",marginBottom:12},styles:{body:{padding:"16px"}},children:(0,s.jsxs)("div",{style:{display:"flex",gap:16},children:[s.jsx("div",{style:{flexShrink:0},children:s.jsx(T.Z,{src:e.ingredient.img_url,shape:"square",size:80,style:{borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}})}),(0,s.jsxs)("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:4},children:[(0,s.jsxs)("div",{style:{flex:1},children:[s.jsx(D,{strong:!0,style:{fontSize:16,color:"#1F2937",display:"block",lineHeight:1.2},children:e.ingredient.display_name}),s.jsx(m.Z,{style:{margin:"4px 0 0",border:"none",background:"#F3F4F6",color:"#6B7280",fontSize:11,borderRadius:6,padding:"0 6px"},children:t})]}),(0,s.jsxs)(D,{strong:!0,style:{fontSize:18,color:"#10B981",lineHeight:1},children:["฿",r.toLocaleString()]})]}),e.note&&s.jsx("div",{style:{marginTop:4,background:"#fef2f2",padding:"2px 6px",borderRadius:4,display:"inline-block",border:"1px solid #fecaca"},children:(0,s.jsxs)(D,{style:{fontSize:11,color:"#ef4444"},children:["\uD83D\uDCDD ",e.note]})}),n.length>0&&s.jsx("div",{style:{marginTop:6,marginBottom:8},children:n.map((e,t)=>(0,s.jsxs)(D,{style:{display:"block",fontSize:12,color:"#10B981",lineHeight:1.4},children:["+ ",e.detail_name," ",(0,s.jsxs)("span",{style:{opacity:.8},children:["(+฿",e.extra_price,")"]})]},t))}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"auto",paddingTop:8},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,background:"#F9FAFB",padding:"2px",borderRadius:8,border:"1px solid #F3F4F6"},children:[s.jsx(b.ZP,{size:"small",type:"text",icon:s.jsx(E.Z,{style:{fontSize:10}}),onClick:()=>a(e.ingredient.id,e.quantity-1),style:{width:24,height:24,minWidth:24}}),s.jsx(D,{strong:!0,style:{fontSize:14,minWidth:16,textAlign:"center"},children:e.quantity}),s.jsx(b.ZP,{size:"small",type:"text",icon:s.jsx(B.Z,{style:{fontSize:10}}),onClick:()=>a(e.ingredient.id,e.quantity+1),style:{width:24,height:24,minWidth:24,background:"#10B981",color:"white"}})]}),(0,s.jsxs)(l.Z,{size:4,children:[s.jsx(b.ZP,{type:"text",size:"small",icon:s.jsx("span",{style:{fontSize:14},children:"\uD83D\uDCDD"}),onClick:()=>A(e.ingredient.id,e.ingredient.display_name,e.note||""),style:{color:"#ef4444",background:"#fef2f2"}}),s.jsx(b.ZP,{type:"text",size:"small",icon:s.jsx(B.Z,{}),style:{color:"#10B981",background:"#ECQF9"}}),s.jsx(b.ZP,{type:"text",size:"small",danger:!0,icon:s.jsx(I.Z,{}),onClick:()=>a(e.ingredient.id,0),style:{background:"#FEF2F2"}})]})]})]})]})},e.ingredient.id)})})})}),s.jsx(y.Z,{title:(0,s.jsxs)(l.Z,{children:[s.jsx("span",{style:{fontSize:20},children:"\uD83D\uDCDD"}),(0,s.jsxs)(D,{strong:!0,style:{fontSize:18},children:["เพิ่มโน๊ต: ",P?.name]})]}),open:w,onOk:()=>{P&&(p(P.id,R),_(!1),Z(null),h.ZP.success("บันทึกโน๊ตเรียบร้อยแล้ว"))},onCancel:()=>_(!1),okText:"บันทึก",cancelText:"ยกเลิก",okButtonProps:{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",height:40,borderRadius:8,padding:"0 24px"}},cancelButtonProps:{style:{height:40,borderRadius:8}},children:(0,s.jsxs)("div",{style:{paddingTop:12},children:[s.jsx(D,{type:"secondary",style:{display:"block",marginBottom:8},children:"รายละเอียดเพิ่มเติมที่ต้องการแจ้ง"}),s.jsx(C.default.TextArea,{rows:4,value:R,onChange:e=>L(e.target.value),placeholder:"เช่น ไม่เผ็ดมาก, แยกน้ำ, ฯลฯ",style:{borderRadius:12,padding:12}})]})})]})}var A=r(80440);let H={container:{minHeight:"100vh",background:"#f8f9fc",fontFamily:"'Inter', 'Sarabun', sans-serif"},heroParams:{background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",padding:"40px 24px 80px",position:"relative",borderBottomLeftRadius:32,borderBottomRightRadius:32,boxShadow:"0 10px 30px -10px rgba(79, 70, 229, 0.3)",marginBottom:-40,zIndex:1,overflow:"hidden"},contentWrapper:{padding:"0 24px 120px",maxWidth:1200,margin:"0 auto",width:"100%",position:"relative",zIndex:2},gridConfig:{gutter:[24,24],xs:1,sm:1,md:2,lg:3,xl:3,xxl:4}},U=()=>s.jsx(f(),{id:"395bfc5f9757b567",children:".hero-pattern{position:absolute;top:0;left:0;width:100%;height:100%;background-image:-webkit-radial-gradient(rgba(255,255,255,.1)1px,transparent 1px);background-image:-moz-radial-gradient(rgba(255,255,255,.1)1px,transparent 1px);background-image:-o-radial-gradient(rgba(255,255,255,.1)1px,transparent 1px);background-image:radial-gradient(rgba(255,255,255,.1)1px,transparent 1px);-webkit-background-size:20px 20px;-moz-background-size:20px 20px;-o-background-size:20px 20px;background-size:20px 20px;opacity:.5;pointer-events:none}.decorative-circle{position:absolute;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.circle-1{width:300px;height:300px;top:-100px;right:-50px}.circle-2{width:150px;height:150px;bottom:-30px;left:10%}@-webkit-keyframes fadeInUp{from{opacity:0;-webkit-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeInUp{from{opacity:0;-moz-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeInUp{from{opacity:0;-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeInUp{from{opacity:0;-webkit-transform:translatey(20px);-moz-transform:translatey(20px);-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.animate-card{-webkit-animation:fadeInUp.6s ease-out forwards;-moz-animation:fadeInUp.6s ease-out forwards;-o-animation:fadeInUp.6s ease-out forwards;animation:fadeInUp.6s ease-out forwards;opacity:0}"}),{Title:G,Text:Y}=a.default;function $(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[g,f]=(0,n.useState)(null),{socket:h}=(0,A.s)(),m=()=>(0,s.jsxs)(i.Z,{style:{borderRadius:16,overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.06)",border:"none"},children:[s.jsx(o.Z.Image,{active:!0,style:{width:"100%",height:180}}),s.jsx("div",{style:{padding:"16px 0"},children:s.jsx(o.Z,{active:!0,paragraph:{rows:2}})})]});return(0,s.jsxs)("div",{style:H.container,children:[s.jsx(U,{}),(0,s.jsxs)("div",{style:H.heroParams,children:[s.jsx("div",{className:"hero-pattern"}),s.jsx("div",{className:"decorative-circle circle-1"}),s.jsx("div",{className:"decorative-circle circle-2"}),(0,s.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto",position:"relative",zIndex:2},children:[(0,s.jsxs)(l.Z,{align:"center",size:16,style:{marginBottom:8},children:[s.jsx(u.Z,{style:{fontSize:32,color:"#fff"}}),s.jsx(G,{level:2,style:{margin:0,color:"#fff",fontWeight:800},children:"เลือกซื้อวัตถุดิบ"})]}),s.jsx(Y,{style:{display:"block",color:"rgba(255,255,255,0.9)",fontSize:16,marginTop:8,paddingLeft:4},children:"คัดสรรวัตถุดิบคุณภาพดีที่สุดเพื่อครัวของคุณ"}),s.jsx("div",{style:{marginTop:24,display:"flex",gap:12},children:s.jsx(d.Z,{count:r?0:e.length,style:{backgroundColor:"#fff",color:"#4f46e5",fontWeight:"bold"},overflowCount:999,children:s.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"6px 16px",borderRadius:20,color:"white",backdropFilter:"blur(4px)",fontWeight:500},children:"รายการทั้งหมด"})})})]})]}),s.jsx("div",{style:H.contentWrapper,children:r?s.jsx(c.Z,{grid:H.gridConfig,dataSource:[1,2,3,4,5,6],renderItem:()=>s.jsx(c.Z.Item,{children:s.jsx(m,{})})}):g?s.jsx(p.ZP,{status:"error",title:"เกิดข้อผิดพลาด",subTitle:g,extra:(0,s.jsxs)("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:8,color:"#fff",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[s.jsx(x.Z,{style:{marginRight:8}}),"ลองใหม่อีกครั้ง"]}),style:{background:"white",padding:40,borderRadius:24,marginTop:24,boxShadow:"0 4px 20px rgba(0,0,0,0.05)"}}):0===e.length?(0,s.jsxs)("div",{style:{background:"white",padding:"60px 20px",borderRadius:24,marginTop:24,textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},children:[s.jsx(u.Z,{style:{color:"#d1d5db",fontSize:80,marginBottom:16}}),s.jsx(G,{level:3,style:{color:"#374151",margin:0},children:"ยังไม่มีวัตถุดิบ"}),s.jsx(Y,{type:"secondary",style:{fontSize:16},children:"ยังไม่มีวัตถุดิบที่พร้อมให้สั่งซื้อในขณะนี้ โปรดกลับมาใหม่ภายหลัง"})]}):s.jsx(c.Z,{grid:H.gridConfig,dataSource:Array.isArray(e)?e:[],renderItem:(e,t)=>s.jsx(c.Z.Item,{className:"animate-card",style:{animationDelay:`${50*t}ms`,marginBottom:24},children:s.jsx(R,{ingredient:e})})})}),s.jsx(L,{})]})}},47738:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\stock\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,8674,8571,6226,9042,1399,2414],()=>r(40216));module.exports=s})();