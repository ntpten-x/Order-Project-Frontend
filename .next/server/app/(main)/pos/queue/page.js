(()=>{var e={};e.id=5465,e.ids=[5465],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},16830:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(79316),r(85429),r(58522),r(61804),r(7629),r(11930),r(12523);var s=r(23191),i=r(88716),a=r(43315),n=r(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let l=["",{children:["(main)",{children:["pos",{children:["queue",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,79316)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\queue\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],c=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\queue\\page.tsx"],d="/(main)/pos/queue/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/pos/queue/page",pathname:"/pos/queue",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},19116:(e,t,r)=>{Promise.resolve().then(r.bind(r,92560))},2643:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var a=r(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let o=s.forwardRef((e,t)=>s.createElement(a.Z,n({},e,{ref:t,icon:i})))},12226:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var a=r(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let o=s.forwardRef((e,t)=>s.createElement(a.Z,n({},e,{ref:t,icon:i})))},6236:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(17577);let i={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var a=r(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let o=s.forwardRef((e,t)=>s.createElement(a.Z,n({},e,{ref:t,icon:i})))},64732:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"};var a=r(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let o=s.forwardRef((e,t)=>s.createElement(a.Z,n({},e,{ref:t,icon:i})))},75621:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};var a=r(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let o=s.forwardRef((e,t)=>s.createElement(a.Z,n({},e,{ref:t,icon:i})))},63699:function(e,t,r){var s;s=function(e){"use strict";var t={name:"th",weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t},e.exports=s(r(88295))},92560:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var s=r(10326),i=r(77626),a=r.n(i),n=r(17577),o=r(66874),l=r(46752),c=r(75958),d=r(91259),u=r(71935),p=r(11401),m=r(61357),h=r(75621),x=r(80490);let f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0012.6 0l112-141.9c4.1-5.2.4-13-6.3-13z"}}]},name:"sort-ascending",theme:"outlined"};var g=r(74082);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let y=n.forwardRef((e,t)=>n.createElement(g.Z,b({},e,{ref:t,icon:f})));var v=r(22817),j=r(64732),q=r(12226),w=r(6236),P=r(63191),k=r(13778),z=r(43822),Z=r(7670),_=r(26902),M=r(84616);let O={container:{minHeight:"100vh",background:"#f5f7fa",fontFamily:"var(--font-sans), 'Sarabun', sans-serif",paddingBottom:100},statsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginBottom:24},statCard:{background:"white",borderRadius:16,padding:20,textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0"},statIcon:{fontSize:32,marginBottom:8},statLabel:{fontSize:13,color:"#8c8c8c",marginTop:4},queueList:{display:"flex",flexDirection:"column",gap:12},queueCard:{background:"white",borderRadius:16,padding:16,boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0",transition:"all 0.3s ease"},queueCardContent:{display:"flex",flexDirection:"column",gap:12},queueCardTop:{display:"flex",alignItems:"center",gap:12},queuePosition:{width:48,height:48,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:700,fontSize:18,flexShrink:0},queueInfo:{flex:1,minWidth:0},queueOrderNo:{fontSize:16,fontWeight:600,color:"#1a1a2e",marginBottom:4},queueTags:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},queueMeta:{display:"flex",flexDirection:"column",gap:4,fontSize:12,color:"#8c8c8c"},queueNotes:{fontSize:12,color:"#8c8c8c",marginTop:4,padding:8,background:"#f8f9fa",borderRadius:8},queueActions:{display:"flex",gap:8,flexWrap:"wrap",marginTop:8}},C=`
    /* Mobile First - Base Styles */
    .queue-header-mobile {
        padding: 20px 16px 50px !important;
    }

    .queue-header-icon-mobile {
        width: 48px !important;
        height: 48px !important;
        font-size: 20px !important;
    }

    .queue-header-title-mobile {
        font-size: 18px !important;
    }

    .queue-header-subtitle-mobile {
        font-size: 12px !important;
    }

    .queue-stats-grid-mobile {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px !important;
    }

    .queue-stat-card-mobile {
        padding: 16px 12px !important;
    }

    .queue-stat-icon-mobile {
        font-size: 28px !important;
    }

    .queue-card-mobile {
        padding: 14px !important;
    }

    .queue-position-mobile {
        width: 44px !important;
        height: 44px !important;
        font-size: 16px !important;
    }

    .queue-order-no-mobile {
        font-size: 15px !important;
    }

    .queue-actions-mobile {
        flex-direction: column !important;
    }

    .queue-actions-mobile button {
        width: 100% !important;
        height: 44px !important;
    }

    /* Tablet (768px+) */
    @media (min-width: 768px) {
        .queue-header-mobile {
            padding: 32px 24px 60px !important;
        }

        .queue-header-icon-mobile {
            width: 64px !important;
            height: 64px !important;
            font-size: 28px !important;
        }

        .queue-header-title-mobile {
            font-size: 24px !important;
        }

        .queue-stats-grid-mobile {
            grid-template-columns: repeat(4, 1fr) !important;
            gap: 16px !important;
        }

        .queue-stat-card-mobile {
            padding: 24px 20px !important;
        }

        .queue-stat-icon-mobile {
            font-size: 36px !important;
        }

        .queue-card-mobile {
            padding: 20px !important;
        }

        .queue-card-content-mobile {
            flex-direction: row !important;
            align-items: center !important;
        }

        .queue-actions-mobile {
            flex-direction: row !important;
            margin-top: 0 !important;
            margin-left: auto !important;
        }

        .queue-actions-mobile button {
            width: auto !important;
        }
    }

    /* Desktop (1024px+) */
    @media (min-width: 1024px) {
        .queue-header-mobile {
            padding: 40px 32px 80px !important;
        }

        .queue-stats-grid-mobile {
            gap: 20px !important;
        }
    }

    /* Animations */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(12px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .queue-card-animate {
        animation: fadeInUp 0.4s ease forwards;
        opacity: 0;
    }

    .queue-card-delay-1 { animation-delay: 0.1s; }
    .queue-card-delay-2 { animation-delay: 0.2s; }
    .queue-card-delay-3 { animation-delay: 0.3s; }
    .queue-card-delay-4 { animation-delay: 0.4s; }

    /* Hover Effects */
    .queue-card-hover:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 16px rgba(0,0,0,0.1) !important;
    }

    .queue-card-hover:active {
        transform: translateY(0);
    }

    /* Touch-friendly */
    @media (max-width: 768px) {
        .queue-card-hover {
            -webkit-tap-highlight-color: rgba(102, 126, 234, 0.1);
        }

        .hide-on-mobile {
            display: none !important;
        }
    }

    @media (min-width: 769px) {
        .hide-on-mobile {
            display: inline !important;
        }
    }
`;var S=r(26963),L=r(76892),E=r(52647),R=r(41096),H=r(60578),N=r(88295),Y=r.n(N);r(63699);let{Text:T}=o.default;Y().locale("th");let F={[z.t.Low]:"default",[z.t.Normal]:"blue",[z.t.High]:"orange",[z.t.Urgent]:"red"},I={[z.t.Low]:"ต่ำ",[z.t.Normal]:"ปกติ",[z.t.High]:"สูง",[z.t.Urgent]:"ด่วน"},A={[z.l.Pending]:"default",[z.l.Processing]:"processing",[z.l.Completed]:"success",[z.l.Cancelled]:"error"},B={[z.l.Pending]:"รอ",[z.l.Processing]:"กำลังดำเนินการ",[z.l.Completed]:"เสร็จสิ้น",[z.l.Cancelled]:"ยกเลิก"};function D(){let[e,t]=(0,n.useState)(void 0),{queue:r,isLoading:i,error:o,updateStatus:f,removeFromQueue:g,reorderQueue:b,isReordering:N,refetch:D}=(0,k.G)(e),{isAuthorized:Q,isChecking:U}=(0,Z.e)({allowedRoles:["Admin","Manager","Employee"]});(0,M.mk)();let W=(e,t)=>{f({id:e.id,data:{status:t}},{onSuccess:()=>{l.ZP.success("อัปเดตสถานะสำเร็จ")}})},G=e=>{c.Z.confirm({title:"ยืนยันการลบออกจากคิว",content:`คุณต้องการลบออเดอร์ "${e.order?.order_no||e.order_id}" ออกจากคิวหรือไม่?`,okText:"ลบ",okType:"danger",cancelText:"ยกเลิก",centered:!0,onOk:()=>{g(e.id,{onSuccess:()=>{l.ZP.success("ลบออกจากคิวสำเร็จ")}})}})};if(U)return s.jsx(_.H,{message:"กำลังตรวจสอบสิทธิ์การใช้งาน..."});if(!Q)return s.jsx(_.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้",tone:"danger"});let V=r.filter(e=>e.status===z.l.Pending),K=r.filter(e=>e.status===z.l.Processing),$=r.filter(e=>e.status===z.l.Completed),X=e=>{switch(e){case z.t.Urgent:return"linear-gradient(135deg, #ff4d4f 0%, #cf1322 100%)";case z.t.High:return"linear-gradient(135deg, #fa8c16 0%, #d48806 100%)";case z.t.Normal:return"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)";default:return"linear-gradient(135deg, #8c8c8c 0%, #595959 100%)"}};return(0,s.jsxs)(s.Fragment,{children:[s.jsx(a(),{id:C.__hash,children:C}),(0,s.jsxs)("div",{style:O.container,children:[s.jsx(E.Z,{title:"Order Queue",subtitle:"จัดการคิวออเดอร์",icon:s.jsx(h.Z,{}),style:{background:"transparent",borderBottom:"none"},actions:(0,s.jsxs)(s.Fragment,{children:[s.jsx(d.default,{value:e,placeholder:(0,H.t)("queue.filter"),allowClear:!0,style:{width:160},size:"middle",onChange:t,dropdownMatchSelectWidth:!0,getPopupContainer:e=>e?.parentElement||document.body,children:Object.values(z.l).map(e=>s.jsx(d.default.Option,{value:e,children:B[e]},e))}),s.jsx(u.ZP,{icon:s.jsx(x.Z,{}),onClick:()=>D(),children:(0,H.t)("queue.refresh")}),s.jsx(u.ZP,{icon:s.jsx(y,{}),onClick:()=>{b(void 0,{onSuccess:()=>{l.ZP.success("จัดเรียงคิวใหม่สำเร็จ")}})},loading:N,type:"primary",children:"จัดเรียง"})]})}),s.jsx(S.Z,{maxWidth:1400,children:(0,s.jsxs)(L.Z,{style:{background:"transparent",border:"none"},children:[(0,s.jsxs)("div",{style:O.statsGrid,className:"queue-stats-grid-mobile",children:[(0,s.jsxs)("div",{style:O.statCard,className:"queue-stat-card-mobile",children:[s.jsx(p.Z,{count:V.length,showZero:!0,offset:[10,-5],children:s.jsx(v.Z,{style:{...O.statIcon,color:"#1890ff"},className:"queue-stat-icon-mobile"})}),s.jsx(T,{style:O.statLabel,children:"รอในคิว"})]}),(0,s.jsxs)("div",{style:O.statCard,className:"queue-stat-card-mobile",children:[s.jsx(p.Z,{count:K.length,showZero:!0,offset:[10,-5],children:s.jsx(j.Z,{style:{...O.statIcon,color:"#fa8c16"},className:"queue-stat-icon-mobile"})}),s.jsx(T,{style:O.statLabel,children:"กำลังดำเนินการ"})]}),(0,s.jsxs)("div",{style:O.statCard,className:"queue-stat-card-mobile",children:[s.jsx(p.Z,{count:$.length,showZero:!0,offset:[10,-5],children:s.jsx(q.Z,{style:{...O.statIcon,color:"#52c41a"},className:"queue-stat-icon-mobile"})}),s.jsx(T,{style:O.statLabel,children:"เสร็จสิ้น"})]}),(0,s.jsxs)("div",{style:O.statCard,className:"queue-stat-card-mobile",children:[s.jsx(p.Z,{count:r.length,showZero:!0,offset:[10,-5],children:s.jsx(h.Z,{style:{...O.statIcon,color:"#722ed1"},className:"queue-stat-icon-mobile"})}),s.jsx(T,{style:O.statLabel,children:"ทั้งหมด"})]})]}),i?s.jsx(R.Z,{status:"loading",title:(0,H.t)("queue.loading")}):o?s.jsx(R.Z,{status:"error",title:(0,H.t)("queue.error"),onRetry:()=>D()}):0===r.length?s.jsx(R.Z,{status:"empty",title:(0,H.t)("queue.empty")}):s.jsx("div",{style:O.queueList,children:r.map((e,t)=>s.jsx("div",{style:O.queueCard,className:`queue-card-hover queue-card-animate queue-card-delay-${t%4+1}`,children:(0,s.jsxs)("div",{style:O.queueCardContent,className:"queue-card-content-mobile",children:[(0,s.jsxs)("div",{style:O.queueCardTop,children:[s.jsx("div",{style:{...O.queuePosition,background:X(e.priority)},className:"queue-position-mobile",children:e.queue_position}),(0,s.jsxs)("div",{style:O.queueInfo,children:[s.jsx(T,{strong:!0,style:O.queueOrderNo,className:"queue-order-no-mobile",children:e.order?.order_no||"N/A"}),(0,s.jsxs)("div",{style:O.queueTags,children:[s.jsx(m.Z,{color:F[e.priority],style:{margin:0,borderRadius:8},children:I[e.priority]}),s.jsx(m.Z,{color:A[e.status],style:{margin:0,borderRadius:8},children:B[e.status]})]}),(0,s.jsxs)("div",{style:O.queueMeta,children:[(0,s.jsxs)(T,{type:"secondary",children:["สร้าง: ",Y()(e.created_at).format("DD/MM/YYYY HH:mm")]}),e.started_at&&(0,s.jsxs)(T,{type:"secondary",children:["เริ่ม: ",Y()(e.started_at).format("HH:mm")]}),e.completed_at&&(0,s.jsxs)(T,{type:"secondary",children:["เสร็จ: ",Y()(e.completed_at).format("HH:mm")]})]}),e.notes&&s.jsx("div",{style:O.queueNotes,children:(0,s.jsxs)(T,{type:"secondary",children:["หมายเหตุ: ",e.notes]})})]})]}),(0,s.jsxs)("div",{style:O.queueActions,className:"queue-actions-mobile",children:[e.status===z.l.Pending&&s.jsx(u.ZP,{type:"primary",icon:s.jsx(j.Z,{}),onClick:()=>W(e,z.l.Processing),size:"middle",style:{borderRadius:10},children:"เริ่มดำเนินการ"}),e.status===z.l.Processing&&s.jsx(u.ZP,{type:"primary",icon:s.jsx(q.Z,{}),onClick:()=>W(e,z.l.Completed),size:"middle",style:{borderRadius:10,background:"#52c41a",borderColor:"#52c41a"},children:"เสร็จสิ้น"}),e.status!==z.l.Completed&&s.jsx(u.ZP,{danger:!0,icon:s.jsx(w.Z,{}),onClick:()=>W(e,z.l.Cancelled),size:"middle",style:{borderRadius:10},children:"ยกเลิก"}),s.jsx(u.ZP,{danger:!0,icon:s.jsx(P.Z,{}),onClick:()=>G(e),size:"middle",style:{borderRadius:10},children:"ลบ"})]})]})},e.id))})]})})]})]})}},26902:(e,t,r)=>{"use strict";r.d(t,{H:()=>g});var s=r(10326),i=r(77626),a=r.n(i),n=r(17577),o=r(66874),l=r(54547),c=r(92121);let d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 1156 0zm152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}}]},name:"lock",theme:"filled"};var u=r(74082);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let m=n.forwardRef((e,t)=>n.createElement(u.Z,p({},e,{ref:t,icon:d})));var h=r(39275);let{Text:x,Title:f}=o.default,g=({message:e,tone:t="secondary"})=>(0,s.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 access-guard-container",children:[s.jsx(l.ZP,{theme:{token:{colorPrimary:"#3b82f6"}},children:(0,s.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 content-wrapper",children:["danger"===t?s.jsx("div",{className:"jsx-e041fd1637d3b0f2 icon-circle danger",children:s.jsx(m,{style:{fontSize:32,color:"#ef4444"}})}):s.jsx("div",{className:"jsx-e041fd1637d3b0f2 spinner-wrapper",children:s.jsx(c.Z,{indicator:s.jsx(h.Z,{style:{fontSize:40},spin:!0})})}),(0,s.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 text-content",children:[s.jsx(f,{level:4,style:{margin:0,color:"#1e293b"},children:"danger"===t?"Access Denied":"Loading"}),s.jsx(x,{type:t,style:{fontSize:16},children:e})]})]})}),s.jsx(a(),{id:"e041fd1637d3b0f2",children:".access-guard-container.jsx-e041fd1637d3b0f2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:100vh;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:#f8fafc}.content-wrapper.jsx-e041fd1637d3b0f2{background:white;padding:40px;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;-webkit-box-shadow:0 20px 40px rgba(0,0,0,.05);-moz-box-shadow:0 20px 40px rgba(0,0,0,.05);box-shadow:0 20px 40px rgba(0,0,0,.05);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:24px;text-align:center;min-width:320px;-webkit-animation:fadeIn.5s ease-out;-moz-animation:fadeIn.5s ease-out;-o-animation:fadeIn.5s ease-out;animation:fadeIn.5s ease-out}.icon-circle.jsx-e041fd1637d3b0f2{width:80px;height:80px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff1f2}.spinner-wrapper.jsx-e041fd1637d3b0f2{padding:20px}.text-content.jsx-e041fd1637d3b0f2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:8px}@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})},52647:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var s=r(10326);r(17577);var i=r(2643),a=r(5591),n=r(3861),o=r(21020),l=r(71935),c=r(66874),d=r(52386);function u({title:e,subtitle:t,icon:r,onBack:u,actions:p,style:m}){let{token:h}=a.default.useToken(),x=n.default.useBreakpoint().md?d.H.pagePaddingXDesktop:d.H.pagePaddingXMobile;return s.jsx("div",{style:{padding:`${d.H.pagePaddingY}px ${x}px`,background:h.colorBgContainer,borderBottom:`1px solid ${h.colorBorderSecondary}`,...m},children:(0,s.jsxs)(o.Z,{align:"center",justify:"space-between",wrap:"wrap",gap:12,style:{maxWidth:d.H.pageMaxWidth,margin:"0 auto"},children:[(0,s.jsxs)(o.Z,{align:"center",gap:12,style:{minWidth:0},children:[u&&s.jsx(l.ZP,{type:"text","aria-label":"ย้อนกลับ",icon:s.jsx(i.Z,{}),onClick:u,style:{borderRadius:12,width:44,height:44}}),r&&s.jsx("div",{style:{width:44,height:44,borderRadius:14,display:"grid",placeItems:"center",background:h.colorFillTertiary,color:h.colorText},children:r}),(0,s.jsxs)("div",{style:{minWidth:0},children:[s.jsx(c.default.Title,{level:4,style:{margin:0},children:e}),t&&s.jsx(c.default.Text,{type:"secondary",children:t})]})]}),p&&s.jsx(o.Z,{gap:8,wrap:"wrap",children:p})]})})}},41096:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var s=r(10326);r(17577);var i=r(66874),a=r(21020),n=r(92121),o=r(22327),l=r(71935),c=r(52386),d=r(60578);let{Text:u}=i.default;function p({status:e,title:t,description:r,onRetry:i,action:p,style:m}){return"loading"===e?(0,s.jsxs)(a.Z,{align:"center",justify:"center",style:{minHeight:200,...m,gap:12},children:[s.jsx(n.Z,{size:"large"}),s.jsx(u,{type:"secondary",children:t||(0,d.t)("network.loading")})]}):"error"===e?s.jsx(o.ZP,{status:"error",title:t||(0,d.t)("page.error"),subTitle:r,extra:p||(i?s.jsx(l.ZP,{type:"primary",onClick:i,children:(0,d.t)("page.retry")}):void 0),style:{padding:c.H.pagePaddingY,...m}}):s.jsx(o.ZP,{status:"info",title:t||(0,d.t)("page.empty"),subTitle:r,extra:p,style:{padding:c.H.pagePaddingY,...m}})}},13778:(e,t,r)=>{"use strict";r.d(t,{G:()=>u});var s=r(44976),i=r(20108),a=r(10119),n=r(17577),o=r(19211),l=r(52249),c=r(46752);r(83179);var d=r(60578);function u(e){let{socket:t}=(0,n.useContext)(o.J),r=(0,s.NL)(),u=["orderQueue",e||"all"],{data:p=[],isLoading:m,error:h,refetch:x}=(0,i.a)({queryKey:u,queryFn:async()=>await l.e.getAll(void 0,e),staleTime:2e3}),f=(0,a.D)({mutationFn:e=>l.e.addToQueue(e),onSuccess:()=>{r.invalidateQueries({queryKey:u,exact:!0}),c.ZP.success((0,d.t)("queue.addSuccess"))},onError:e=>{c.ZP.error(e.message||(0,d.t)("queue.addError"))}}),g=(0,a.D)({mutationFn:({id:e,data:t})=>l.e.updateStatus(e,t),onSuccess:()=>{r.invalidateQueries({queryKey:u,exact:!0}),c.ZP.success((0,d.t)("queue.updateStatusSuccess"))},onError:e=>{c.ZP.error(e.message||(0,d.t)("queue.updateStatusError"))}}),b=(0,a.D)({mutationFn:e=>l.e.removeFromQueue(e),onSuccess:()=>{r.invalidateQueries({queryKey:u,exact:!0}),c.ZP.success((0,d.t)("queue.removeSuccess"))},onError:e=>{c.ZP.error(e.message||(0,d.t)("queue.removeError"))}}),y=(0,a.D)({mutationFn:()=>l.e.reorderQueue(),onSuccess:()=>{r.invalidateQueries({queryKey:u,exact:!0}),c.ZP.success((0,d.t)("queue.reorderSuccess"))},onError:e=>{c.ZP.error(e.message||(0,d.t)("queue.reorderError"))}});return{queue:p,isLoading:m,error:h,refetch:x,addToQueue:f.mutate,updateStatus:g.mutate,removeFromQueue:b.mutate,reorderQueue:y.mutate,isAdding:f.isPending,isUpdating:g.isPending,isRemoving:b.isPending,isReordering:y.isPending}}},43822:(e,t,r)=>{"use strict";var s,i;r.d(t,{l:()=>s,t:()=>i}),function(e){e.Pending="Pending",e.Processing="Processing",e.Completed="Completed",e.Cancelled="Cancelled"}(s||(s={})),function(e){e.Low="Low",e.Normal="Normal",e.High="High",e.Urgent="Urgent"}(i||(i={}))},7670:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var s=r(17577),i=r(35047),a=r(94001);function n({allowedRoles:e,requiredRole:t="Admin",redirectUnauthenticated:r="/login",redirectUnauthorized:n="/pos",unauthorizedMessage:o="คุณไม่มีสิทธิ์เข้าถึงหน้านี้"}={}){(0,i.useRouter)();let{user:l,loading:c}=(0,a.a)(),d=(0,s.useMemo)(()=>e&&e.length>0?e:t?[t]:void 0,[e,t]),u=(0,s.useMemo)(()=>(function(e,t,r){if(t)return"checking";if(!e)return"unauthenticated";if(r&&r.length>0){var s;let t="Admin"===(s=e.role)||"Manager"===s||"Employee"===s?s:null;if(!t||!(r.includes(t)||"Admin"===t))return"unauthorized"}return"authorized"})(l,c,d),[l,c,d]);return(0,s.useRef)(!1),{status:u,isAuthorized:"authorized"===u,isChecking:"checking"===u,user:l}}},79316:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\queue\page.tsx#default`)},10119:(e,t,r)=>{"use strict";r.d(t,{D:()=>d});var s=r(17577),i=r(71180),a=r(12113),n=r(64351),o=r(3341),l=class extends n.l{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){let e=this.#r?.state??(0,i.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.Vr.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,t,r,s)}catch(e){Promise.reject(e)}try{this.#s.onSettled?.(e.data,null,t,r,s)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,t,r,s)}catch(e){Promise.reject(e)}try{this.#s.onSettled?.(void 0,e.error,t,r,s)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#t)})})}},c=r(44976);function d(e,t){let r=(0,c.NL)(t),[i]=s.useState(()=>new l(r,e));s.useEffect(()=>{i.setOptions(e)},[i,e]);let n=s.useSyncExternalStore(s.useCallback(e=>i.subscribe(a.Vr.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=s.useCallback((e,t)=>{i.mutate(e,t).catch(o.ZT)},[i]);if(n.error&&(0,o.L3)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:d,mutateAsync:n.mutate}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,4421,8571,8842,108,8963,1399,4658],()=>r(16830));module.exports=s})();