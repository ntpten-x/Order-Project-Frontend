(()=>{var e={};e.id=5465,e.ids=[5465],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},16830:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>l}),r(79316),r(85429),r(58522),r(61804),r(7629),r(11930),r(12523);var i=r(23191),s=r(88716),a=r(43315),o=r(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let l=["",{children:["(main)",{children:["pos",{children:["queue",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,79316)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\queue\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],d=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\queue\\page.tsx"],c="/(main)/pos/queue/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/pos/queue/page",pathname:"/pos/queue",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},19116:(e,t,r)=>{Promise.resolve().then(r.bind(r,92560))},12226:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var a=r(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let n=i.forwardRef((e,t)=>i.createElement(a.Z,o({},e,{ref:t,icon:s})))},6236:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(17577);let s={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var a=r(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let n=i.forwardRef((e,t)=>i.createElement(a.Z,o({},e,{ref:t,icon:s})))},64732:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"};var a=r(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let n=i.forwardRef((e,t)=>i.createElement(a.Z,o({},e,{ref:t,icon:s})))},75621:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};var a=r(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let n=i.forwardRef((e,t)=>i.createElement(a.Z,o({},e,{ref:t,icon:s})))},63699:function(e,t,r){var i;i=function(e){"use strict";var t={name:"th",weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t},e.exports=i(r(88295))},92560:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var i=r(10326),s=r(77626),a=r.n(s),o=r(17577),n=r(58184),l=r(46752),d=r(75958),c=r(91259),u=r(71935),p=r(11401),m=r(75698),h=r(61357),x=r(75621),f=r(80490);let b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0012.6 0l112-141.9c4.1-5.2.4-13-6.3-13z"}}]},name:"sort-ascending",theme:"outlined"};var g=r(74082);function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let v=o.forwardRef((e,t)=>o.createElement(g.Z,y({},e,{ref:t,icon:b})));var j=r(22817),w=r(64732),q=r(12226),k=r(6236),P=r(63191),z=r(13778),_=r(43822),C=r(45207),O=r(26902),M=r(84616);let Z={container:{minHeight:"100vh",background:"#f5f7fa",fontFamily:"'Inter', 'Sarabun', sans-serif",paddingBottom:100},header:{background:"linear-gradient(135deg, #6366F1 0%, #4F46E5 100%)",padding:"16px 16px 48px",position:"relative",borderBottomLeftRadius:20,borderBottomRightRadius:20,boxShadow:"0 4px 16px rgba(99, 102, 241, 0.2)",zIndex:1,overflow:"hidden"},headerContent:{maxWidth:1400,margin:"0 auto",position:"relative",zIndex:2},headerTop:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,marginBottom:20,flexWrap:"wrap"},headerLeft:{display:"flex",alignItems:"center",gap:12,flex:1,minWidth:200},headerIconBox:{width:56,height:56,borderRadius:14,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},headerTitleBox:{flex:1},headerSubtitle:{color:"rgba(255,255,255,0.85)",fontSize:13,display:"block",marginBottom:4},headerTitle:{color:"white",fontSize:20,fontWeight:700,margin:0,lineHeight:1.2},headerActions:{display:"flex",gap:8,flexWrap:"wrap"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginBottom:24},statCard:{background:"white",borderRadius:16,padding:20,textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0"},statIcon:{fontSize:32,marginBottom:8},statLabel:{fontSize:13,color:"#8c8c8c",marginTop:4},queueList:{display:"flex",flexDirection:"column",gap:12},queueCard:{background:"white",borderRadius:16,padding:16,boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0",transition:"all 0.3s ease"},queueCardContent:{display:"flex",flexDirection:"column",gap:12},queueCardTop:{display:"flex",alignItems:"center",gap:12},queuePosition:{width:48,height:48,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:700,fontSize:18,flexShrink:0},queueInfo:{flex:1,minWidth:0},queueOrderNo:{fontSize:16,fontWeight:600,color:"#1a1a2e",marginBottom:4},queueTags:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},queueMeta:{display:"flex",flexDirection:"column",gap:4,fontSize:12,color:"#8c8c8c"},queueNotes:{fontSize:12,color:"#8c8c8c",marginTop:4,padding:8,background:"#f8f9fa",borderRadius:8},queueActions:{display:"flex",gap:8,flexWrap:"wrap",marginTop:8},emptyCard:{background:"white",borderRadius:16,padding:60,textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"}},S=`
    /* Mobile First - Base Styles */
    .queue-header-mobile {
        padding: 20px 16px 50px !important;
    }

    .queue-header-icon-mobile {
        width: 48px !important;
        height: 48px !important;
        font-size: 20px !important;
    }

    .queue-header-title-mobile {
        font-size: 18px !important;
    }

    .queue-header-subtitle-mobile {
        font-size: 12px !important;
    }

    .queue-stats-grid-mobile {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px !important;
    }

    .queue-stat-card-mobile {
        padding: 16px 12px !important;
    }

    .queue-stat-icon-mobile {
        font-size: 28px !important;
    }

    .queue-card-mobile {
        padding: 14px !important;
    }

    .queue-position-mobile {
        width: 44px !important;
        height: 44px !important;
        font-size: 16px !important;
    }

    .queue-order-no-mobile {
        font-size: 15px !important;
    }

    .queue-actions-mobile {
        flex-direction: column !important;
    }

    .queue-actions-mobile button {
        width: 100% !important;
        height: 44px !important;
    }

    /* Tablet (768px+) */
    @media (min-width: 768px) {
        .queue-header-mobile {
            padding: 32px 24px 60px !important;
        }

        .queue-header-icon-mobile {
            width: 64px !important;
            height: 64px !important;
            font-size: 28px !important;
        }

        .queue-header-title-mobile {
            font-size: 24px !important;
        }

        .queue-stats-grid-mobile {
            grid-template-columns: repeat(4, 1fr) !important;
            gap: 16px !important;
        }

        .queue-stat-card-mobile {
            padding: 24px 20px !important;
        }

        .queue-stat-icon-mobile {
            font-size: 36px !important;
        }

        .queue-card-mobile {
            padding: 20px !important;
        }

        .queue-card-content-mobile {
            flex-direction: row !important;
            align-items: center !important;
        }

        .queue-actions-mobile {
            flex-direction: row !important;
            margin-top: 0 !important;
            margin-left: auto !important;
        }

        .queue-actions-mobile button {
            width: auto !important;
        }
    }

    /* Desktop (1024px+) */
    @media (min-width: 1024px) {
        .queue-header-mobile {
            padding: 40px 32px 80px !important;
        }

        .queue-stats-grid-mobile {
            gap: 20px !important;
        }
    }

    /* Animations */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(12px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .queue-card-animate {
        animation: fadeInUp 0.4s ease forwards;
        opacity: 0;
    }

    .queue-card-delay-1 { animation-delay: 0.1s; }
    .queue-card-delay-2 { animation-delay: 0.2s; }
    .queue-card-delay-3 { animation-delay: 0.3s; }
    .queue-card-delay-4 { animation-delay: 0.4s; }

    /* Hover Effects */
    .queue-card-hover:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 16px rgba(0,0,0,0.1) !important;
    }

    .queue-card-hover:active {
        transform: translateY(0);
    }

    /* Touch-friendly */
    @media (max-width: 768px) {
        .queue-card-hover {
            -webkit-tap-highlight-color: rgba(102, 126, 234, 0.1);
        }

        .hide-on-mobile {
            display: none !important;
        }
    }

    @media (min-width: 769px) {
        .hide-on-mobile {
            display: inline !important;
        }
    }
`;var R=r(88295),L=r.n(R);r(63699);let{Text:N,Title:E}=n.default;L().locale("th");let H={[_.t.Low]:"default",[_.t.Normal]:"blue",[_.t.High]:"orange",[_.t.Urgent]:"red"},I={[_.t.Low]:"ต่ำ",[_.t.Normal]:"ปกติ",[_.t.High]:"สูง",[_.t.Urgent]:"ด่วน"},T={[_.l.Pending]:"default",[_.l.Processing]:"processing",[_.l.Completed]:"success",[_.l.Cancelled]:"error"},Y={[_.l.Pending]:"รอ",[_.l.Processing]:"กำลังดำเนินการ",[_.l.Completed]:"เสร็จสิ้น",[_.l.Cancelled]:"ยกเลิก"};function F(){let[e,t]=(0,o.useState)(void 0),{queue:r,isLoading:s,updateStatus:n,removeFromQueue:b,reorderQueue:g,isReordering:y}=(0,z.G)(e),{isAuthorized:R,isChecking:F}=(0,C.e)({requiredRole:"Admin"});(0,M.mk)();let A=(e,t)=>{n({id:e.id,data:{status:t}},{onSuccess:()=>{l.ZP.success("อัปเดตสถานะสำเร็จ")}})},B=e=>{d.Z.confirm({title:"ยืนยันการลบออกจากคิว",content:`คุณต้องการลบออเดอร์ "${e.order?.order_no||e.order_id}" ออกจากคิวหรือไม่?`,okText:"ลบ",okType:"danger",cancelText:"ยกเลิก",centered:!0,onOk:()=>{b(e.id,{onSuccess:()=>{l.ZP.success("ลบออกจากคิวสำเร็จ")}})}})};if(F)return i.jsx(O.H,{message:"กำลังตรวจสอบสิทธิ์การใช้งาน..."});if(!R)return i.jsx(O.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้",tone:"danger"});let D=r.filter(e=>e.status===_.l.Pending),Q=r.filter(e=>e.status===_.l.Processing),W=r.filter(e=>e.status===_.l.Completed),K=e=>{switch(e){case _.t.Urgent:return"linear-gradient(135deg, #ff4d4f 0%, #cf1322 100%)";case _.t.High:return"linear-gradient(135deg, #fa8c16 0%, #d48806 100%)";case _.t.Normal:return"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)";default:return"linear-gradient(135deg, #8c8c8c 0%, #595959 100%)"}};return(0,i.jsxs)(i.Fragment,{children:[i.jsx(a(),{id:S.__hash,children:S}),(0,i.jsxs)("div",{style:Z.container,children:[(0,i.jsxs)("div",{style:Z.header,className:"queue-header-mobile",children:[i.jsx("div",{style:{position:"absolute",top:-50,right:-50,width:200,height:200,borderRadius:"50%",background:"rgba(255,255,255,0.08)",pointerEvents:"none"}}),i.jsx("div",{style:{position:"absolute",bottom:-30,left:-30,width:120,height:120,borderRadius:"50%",background:"rgba(255,255,255,0.06)",pointerEvents:"none"}}),i.jsx("div",{style:Z.headerContent,children:(0,i.jsxs)("div",{style:Z.headerTop,children:[(0,i.jsxs)("div",{style:Z.headerLeft,children:[i.jsx("div",{style:Z.headerIconBox,className:"queue-header-icon-mobile",children:i.jsx(x.Z,{style:{fontSize:24,color:"white"}})}),(0,i.jsxs)("div",{style:Z.headerTitleBox,children:[i.jsx(N,{style:Z.headerSubtitle,className:"queue-header-subtitle-mobile",children:"จัดการคิวออเดอร์"}),i.jsx(E,{level:3,style:Z.headerTitle,className:"queue-header-title-mobile",children:"Order Queue"})]})]}),(0,i.jsxs)("div",{style:Z.headerActions,children:[i.jsx(c.default,{value:e,placeholder:"กรองสถานะ",allowClear:!0,style:{width:140,minWidth:120},size:"middle",onChange:t,children:Object.values(_.l).map(e=>i.jsx(c.default.Option,{value:e,children:Y[e]},e))}),i.jsx(u.ZP,{icon:i.jsx(f.Z,{}),onClick:()=>window.location.reload(),style:{background:"rgba(255,255,255,0.2)",color:"white",border:"none",borderRadius:10},size:"middle"}),i.jsx(u.ZP,{icon:i.jsx(v,{}),onClick:()=>{g(void 0,{onSuccess:()=>{l.ZP.success("จัดเรียงคิวใหม่สำเร็จ")}})},loading:y,style:{background:"white",color:"#667eea",borderRadius:10,fontWeight:600},size:"middle",children:i.jsx("span",{className:"hide-on-mobile",children:"จัดเรียง"})})]})]})})]}),(0,i.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"48px 16px 80px"},children:[(0,i.jsxs)("div",{style:Z.statsGrid,className:"queue-stats-grid-mobile",children:[(0,i.jsxs)("div",{style:Z.statCard,className:"queue-stat-card-mobile",children:[i.jsx(p.Z,{count:D.length,showZero:!0,offset:[10,-5],children:i.jsx(j.Z,{style:{...Z.statIcon,color:"#1890ff"},className:"queue-stat-icon-mobile"})}),i.jsx(N,{style:Z.statLabel,children:"รอในคิว"})]}),(0,i.jsxs)("div",{style:Z.statCard,className:"queue-stat-card-mobile",children:[i.jsx(p.Z,{count:Q.length,showZero:!0,offset:[10,-5],children:i.jsx(w.Z,{style:{...Z.statIcon,color:"#fa8c16"},className:"queue-stat-icon-mobile"})}),i.jsx(N,{style:Z.statLabel,children:"กำลังดำเนินการ"})]}),(0,i.jsxs)("div",{style:Z.statCard,className:"queue-stat-card-mobile",children:[i.jsx(p.Z,{count:W.length,showZero:!0,offset:[10,-5],children:i.jsx(q.Z,{style:{...Z.statIcon,color:"#52c41a"},className:"queue-stat-icon-mobile"})}),i.jsx(N,{style:Z.statLabel,children:"เสร็จสิ้น"})]}),(0,i.jsxs)("div",{style:Z.statCard,className:"queue-stat-card-mobile",children:[i.jsx(p.Z,{count:r.length,showZero:!0,offset:[10,-5],children:i.jsx(x.Z,{style:{...Z.statIcon,color:"#722ed1"},className:"queue-stat-icon-mobile"})}),i.jsx(N,{style:Z.statLabel,children:"ทั้งหมด"})]})]}),s?i.jsx("div",{style:Z.emptyCard,children:i.jsx(m.Z,{description:"กำลังโหลด..."})}):0===r.length?i.jsx("div",{style:Z.emptyCard,children:i.jsx(m.Z,{description:"ยังไม่มีออเดอร์ในคิว"})}):i.jsx("div",{style:Z.queueList,children:r.map((e,t)=>i.jsx("div",{style:Z.queueCard,className:`queue-card-hover queue-card-animate queue-card-delay-${t%4+1}`,children:(0,i.jsxs)("div",{style:Z.queueCardContent,className:"queue-card-content-mobile",children:[(0,i.jsxs)("div",{style:Z.queueCardTop,children:[i.jsx("div",{style:{...Z.queuePosition,background:K(e.priority)},className:"queue-position-mobile",children:e.queue_position}),(0,i.jsxs)("div",{style:Z.queueInfo,children:[i.jsx(N,{strong:!0,style:Z.queueOrderNo,className:"queue-order-no-mobile",children:e.order?.order_no||"N/A"}),(0,i.jsxs)("div",{style:Z.queueTags,children:[i.jsx(h.Z,{color:H[e.priority],style:{margin:0,borderRadius:8},children:I[e.priority]}),i.jsx(h.Z,{color:T[e.status],style:{margin:0,borderRadius:8},children:Y[e.status]})]}),(0,i.jsxs)("div",{style:Z.queueMeta,children:[(0,i.jsxs)(N,{type:"secondary",children:["สร้าง: ",L()(e.created_at).format("DD/MM/YYYY HH:mm")]}),e.started_at&&(0,i.jsxs)(N,{type:"secondary",children:["เริ่ม: ",L()(e.started_at).format("HH:mm")]}),e.completed_at&&(0,i.jsxs)(N,{type:"secondary",children:["เสร็จ: ",L()(e.completed_at).format("HH:mm")]})]}),e.notes&&i.jsx("div",{style:Z.queueNotes,children:(0,i.jsxs)(N,{type:"secondary",children:["หมายเหตุ: ",e.notes]})})]})]}),(0,i.jsxs)("div",{style:Z.queueActions,className:"queue-actions-mobile",children:[e.status===_.l.Pending&&i.jsx(u.ZP,{type:"primary",icon:i.jsx(w.Z,{}),onClick:()=>A(e,_.l.Processing),size:"middle",style:{borderRadius:10},children:"เริ่มดำเนินการ"}),e.status===_.l.Processing&&i.jsx(u.ZP,{type:"primary",icon:i.jsx(q.Z,{}),onClick:()=>A(e,_.l.Completed),size:"middle",style:{borderRadius:10,background:"#52c41a",borderColor:"#52c41a"},children:"เสร็จสิ้น"}),e.status!==_.l.Completed&&i.jsx(u.ZP,{danger:!0,icon:i.jsx(k.Z,{}),onClick:()=>A(e,_.l.Cancelled),size:"middle",style:{borderRadius:10},children:"ยกเลิก"}),i.jsx(u.ZP,{danger:!0,icon:i.jsx(P.Z,{}),onClick:()=>B(e),size:"middle",style:{borderRadius:10},children:"ลบ"})]})]})},e.id))})]})]})]})}},26902:(e,t,r)=>{"use strict";r.d(t,{H:()=>b});var i=r(10326),s=r(77626),a=r.n(s),o=r(17577),n=r(58184),l=r(54547),d=r(92121);let c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 1156 0zm152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}}]},name:"lock",theme:"filled"};var u=r(74082);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let m=o.forwardRef((e,t)=>o.createElement(u.Z,p({},e,{ref:t,icon:c})));var h=r(39275);let{Text:x,Title:f}=n.default,b=({message:e,tone:t="secondary"})=>(0,i.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 access-guard-container",children:[i.jsx(l.ZP,{theme:{token:{colorPrimary:"#3b82f6"}},children:(0,i.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 content-wrapper",children:["danger"===t?i.jsx("div",{className:"jsx-e041fd1637d3b0f2 icon-circle danger",children:i.jsx(m,{style:{fontSize:32,color:"#ef4444"}})}):i.jsx("div",{className:"jsx-e041fd1637d3b0f2 spinner-wrapper",children:i.jsx(d.Z,{indicator:i.jsx(h.Z,{style:{fontSize:40},spin:!0})})}),(0,i.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 text-content",children:[i.jsx(f,{level:4,style:{margin:0,color:"#1e293b"},children:"danger"===t?"Access Denied":"Loading"}),i.jsx(x,{type:t,style:{fontSize:16},children:e})]})]})}),i.jsx(a(),{id:"e041fd1637d3b0f2",children:".access-guard-container.jsx-e041fd1637d3b0f2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:100vh;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:#f8fafc}.content-wrapper.jsx-e041fd1637d3b0f2{background:white;padding:40px;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;-webkit-box-shadow:0 20px 40px rgba(0,0,0,.05);-moz-box-shadow:0 20px 40px rgba(0,0,0,.05);box-shadow:0 20px 40px rgba(0,0,0,.05);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:24px;text-align:center;min-width:320px;-webkit-animation:fadeIn.5s ease-out;-moz-animation:fadeIn.5s ease-out;-o-animation:fadeIn.5s ease-out;animation:fadeIn.5s ease-out}.icon-circle.jsx-e041fd1637d3b0f2{width:80px;height:80px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff1f2}.spinner-wrapper.jsx-e041fd1637d3b0f2{padding:20px}.text-content.jsx-e041fd1637d3b0f2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:8px}@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})},13778:(e,t,r)=>{"use strict";r.d(t,{G:()=>c});var i=r(44976),s=r(20108),a=r(10119),o=r(17577),n=r(19211),l=r(52249),d=r(46752);function c(e){let{socket:t}=(0,o.useContext)(n.J),r=(0,i.NL)(),{data:c=[],isLoading:u,refetch:p}=(0,s.a)({queryKey:["orderQueue",e],queryFn:async()=>await l.e.getAll(void 0,e),staleTime:2e3}),m=(0,a.D)({mutationFn:e=>l.e.addToQueue(e),onSuccess:()=>{r.invalidateQueries({queryKey:["orderQueue"]}),d.ZP.success("เพิ่มออเดอร์เข้าคิวสำเร็จ")},onError:e=>{d.ZP.error(e.message||"ไม่สามารถเพิ่มออเดอร์เข้าคิวได้")}}),h=(0,a.D)({mutationFn:({id:e,data:t})=>l.e.updateStatus(e,t),onSuccess:()=>{r.invalidateQueries({queryKey:["orderQueue"]}),d.ZP.success("อัปเดตสถานะสำเร็จ")},onError:e=>{d.ZP.error(e.message||"ไม่สามารถอัปเดตสถานะได้")}}),x=(0,a.D)({mutationFn:e=>l.e.removeFromQueue(e),onSuccess:()=>{r.invalidateQueries({queryKey:["orderQueue"]}),d.ZP.success("ลบออกจากคิวสำเร็จ")},onError:e=>{d.ZP.error(e.message||"ไม่สามารถลบออกจากคิวได้")}}),f=(0,a.D)({mutationFn:()=>l.e.reorderQueue(),onSuccess:()=>{r.invalidateQueries({queryKey:["orderQueue"]}),d.ZP.success("จัดเรียงคิวใหม่สำเร็จ")},onError:e=>{d.ZP.error(e.message||"ไม่สามารถจัดเรียงคิวใหม่ได้")}});return{queue:c,isLoading:u,refetch:p,addToQueue:m.mutate,updateStatus:h.mutate,removeFromQueue:x.mutate,reorderQueue:f.mutate,isAdding:m.isPending,isUpdating:h.isPending,isRemoving:x.isPending,isReordering:f.isPending}}},43822:(e,t,r)=>{"use strict";var i,s;r.d(t,{l:()=>i,t:()=>s}),function(e){e.Pending="Pending",e.Processing="Processing",e.Completed="Completed",e.Cancelled="Cancelled"}(i||(i={})),function(e){e.Low="Low",e.Normal="Normal",e.High="High",e.Urgent="Urgent"}(s||(s={}))},45207:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var i=r(17577),s=r(35047),a=r(94001);function o({requiredRole:e="Admin",redirectUnauthenticated:t="/login",redirectUnauthorized:r="/pos",unauthorizedMessage:o="คุณไม่มีสิทธิ์เข้าถึงหน้านี้"}={}){(0,s.useRouter)();let{user:n,loading:l}=(0,a.a)(),d=(0,i.useMemo)(()=>l?"checking":n?e&&n.role!==e?"unauthorized":"authorized":"unauthenticated",[n,l,e]);return(0,i.useRef)(!1),{status:d,isAuthorized:"authorized"===d,isChecking:"checking"===d,user:n}}},79316:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\queue\page.tsx#default`)},10119:(e,t,r)=>{"use strict";r.d(t,{D:()=>c});var i=r(17577),s=r(71180),a=r(12113),o=r(64351),n=r(3341),l=class extends o.l{#e;#t=void 0;#r;#i;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,n.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,n.Ym)(t.mutationKey)!==(0,n.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#a()}mutate(e,t){return this.#i=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#s(){let e=this.#r?.state??(0,s.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.Vr.batch(()=>{if(this.#i&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#i.onSuccess?.(e.data,t,r,i)}catch(e){Promise.reject(e)}try{this.#i.onSettled?.(e.data,null,t,r,i)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#i.onError?.(e.error,t,r,i)}catch(e){Promise.reject(e)}try{this.#i.onSettled?.(void 0,e.error,t,r,i)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#t)})})}},d=r(44976);function c(e,t){let r=(0,d.NL)(t),[s]=i.useState(()=>new l(r,e));i.useEffect(()=>{s.setOptions(e)},[s,e]);let o=i.useSyncExternalStore(i.useCallback(e=>s.subscribe(a.Vr.batchCalls(e)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),c=i.useCallback((e,t)=>{s.mutate(e,t).catch(n.ZT)},[s]);if(o.error&&(0,n.L3)(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[9276,8674,8571,8270,9345,108,9042,1399,4658],()=>r(16830));module.exports=i})();