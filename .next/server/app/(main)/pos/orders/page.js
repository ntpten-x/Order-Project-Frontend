(()=>{var e={};e.id=4900,e.ids=[4900],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},216:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>l}),t(29940),t(85429),t(58522),t(61804),t(7629),t(11930),t(12523);var s=t(23191),a=t(88716),o=t(43315),n=t(95231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(r,i);let l=["",{children:["(main)",{children:["pos",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,29940)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\orders\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],d=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\orders\\page.tsx"],c="/(main)/pos/orders/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/pos/orders/page",pathname:"/pos/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},37085:(e,r,t)=>{Promise.resolve().then(t.bind(t,4043))},2643:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(17577);let a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var o=t(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}let i=s.forwardRef((e,r)=>s.createElement(o.Z,n({},e,{ref:r,icon:a})))},63699:function(e,r,t){var s;s=function(e){"use strict";var r={name:"th",weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(r,null,!0),r},e.exports=s(t(88295))},4043:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>T});var s=t(10326),a=t(77626),o=t.n(a),n=t(84616),i=t(17577),l=t(58184),d=t(3861),c=t(61357),u=t(276),p=t(71935),m=t(49909),h=t(56249),x=t(13483),y=t(75698),j=t(97458),g=t(29116),_=t(2643);let v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"};var f=t(74082);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}let P=i.forwardRef((e,r)=>i.createElement(f.Z,b({},e,{ref:r,icon:v})));var L=t(80490),w=t(22817),S=t(35047),k=t(13976),q=t(95963),M=t(43401),Z=t(56368),N=t(44976),O=t(20108),Y=t(3341),E=t(19211),H=t(26859),C=t(88295),z=t.n(C);t(63699);let{Title:D,Text:R}=l.default,{useBreakpoint:F}=d.default;function T(){let e=(0,S.useRouter)(),r=!F().md;(0,n.yV)();let[t,a]=(0,i.useState)(1),[l,d]=(0,i.useState)(""),{orders:v,total:f,isLoading:b,refetch:C}=function({page:e=1,limit:r=50,status:t,type:s,query:a}){let{socket:o}=(0,i.useContext)(E.J);(0,N.NL)();let{data:n,error:l,isLoading:d,isFetching:c,refetch:u}=(0,O.a)({queryKey:["ordersSummary",e,r,t||"all",s||"all",a||""],queryFn:async()=>await H.x.getAllSummary(void 0,e,r,t,s,a),placeholderData:Y.Wk,staleTime:3e3});return{orders:n?.data||[],total:n?.total||0,currentPage:n?.page||e,lastPage:n?.last_page||1,isLoading:d,isFetching:c,isError:l,refetch:u}}({page:t,limit:10,status:"Pending,Cooking,Served,WaitingForPayment",query:(0,Z.c)(l.trim(),400)||void 0}),T=[{title:"เลขที่ออเดอร์",dataIndex:"order_no",key:"order_no",align:"center",render:e=>s.jsx(R,{strong:!0,style:{whiteSpace:"nowrap"},children:e})},{title:"วันเวลา",dataIndex:"create_date",key:"date",align:"center",render:e=>(0,s.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[s.jsx(R,{children:z()(e).format("DD MMM YYYY")}),s.jsx("br",{}),s.jsx(R,{type:"secondary",style:{fontSize:12},children:z()(e).format("HH:mm")})]})},{title:"ประเภท",dataIndex:"order_type",key:"type",align:"center",render:e=>s.jsx(c.Z,{color:(0,q.Gs)(e),style:{margin:0},children:(0,q.mz)(e)})},{title:"โต๊ะ / รหัสอ้างอิง",key:"reference",align:"center",render:(e,r)=>{let t=(0,q.jN)(r),a="default";return r.order_type===k.m.DineIn&&(a="cyan"),r.order_type===k.m.Delivery&&(a="orange"),s.jsx(c.Z,{color:a,style:{margin:0},children:t})}},{title:"รายละเอียดรายการ",key:"items_summary",width:200,align:"center",render:(e,r)=>{let t=r.items_summary||{},a=r.items_count||0,o=Object.entries(t);return 0===a?s.jsx(R,{type:"secondary",children:"-"}):(0,s.jsxs)("div",{style:{fontSize:13,lineHeight:"1.6",textAlign:"left",display:"inline-block",minWidth:140},children:[o.length>0?(0,s.jsxs)(s.Fragment,{children:[o.map(([e,r])=>(0,s.jsxs)("div",{style:M.L2.summaryRow,children:[s.jsx(R,{type:"secondary",children:e}),(0,s.jsxs)(R,{strong:!0,children:[r," รายการ"]})]},e)),s.jsx(u.Z,{style:{margin:"4px 0"}})]}):null,(0,s.jsxs)("div",{style:M.L2.summaryRowBold,children:[s.jsx(R,{strong:!0,children:"รวม"}),(0,s.jsxs)(R,{strong:!0,style:{color:M.mv.primary},children:[a," รายการ"]})]})]})}},{title:"ยอดรวม",dataIndex:"total_amount",key:"total",align:"center",render:e=>s.jsx(R,{strong:!0,style:{whiteSpace:"nowrap"},children:(0,q.xG)(e)})},{title:"สถานะ",dataIndex:"status",key:"status",align:"center",render:e=>s.jsx(c.Z,{color:(0,q.OY)(e),style:{margin:0},children:(0,q.d7)(e)})},{title:"จัดการ",key:"action",align:"center",render:(r,t)=>s.jsx(p.ZP,{type:"primary",icon:s.jsx(g.Z,{}),onClick:()=>e.push(`/pos/orders/${t.id}`),style:{whiteSpace:"nowrap"},children:"ดูรายละเอียด"})}];return(0,s.jsxs)("div",{style:M.L2.container,children:[s.jsx(o(),{id:M.$k.__hash,children:M.$k}),s.jsx("header",{style:M.L2.header,role:"banner",className:"orders-header",children:(0,s.jsxs)("div",{style:M.L2.headerContent,className:"orders-content orders-header-content-mobile",children:[s.jsx(p.ZP,{icon:s.jsx(_.Z,{}),onClick:()=>e.push("/pos"),type:"text",className:"orders-back-button-mobile","aria-label":"กลับไปหน้า POS",style:{color:"#fff",fontSize:18,marginRight:12,width:44,height:44,borderRadius:14,background:"rgba(255,255,255,0.15)",backdropFilter:"blur(8px)",border:"1px solid rgba(255,255,255,0.25)",display:"flex",alignItems:"center",justifyContent:"center"}}),s.jsx("div",{style:M.L2.headerIcon,className:"orders-header-icon",children:s.jsx(P,{style:{color:"#fff",fontSize:24}})}),(0,s.jsxs)("div",{style:M.L2.headerTextContainer,className:"orders-header-text-mobile",children:[s.jsx(D,{level:2,style:M.L2.headerTitle,className:"orders-page-title",children:"รายการออเดอร์ปัจจุบัน"}),s.jsx(R,{style:M.L2.headerSubtitle,className:"orders-page-subtitle",children:"จัดการและติดตามสถานะออเดอร์ที่กำลังดำเนินการ"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},className:"orders-header-actions-mobile",children:[s.jsx(m.default,{allowClear:!0,placeholder:"ค้นหาออเดอร์...",value:l,onChange:e=>d(e.target.value),size:r?"middle":"large",className:"orders-search-input-mobile",style:{width:r?140:280,minWidth:120,borderRadius:12}}),s.jsx(p.ZP,{icon:s.jsx(L.Z,{}),onClick:()=>C(),size:r?"middle":"large",ghost:!0,className:"orders-refresh-button-mobile scale-hover",style:{borderRadius:12,border:"1px solid rgba(255,255,255,0.4)"},children:s.jsx("span",{className:"hide-on-mobile",children:"รีเฟรช"})})]})]})}),s.jsx("main",{style:M.L2.contentWrapper,className:"orders-content-wrapper",children:s.jsx(h.Z,{bordered:!1,style:{borderRadius:20,boxShadow:M.mv.cardShadow,border:"1px solid rgba(226, 232, 240, 0.8)"},styles:{body:M.L2.cardBody},children:r?s.jsx(j.Z,{loading:b,dataSource:v,renderItem:r=>{let t=r.items_count||0;return(0,s.jsxs)("article",{style:{...M.L2.orderCard,marginBottom:14},onClick:()=>e.push(`/pos/orders/${r.id}`),role:"button",tabIndex:0,"aria-label":`ออเดอร์ ${r.order_no}`,onKeyDown:t=>"Enter"===t.key&&e.push(`/pos/orders/${r.id}`),className:"orders-card fade-in",children:[(0,s.jsxs)("div",{style:M.L2.cardHeader,className:"orders-card-header",children:[(0,s.jsxs)("div",{style:M.L2.cardHeaderLeft,children:[(0,s.jsxs)(R,{strong:!0,style:{fontSize:17,color:M.mv.text},children:["#",r.order_no]}),s.jsx(c.Z,{color:(0,q.OY)(r.status),style:{margin:0,borderRadius:8,fontWeight:600},children:(0,q.d7)(r.status)})]}),s.jsx(c.Z,{color:(0,q.Gs)(r.order_type),style:{borderRadius:8,fontWeight:600},children:(0,q.mz)(r.order_type)})]}),(0,s.jsxs)("div",{style:M.L2.cardBody,className:"orders-card-body",children:[(0,s.jsxs)("div",{style:M.L2.refSection,children:[r.order_type===k.m.DineIn&&r.table&&(0,s.jsxs)("div",{style:M.L2.refValue,className:"orders-ref-value",children:["\uD83E\uDE91 โต๊ะ ",r.table.table_name]}),(r.order_type===k.m.Delivery||r.order_type===k.m.TakeAway)&&(0,s.jsxs)("div",{style:M.L2.refValue,className:"orders-ref-value",children:["\uD83D\uDCCB ",r.delivery_code?`Ref: ${r.delivery_code}`:"-"]})]}),(0,s.jsxs)("div",{style:M.L2.itemsSummary,children:[(0,s.jsxs)("div",{style:M.L2.metaSection,children:[s.jsx(P,{style:{color:M.mv.primary}}),(0,s.jsxs)(R,{strong:!0,style:{color:M.mv.text},children:[t," รายการ"]})]}),(0,s.jsxs)("div",{style:M.L2.metaSection,children:[s.jsx(w.Z,{style:{color:M.mv.textSecondary}}),s.jsx(R,{style:{color:M.mv.textSecondary},children:z()(r.create_date).format("HH:mm น.")})]})]}),(0,s.jsxs)("div",{style:M.L2.totalSection,children:[s.jsx(R,{style:M.L2.totalLabel,children:"ยอดรวม"}),s.jsx("div",{style:M.L2.totalAmount,className:"orders-total-amount",children:(0,q.xG)(Number(r.total_amount))})]}),s.jsx(p.ZP,{type:"primary",ghost:!0,icon:s.jsx(g.Z,{}),style:M.L2.actionButton,className:"scale-hover",children:"ดูรายละเอียด"})]})]})},pagination:{current:t,pageSize:10,total:f,onChange:e=>a(e),size:"small",style:{textAlign:"center",marginTop:16}}}):s.jsx(x.Z,{columns:T,dataSource:v,loading:b,rowKey:"id",virtual:!0,scroll:{y:600},pagination:{current:t,pageSize:10,total:f,onChange:e=>a(e),showTotal:e=>`ทั้งหมด ${e} รายการ`},locale:{emptyText:s.jsx(y.Z,{description:"ไม่พบรายการออเดอร์"})}})})})]})}z().locale("th")},56368:(e,r,t)=>{"use strict";t.d(r,{c:()=>a});var s=t(17577);let a=(e,r=400)=>{let[t,a]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let t=setTimeout(()=>{a(e)},r);return()=>{clearTimeout(t)}},[e,r]),t}},29940:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\orders\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,8674,8571,8270,9345,108,9042,1399,4658,8498],()=>t(216));module.exports=s})();