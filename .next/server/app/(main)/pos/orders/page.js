(()=>{var e={};e.id=4900,e.ids=[4900],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},216:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>l}),t(29940),t(85429),t(58522),t(61804),t(7629),t(11930),t(12523);var s=t(23191),i=t(88716),n=t(43315),a=t(95231),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);t.d(r,o);let l=["",{children:["(main)",{children:["pos",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,29940)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\orders\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],d=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\orders\\page.tsx"],c="/(main)/pos/orders/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/pos/orders/page",pathname:"/pos/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},37085:(e,r,t)=>{Promise.resolve().then(t.bind(t,2957))},2643:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var s=t(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var n=t(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}let o=s.forwardRef((e,r)=>s.createElement(n.Z,a({},e,{ref:r,icon:i})))},63699:function(e,r,t){var s;s=function(e){"use strict";var r={name:"th",weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(r,null,!0),r},e.exports=s(t(88295))},2957:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>W});var s=t(10326),i=t(77626),n=t.n(i),a=t(84616),o=t(17577),l=t(58184),d=t(3861),c=t(61357),u=t(276),p=t(71935),x=t(64635),m=t(49909),y=t(56249),h=t(97458),g=t(29116);let j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"};var v=t(74082);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}let f=o.forwardRef((e,r)=>o.createElement(v.Z,_({},e,{ref:r,icon:j})));var b=t(80490),P=t(22817),w=t(35047),L=t(13976),Z=t(95963),S=t(43401),k=t(56368),M=t(20108),q=t(3341),H=t(26859),Y=t(88295),O=t.n(Y);t(63699);var D=t(26963),E=t(76892),T=t(52647),z=t(36231),C=t(13483);function R({emptyTitle:e="ไม่มีข้อมูล",emptyDescription:r,emptyAction:t,emptyImage:i,scroll:n,locale:a,pagination:o,...l}){return s.jsx(C.Z,{...l,scroll:{x:"max-content",...n},pagination:void 0===o?{size:"small"}:o,locale:{...a,emptyText:s.jsx("div",{style:{padding:16},children:s.jsx(z.Z,{title:e,description:r,action:t,image:i})})}})}let{Text:B}=l.default,{useBreakpoint:F}=d.default;function W(){let e=(0,w.useRouter)(),r=!F().md;(0,a.yV)();let[t,i]=(0,o.useState)(1),[l,d]=(0,o.useState)(""),{orders:j,total:v,isLoading:_,refetch:Y}=function({page:e=1,limit:r=50,status:t,type:s,query:i}){let{data:n,error:a,isLoading:o,isFetching:l,refetch:d}=(0,M.a)({queryKey:["ordersSummary",e,r,t||"all",s||"all",i||""],queryFn:async()=>await H.x.getAllSummary(void 0,e,r,t,s,i),placeholderData:q.Wk,staleTime:3e3});return{orders:n?.data||[],total:n?.total||0,currentPage:n?.page||e,lastPage:n?.last_page||1,isLoading:o,isFetching:l,isError:a,refetch:d}}({page:t,limit:10,status:"Pending,Cooking,Served,WaitingForPayment",query:(0,k.c)(l.trim(),400)||void 0}),C=[{title:"เลขที่ออเดอร์",dataIndex:"order_no",key:"order_no",align:"center",render:e=>s.jsx(B,{strong:!0,style:{whiteSpace:"nowrap"},children:e})},{title:"วันเวลา",dataIndex:"create_date",key:"date",align:"center",render:e=>(0,s.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[s.jsx(B,{children:O()(e).format("DD MMM YYYY")}),s.jsx("br",{}),s.jsx(B,{type:"secondary",style:{fontSize:12},children:O()(e).format("HH:mm")})]})},{title:"ประเภท",dataIndex:"order_type",key:"type",align:"center",render:e=>s.jsx(c.Z,{color:(0,Z.Gs)(e),style:{margin:0},children:(0,Z.mz)(e)})},{title:"โต๊ะ / รหัสอ้างอิง",key:"reference",align:"center",render:(e,r)=>{let t=(0,Z.jN)(r),i="default";return r.order_type===L.m.DineIn&&(i="cyan"),r.order_type===L.m.Delivery&&(i="orange"),s.jsx(c.Z,{color:i,style:{margin:0},children:t})}},{title:"รายละเอียดรายการ",key:"items_summary",width:200,align:"center",render:(e,r)=>{let t=r.items_summary||{},i=r.items_count||0,n=Object.entries(t);return 0===i?s.jsx(B,{type:"secondary",children:"-"}):(0,s.jsxs)("div",{style:{fontSize:13,lineHeight:"1.6",textAlign:"left",display:"inline-block",minWidth:140},children:[n.length>0?(0,s.jsxs)(s.Fragment,{children:[n.map(([e,r])=>(0,s.jsxs)("div",{style:S.L2.summaryRow,children:[s.jsx(B,{type:"secondary",children:e}),(0,s.jsxs)(B,{strong:!0,children:[r," รายการ"]})]},e)),s.jsx(u.Z,{style:{margin:"4px 0"}})]}):null,(0,s.jsxs)("div",{style:S.L2.summaryRowBold,children:[s.jsx(B,{strong:!0,children:"รวม"}),(0,s.jsxs)(B,{strong:!0,style:{color:S.mv.primary},children:[i," รายการ"]})]})]})}},{title:"ยอดรวม",dataIndex:"total_amount",key:"total",align:"center",render:e=>s.jsx(B,{strong:!0,style:{whiteSpace:"nowrap"},children:(0,Z.xG)(e)})},{title:"สถานะ",dataIndex:"status",key:"status",align:"center",render:e=>s.jsx(c.Z,{color:(0,Z.OY)(e),style:{margin:0},children:(0,Z.d7)(e)})},{title:"จัดการ",key:"action",align:"center",render:(r,t)=>s.jsx(p.ZP,{type:"primary",icon:s.jsx(g.Z,{}),onClick:()=>e.push(`/pos/orders/${t.id}`),style:{whiteSpace:"nowrap"},children:"ดูรายละเอียด"})}];return(0,s.jsxs)("div",{style:S.L2.container,children:[s.jsx(n(),{id:S.$k.__hash,children:S.$k}),s.jsx(T.Z,{title:"ออเดอร์",subtitle:"รายการออเดอร์ที่กำลังดำเนินการ",onBack:()=>e.push("/pos"),icon:s.jsx(f,{style:{fontSize:20}}),actions:(0,s.jsxs)(x.Z,{size:8,wrap:!0,children:[s.jsx(m.default,{allowClear:!0,placeholder:"ค้นหาออเดอร์...",value:l,onChange:e=>d(e.target.value),style:{minWidth:r?200:280}}),s.jsx(p.ZP,{icon:s.jsx(b.Z,{}),onClick:()=>Y(),children:"รีเฟรช"})]})}),s.jsx(D.Z,{children:s.jsx(E.Z,{children:s.jsx("main",{style:S.L2.contentWrapper,className:"orders-content-wrapper",children:s.jsx(y.Z,{bordered:!1,style:{borderRadius:20,boxShadow:S.mv.cardShadow,border:"1px solid rgba(226, 232, 240, 0.8)"},styles:{body:S.L2.cardBody},children:r?s.jsx(h.Z,{loading:_,dataSource:j,locale:{emptyText:s.jsx("div",{style:{padding:12},children:s.jsx(z.Z,{title:"ไม่พบรายการออเดอร์"})})},renderItem:r=>{let t=r.items_count||0;return(0,s.jsxs)("article",{style:{...S.L2.orderCard,marginBottom:14},onClick:()=>e.push(`/pos/orders/${r.id}`),role:"button",tabIndex:0,"aria-label":`ออเดอร์ ${r.order_no}`,onKeyDown:t=>"Enter"===t.key&&e.push(`/pos/orders/${r.id}`),className:"orders-card fade-in",children:[(0,s.jsxs)("div",{style:S.L2.cardHeader,className:"orders-card-header",children:[(0,s.jsxs)("div",{style:S.L2.cardHeaderLeft,children:[(0,s.jsxs)(B,{strong:!0,style:{fontSize:17,color:S.mv.text},children:["#",r.order_no]}),s.jsx(c.Z,{color:(0,Z.OY)(r.status),style:{margin:0,borderRadius:8,fontWeight:600},children:(0,Z.d7)(r.status)})]}),s.jsx(c.Z,{color:(0,Z.Gs)(r.order_type),style:{borderRadius:8,fontWeight:600},children:(0,Z.mz)(r.order_type)})]}),(0,s.jsxs)("div",{style:S.L2.cardBody,className:"orders-card-body",children:[(0,s.jsxs)("div",{style:S.L2.refSection,children:[r.order_type===L.m.DineIn&&r.table&&(0,s.jsxs)("div",{style:S.L2.refValue,className:"orders-ref-value",children:["\uD83E\uDE91 โต๊ะ ",r.table.table_name]}),(r.order_type===L.m.Delivery||r.order_type===L.m.TakeAway)&&(0,s.jsxs)("div",{style:S.L2.refValue,className:"orders-ref-value",children:["\uD83D\uDCCB ",r.delivery_code?`Ref: ${r.delivery_code}`:"-"]})]}),(0,s.jsxs)("div",{style:S.L2.itemsSummary,children:[(0,s.jsxs)("div",{style:S.L2.metaSection,children:[s.jsx(f,{style:{color:S.mv.primary}}),(0,s.jsxs)(B,{strong:!0,style:{color:S.mv.text},children:[t," รายการ"]})]}),(0,s.jsxs)("div",{style:S.L2.metaSection,children:[s.jsx(P.Z,{style:{color:S.mv.textSecondary}}),s.jsx(B,{style:{color:S.mv.textSecondary},children:O()(r.create_date).format("HH:mm น.")})]})]}),(0,s.jsxs)("div",{style:S.L2.totalSection,children:[s.jsx(B,{style:S.L2.totalLabel,children:"ยอดรวม"}),s.jsx("div",{style:S.L2.totalAmount,className:"orders-total-amount",children:(0,Z.xG)(Number(r.total_amount))})]}),s.jsx(p.ZP,{type:"primary",ghost:!0,icon:s.jsx(g.Z,{}),style:S.L2.actionButton,className:"scale-hover",children:"ดูรายละเอียด"})]})]})},pagination:{current:t,pageSize:10,total:v,onChange:e=>i(e),size:"small",style:{textAlign:"center",marginTop:16}}}):s.jsx(R,{columns:C,dataSource:j,loading:_,rowKey:"id",virtual:!0,scroll:{y:600},pagination:{current:t,pageSize:10,total:v,onChange:e=>i(e),showTotal:e=>`ทั้งหมด ${e} รายการ`},emptyTitle:"ไม่พบรายการออเดอร์"})})})})})]})}O().locale("th")},52647:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var s=t(10326);t(17577);var i=t(2643),n=t(5591),a=t(3861),o=t(21020),l=t(71935),d=t(58184),c=t(52386);function u({title:e,subtitle:r,icon:t,onBack:u,actions:p,style:x}){let{token:m}=n.default.useToken(),y=a.default.useBreakpoint().md?c.H.pagePaddingXDesktop:c.H.pagePaddingXMobile;return s.jsx("div",{style:{padding:`${c.H.pagePaddingY}px ${y}px`,background:m.colorBgContainer,borderBottom:`1px solid ${m.colorBorderSecondary}`,...x},children:(0,s.jsxs)(o.Z,{align:"center",justify:"space-between",wrap:"wrap",gap:12,style:{maxWidth:c.H.pageMaxWidth,margin:"0 auto"},children:[(0,s.jsxs)(o.Z,{align:"center",gap:12,style:{minWidth:0},children:[u&&s.jsx(l.ZP,{type:"text","aria-label":"ย้อนกลับ",icon:s.jsx(i.Z,{}),onClick:u,style:{borderRadius:12,width:44,height:44}}),t&&s.jsx("div",{style:{width:44,height:44,borderRadius:14,display:"grid",placeItems:"center",background:m.colorFillTertiary,color:m.colorText},children:t}),(0,s.jsxs)("div",{style:{minWidth:0},children:[s.jsx(d.default.Title,{level:4,style:{margin:0},children:e}),r&&s.jsx(d.default.Text,{type:"secondary",children:r})]})]}),p&&s.jsx(o.Z,{gap:8,wrap:"wrap",children:p})]})})}},36231:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var s=t(10326);t(17577);var i=t(56249),n=t(75698),a=t(58184),o=t(52386);function l({title:e="ไม่มีข้อมูล",description:r,action:t,image:l}){return s.jsx(i.Z,{size:"small",variant:"outlined",style:{borderRadius:o.H.cardRadiusLG},bodyStyle:{padding:20},children:s.jsx(n.Z,{image:l,description:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.jsx(a.default.Text,{strong:!0,children:e}),r?s.jsx(a.default.Text,{type:"secondary",children:r}):null]}),children:t})})}},56368:(e,r,t)=>{"use strict";t.d(r,{c:()=>i});var s=t(17577);let i=(e,r=400)=>{let[t,i]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let t=setTimeout(()=>{i(e)},r);return()=>{clearTimeout(t)}},[e,r]),t}},29940:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\orders\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,8491,8571,8842,108,8963,1399,4658,8498],()=>t(216));module.exports=s})();