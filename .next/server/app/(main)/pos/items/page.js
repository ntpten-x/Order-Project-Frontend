(()=>{var e={};e.id=5392,e.ids=[5392],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},74421:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.Z,__next_app__:()=>p,originalPathname:()=>c,pages:()=>l,routeModule:()=>u,tree:()=>d}),t(52165),t(85429),t(58522),t(86296),t(7629),t(11930),t(12523);var s=t(23191),i=t(88716),o=t(43315),n=t(95231),a={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>n[e]);t.d(r,a);let d=["",{children:["(main)",{children:["pos",{children:["items",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,52165)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\items\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,86296)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],l=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\items\\page.tsx"],c="/(main)/pos/items/page",p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/pos/items/page",pathname:"/pos/items",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49282:(e,r,t)=>{Promise.resolve().then(t.bind(t,74592))},12226:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var o=t(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}let a=s.forwardRef((e,r)=>s.createElement(o.Z,n({},e,{ref:r,icon:i})))},16185:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"};var o=t(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}let a=s.forwardRef((e,r)=>s.createElement(o.Z,n({},e,{ref:r,icon:i})))},74592:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>I});var s=t(10326),i=t(17577),o=t(35047),n=t(58184),a=t(4139),d=t(38106),l=t(56249),c=t(97930),p=t(75698),u=t(61357),x=t(64635),m=t(276),g=t(71209),h=t(71935),f=t(62938),y=t(9297),b=t(16185),j=t(12226),v=t(20331),P=t(26859),q=t(13976),_=t(41734),S=t(95963),z=t(37938),Z=t(80440),w=t(54354),k=t(88295),O=t.n(k);t(63699);var R=t(81711),C=t.n(R);let{Title:A,Text:E}=n.default;function I(){let e=(0,o.useRouter)(),[r,t]=(0,i.useState)([]),[n,k]=(0,i.useState)(!0),{showLoading:R,hideLoading:I}=(0,z.O)(),{socket:B}=(0,Z.s)(),F=(0,i.useCallback)(async(e=!1)=>{try{e&&(R("กำลังโหลดรายการรอชำระเงิน..."),k(!0));let r=[q.i.WaitingForPayment].join(","),s=(await P.x.getAll(void 0,1,100,r)).data.map(e=>({order:e,items:e.items||[],totalAmount:e.total_amount}));s.sort((e,r)=>O()(r.order.create_date).unix()-O()(e.order.create_date).unix()),t(e=>C()(e,s)?e:s)}catch{}finally{e&&(k(!1),I())}},[R,I]);(0,w.D)({socket:B,events:["orders:update","orders:create","orders:delete"],onRefresh:()=>F(!1),intervalMs:15e3,debounceMs:1e3});let M=(e,r)=>{switch(e){case q.m.DineIn:return`โต๊ะ ${r?.table_name||"N/A"}`;case q.m.TakeAway:return"สั่งกลับบ้าน";case q.m.Delivery:return"เดลิเวอรี่";default:return e||"N/A"}},W=e=>{switch(e){case q.m.DineIn:return s.jsx(f.Z,{});case q.m.TakeAway:return s.jsx(y.Z,{});case q.m.Delivery:return s.jsx(b.Z,{});default:return s.jsx(f.Z,{})}},D=(r,t)=>{if(!r)return;R("กำลังไปหน้าชำระเงิน...");let s=t===q.m.Delivery?`/pos/items/delivery/${r}`:`/pos/items/payment/${r}`;e.push(s)};return(0,s.jsxs)("div",{style:_.q.container,children:[s.jsx("div",{style:_.q.heroSection,children:s.jsx("div",{style:_.q.contentWrapper,children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:20},children:[s.jsx(j.Z,{style:{fontSize:28,color:"#fff"}}),(0,s.jsxs)("div",{children:[s.jsx(A,{level:3,style:_.q.pageTitle,children:"รายการรอชำระเงิน"}),s.jsx(E,{style:_.q.pageSubtitle,children:"Waiting For Payment Orders"})]})]})})}),s.jsx("div",{style:{..._.q.contentWrapper,marginTop:-40,padding:"0 24px"},children:n?s.jsx(a.Z,{gutter:[16,16],children:Array.from({length:6}).map((e,r)=>s.jsx(d.Z,{xs:24,sm:12,lg:8,children:s.jsx(l.Z,{style:_.q.card,children:s.jsx(c.Z,{active:!0,paragraph:{rows:3}})})},`skeleton-${r}`))}):0===r.length?s.jsx(l.Z,{style:{borderRadius:12,border:"none",boxShadow:_.U.cardShadow},children:s.jsx(p.Z,{description:"ไม่มีรายการรอชำระเงิน"})}):s.jsx(a.Z,{gutter:[16,16],children:r.map(e=>s.jsx(d.Z,{xs:24,sm:12,lg:8,children:(0,s.jsxs)(l.Z,{hoverable:!0,style:_.q.card,bodyStyle:{flex:1,display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:16},children:[(0,s.jsxs)("div",{children:[s.jsx(u.Z,{color:"geekblue",style:{fontSize:13,padding:"4px 8px",marginBottom:6,borderRadius:6},children:O()(e.order.create_date).format("HH:mm")}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[W(e.order.order_type),s.jsx(E,{strong:!0,style:{fontSize:16},children:M(e.order.order_type,e.order.table)})]}),(0,s.jsxs)(x.Z,{size:4,direction:"vertical",style:{marginTop:4},children:[(0,s.jsxs)(E,{type:"secondary",style:{fontSize:12},children:["#",e.order.order_no]}),e.order.created_by_id&&(0,s.jsxs)(E,{type:"secondary",style:{fontSize:11},children:[s.jsx(v.Z,{style:{marginRight:4}}),e.order.created_by_id]})]})]}),s.jsx(E,{strong:!0,style:{fontSize:20,color:_.U.primary},children:(0,S.xG)(e.totalAmount)})]}),s.jsx(m.Z,{style:{margin:"12px 0"}}),s.jsx("div",{style:{flex:1},children:e.items.map((e,r)=>(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12,alignItems:"center"},children:[(0,s.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",flex:1,minWidth:0},children:[e.product?.img_url?s.jsx(g.Z,{shape:"square",size:40,src:e.product.img_url,style:{borderRadius:8,border:`1px solid ${_.U.borderLight}`}}):s.jsx("div",{style:{width:40,height:40,borderRadius:8,background:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${_.U.borderLight}`},children:s.jsx(f.Z,{style:{color:_.U.textLight}})}),(0,s.jsxs)("div",{style:{minWidth:0,flex:1},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,s.jsxs)(u.Z,{style:{margin:0,padding:"0 4px",fontSize:11},children:["x",e.quantity]}),s.jsx(E,{strong:!0,style:{fontSize:14},ellipsis:!0,children:e.product?.display_name})]}),s.jsx(E,{type:"secondary",style:{fontSize:12,display:"block",marginTop:1},children:(0,S.xG)(e.price)}),e.notes&&(0,s.jsxs)(E,{type:"secondary",style:{fontSize:11,display:"block",fontStyle:"italic"},children:["* ",e.notes]})]})]}),s.jsx(E,{strong:!0,style:{marginLeft:8},children:(0,S.xG)(Number(e.total_price||Number(e.price)*e.quantity))})]},r))}),s.jsx(m.Z,{style:{margin:"12px 0"}}),s.jsx(h.ZP,{type:"primary",block:!0,size:"large",style:{background:_.U.success,borderColor:_.U.success,borderRadius:8,height:44,fontWeight:600},onClick:()=>D(e.order.id,e.order.order_type),children:"ชำระเงิน"})]})},e.order.id))})})]})}O().locale("th")},41734:(e,r,t)=>{"use strict";t.d(r,{U:()=>s,q:()=>i});let s={...t(43401).mv,cash:"#10b981",qr:"#1d4ed8",creditCard:"#f59e0b",totalCardBg:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",summaryBg:"#fafafa"},i={container:{minHeight:"100vh",background:s.background,fontFamily:"'Inter', 'Sarabun', sans-serif"},heroSection:{background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",padding:"32px 24px 70px",position:"relative",borderBottomLeftRadius:24,borderBottomRightRadius:24,boxShadow:"0 8px 24px rgba(24, 144, 255, 0.25)",marginBottom:-40,zIndex:1,overflow:"hidden"},contentWrapper:{maxWidth:1200,margin:"0 auto",position:"relative",zIndex:10},pageTitle:{margin:0,color:"#fff",fontSize:"clamp(20px, 5vw, 28px)",fontWeight:700},pageSubtitle:{color:"rgba(255,255,255,0.85)",fontSize:14},card:{borderRadius:12,overflow:"hidden",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",height:"100%",display:"flex",flexDirection:"column"},methodCard:{borderWidth:2,borderStyle:"solid",borderColor:"#f0f0f0",borderRadius:12,padding:16,textAlign:"center",cursor:"pointer",background:"#fff",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},methodCardSelected:{borderColor:s.primary,background:"#eff6ff",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.15)"},inputArea:{background:"#f8fafc",padding:20,borderRadius:12,border:`1px solid ${s.border}`},qrArea:{textAlign:"center",background:"#fff",padding:24,borderRadius:16,border:`1px dashed ${s.primary}`,boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},summaryBox:{marginTop:"auto",background:s.backgroundSecondary,padding:16,borderRadius:12}}},52165:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\items\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,5898,8571,6927,6295,6857,4300,4259],()=>t(74421));module.exports=s})();