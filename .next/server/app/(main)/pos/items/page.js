(()=>{var e={};e.id=5392,e.ids=[5392],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},74421:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>o}),t(52165),t(85429),t(58522),t(61804),t(7629),t(11930),t(12523);var s=t(23191),i=t(88716),a=t(43315),n=t(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let o=["",{children:["(main)",{children:["pos",{children:["items",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,52165)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\items\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],d=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\items\\page.tsx"],c="/(main)/pos/items/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/pos/items/page",pathname:"/pos/items",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},49282:(e,r,t)=>{Promise.resolve().then(t.bind(t,74592))},16185:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var s=t(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"};var a=t(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}let l=s.forwardRef((e,r)=>s.createElement(a.Z,n({},e,{ref:r,icon:i})))},74592:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var s=t(10326),i=t(77626),a=t.n(i),n=t(17577),l=t(35047),o=t(66874),d=t(71935),c=t(4139),u=t(38106),p=t(56249),m=t(97930),x=t(61357),h=t(64635),y=t(276),j=t(71209),g=t(62938),b=t(9297),v=t(16185),f=t(12226),P=t(20331),Z=t(26963),F=t(76892),_=t(52647),q=t(36231),O=t(26859),w=t(13976),k=t(83717),T=t(95963),N=t(37938),z=t(80440),E=t(54354),A=t(83179),D=t(88295),H=t.n(D);t(63699);var M=t(81711),R=t.n(M);let{Text:I}=o.default;function C(){let e=(0,l.useRouter)(),[r,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),{showLoading:D,hideLoading:M}=(0,N.O)(),{socket:C}=(0,z.s)(),S=(0,n.useCallback)(async(e=!1)=>{try{e&&(D("กำลังโหลดรายการรอชำระเงิน..."),o(!0));let r=[w.i.WaitingForPayment].join(","),s=(await O.x.getAll(void 0,1,100,r)).data.map(e=>({order:e,items:e.items||[],totalAmount:e.total_amount}));s.sort((e,r)=>H()(r.order.create_date).unix()-H()(e.order.create_date).unix()),t(e=>R()(e,s)?e:s)}catch{}finally{e&&(o(!1),M())}},[D,M]);(0,E.D)({socket:C,events:[A.b.orders.update,A.b.orders.create,A.b.orders.delete,A.b.salesOrderItem.create,A.b.salesOrderItem.update,A.b.salesOrderItem.delete,A.b.salesOrderDetail.create,A.b.salesOrderDetail.update,A.b.salesOrderDetail.delete],onRefresh:()=>S(!1),intervalMs:15e3,debounceMs:1e3});let G=(e,r)=>{switch(e){case w.m.DineIn:return`โต๊ะ ${r?.table_name||"N/A"}`;case w.m.TakeAway:return"สั่งกลับบ้าน";case w.m.Delivery:return"เดลิเวอรี่";default:return e||"N/A"}},$=e=>{switch(e){case w.m.DineIn:return s.jsx(g.Z,{});case w.m.TakeAway:return s.jsx(b.Z,{});case w.m.Delivery:return s.jsx(v.Z,{});default:return s.jsx(g.Z,{})}},B=(r,t)=>{if(!r)return;D("กำลังไปหน้าชำระเงิน...");let s=t===w.m.Delivery?`/pos/items/delivery/${r}`:`/pos/items/payment/${r}`;e.push(s)};return(0,s.jsxs)(s.Fragment,{children:[s.jsx(a(),{id:k.um.__hash,children:k.um}),(0,s.jsxs)("div",{style:k.F4.container,children:[s.jsx(_.Z,{title:"รายการรอชำระเงิน",subtitle:"Waiting For Payment Orders",onBack:()=>e.back(),icon:s.jsx(f.Z,{style:{fontSize:20}}),actions:s.jsx(d.ZP,{onClick:()=>S(!0),loading:i,children:"รีเฟรช"})}),s.jsx(Z.Z,{children:s.jsx(F.Z,{children:i?s.jsx(c.Z,{gutter:[16,16],children:Array.from({length:6}).map((e,r)=>s.jsx(u.Z,{xs:24,sm:12,lg:8,children:s.jsx(p.Z,{style:k.F4.card,children:s.jsx(m.Z,{active:!0,paragraph:{rows:3}})})},`skeleton-${r}`))}):0===r.length?s.jsx(q.Z,{title:"ไม่มีรายการรอชำระเงิน"}):s.jsx(c.Z,{gutter:[16,16],children:r.map((e,r)=>s.jsx(u.Z,{xs:24,sm:12,lg:8,children:(0,s.jsxs)(p.Z,{hoverable:!0,className:`items-card-mobile items-card-animate items-card-delay-${r%3+1}`,style:k.F4.card,bodyStyle:{flex:1,display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{style:k.F4.cardHeader,className:"items-card-header-mobile",children:[(0,s.jsxs)("div",{style:k.F4.cardHeaderLeft,children:[s.jsx(x.Z,{color:"geekblue",style:k.F4.cardTimeTag,children:H()(e.order.create_date).format("HH:mm")}),(0,s.jsxs)("div",{style:k.F4.cardOrderInfo,children:[$(e.order.order_type),s.jsx(I,{strong:!0,style:{fontSize:16},children:G(e.order.order_type,e.order.table)})]}),(0,s.jsxs)(h.Z,{size:4,orientation:"vertical",style:{marginTop:4},children:[(0,s.jsxs)(I,{type:"secondary",style:k.F4.cardOrderNo,children:["#",e.order.order_no]}),e.order.created_by_id&&(0,s.jsxs)(I,{type:"secondary",style:{fontSize:11},children:[s.jsx(P.Z,{style:{marginRight:4}}),e.order.created_by_id]})]})]}),s.jsx(I,{strong:!0,style:k.F4.cardTotal,className:"items-card-total-mobile",children:(0,T.xG)(e.totalAmount)})]}),s.jsx(y.Z,{style:{margin:"12px 0"}}),s.jsx("div",{style:k.F4.itemsList,children:e.items.map((e,r)=>(0,s.jsxs)("div",{style:k.F4.itemRow,className:"items-item-row-mobile",children:[(0,s.jsxs)("div",{style:k.F4.itemLeft,className:"items-item-left-mobile",children:[e.product?.img_url?s.jsx(j.Z,{shape:"square",size:40,src:e.product.img_url,style:k.F4.itemImage}):s.jsx("div",{style:k.F4.itemImagePlaceholder,children:s.jsx(g.Z,{style:{color:k.QF.textLight}})}),(0,s.jsxs)("div",{style:k.F4.itemInfo,children:[(0,s.jsxs)("div",{style:k.F4.itemNameRow,children:[(0,s.jsxs)(x.Z,{style:k.F4.itemQuantityTag,children:["x",e.quantity]}),s.jsx(I,{strong:!0,style:k.F4.itemName,ellipsis:!0,children:e.product?.display_name})]}),s.jsx(I,{type:"secondary",style:k.F4.itemPrice,children:(0,T.xG)(e.price)}),e.notes&&(0,s.jsxs)(I,{type:"secondary",style:k.F4.itemNotes,children:["* ",e.notes]})]})]}),s.jsx(I,{strong:!0,style:k.F4.itemTotal,className:"items-item-total-mobile",children:(0,T.xG)(Number(e.total_price||Number(e.price)*e.quantity))})]},r))}),s.jsx(y.Z,{style:{margin:"12px 0"}}),s.jsx(d.ZP,{type:"primary",block:!0,size:"large",style:k.F4.paymentButton,className:"items-payment-button-mobile",onClick:()=>B(e.order.id,e.order.order_type),children:"ชำระเงิน"})]})},e.order.id))})})})]})]})}H().locale("th")},52647:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var s=t(10326);t(17577);var i=t(2643),a=t(5591),n=t(3861),l=t(21020),o=t(71935),d=t(66874),c=t(52386);function u({title:e,subtitle:r,icon:t,onBack:u,actions:p,style:m}){let{token:x}=a.default.useToken(),h=n.default.useBreakpoint().md?c.H.pagePaddingXDesktop:c.H.pagePaddingXMobile;return s.jsx("div",{style:{padding:`${c.H.pagePaddingY}px ${h}px`,background:x.colorBgContainer,borderBottom:`1px solid ${x.colorBorderSecondary}`,...m},children:(0,s.jsxs)(l.Z,{align:"center",justify:"space-between",wrap:"wrap",gap:12,style:{maxWidth:c.H.pageMaxWidth,margin:"0 auto"},children:[(0,s.jsxs)(l.Z,{align:"center",gap:12,style:{minWidth:0},children:[u&&s.jsx(o.ZP,{type:"text","aria-label":"ย้อนกลับ",icon:s.jsx(i.Z,{}),onClick:u,style:{borderRadius:12,width:44,height:44}}),t&&s.jsx("div",{style:{width:44,height:44,borderRadius:14,display:"grid",placeItems:"center",background:x.colorFillTertiary,color:x.colorText},children:t}),(0,s.jsxs)("div",{style:{minWidth:0},children:[s.jsx(d.default.Title,{level:4,style:{margin:0},children:e}),r&&s.jsx(d.default.Text,{type:"secondary",children:r})]})]}),p&&s.jsx(l.Z,{gap:8,wrap:"wrap",children:p})]})})}},36231:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var s=t(10326);t(17577);var i=t(56249),a=t(75698),n=t(66874),l=t(52386);function o({title:e="ไม่มีข้อมูล",description:r,action:t,image:o}){return s.jsx(i.Z,{size:"small",variant:"outlined",style:{borderRadius:l.H.cardRadiusLG},bodyStyle:{padding:20},children:s.jsx(a.Z,{image:o,description:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.jsx(n.default.Text,{strong:!0,children:e}),r?s.jsx(n.default.Text,{type:"secondary",children:r}):null]}),children:t})})}},52165:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\items\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,4421,8571,1742,2514,8963,1399,4658,8498,686],()=>t(74421));module.exports=s})();