(()=>{var e={};e.id=9110,e.ids=[9110],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},80627:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.Z,__next_app__:()=>p,originalPathname:()=>c,pages:()=>l,routeModule:()=>u,tree:()=>d}),r(12829),r(85429),r(58522),r(86296),r(7629),r(11930),r(12523);var s=r(23191),i=r(88716),n=r(43315),o=r(95231),a={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>o[e]);r.d(t,a);let d=["",{children:["(main)",{children:["pos",{children:["items",{children:["delivery",{children:["[...deliveryId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,12829)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\items\\delivery\\[...deliveryId]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,86296)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],l=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\items\\delivery\\[...deliveryId]\\page.tsx"],c="/(main)/pos/items/delivery/[...deliveryId]/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/pos/items/delivery/[...deliveryId]/page",pathname:"/pos/items/delivery/[...deliveryId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29e3:(e,t,r)=>{Promise.resolve().then(r.bind(r,73974))},16185:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"};var n=r(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let a=s.forwardRef((e,t)=>s.createElement(n.Z,o({},e,{ref:t,icon:i})))},73974:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var s=r(10326),i=r(17577),n=r(35047),o=r(58184),a=r(46752),d=r(61357),l=r(75698),c=r(71935),p=r(4139),u=r(38106),x=r(56249),y=r(71209),h=r(276),m=r(64635),g=r(74944),f=r(2643),b=r(16185),j=r(46024),v=r(62938),w=r(12226),k=r(41684),P=r(26859),S=r(24297),C=r(83476),T=r(33357),E=r(13976),Z=r(35905),_=r(41734),q=r(27851),O=r(88295),z=r.n(O);r(63699);var R=r(95963),B=r(58989),$=r(37938),I=r(80440),F=r(54354);let{Title:N,Text:A}=o.default;function D(){let e=(0,n.useRouter)(),t=(0,n.useParams)(),[r,o]=a.ZP.useMessage(),O=Array.isArray(t?.deliveryId)?t.deliveryId[0]:t?.deliveryId,[z,D]=(0,i.useState)(null),[W,G]=(0,i.useState)(!0),[L,M]=(0,i.useState)(!0),{showLoading:U,hideLoading:H}=(0,$.x)(),{socket:V}=(0,I.s)(),[X,J]=(0,i.useState)({open:!1,type:"confirm",title:"",content:"",onOk:()=>{}}),Y=()=>J(e=>({...e,open:!1})),K=(0,i.useCallback)(async()=>{if(O)try{G(!0),U("กำลังโหลดข้อมูลออเดอร์...");let[t,s]=await Promise.all([P.x.getById(O),S.E.getByName("Delivery").catch(()=>null)]);if(t.status!==E.i.WaitingForPayment){e.push("/pos/channels");return}if(t.order_type!==E.m.Delivery){r.warning("รายการนี้ไม่ใช่ Order Delivery"),e.push("/pos/channels");return}D(t),M(!!s)}catch{r.error("ไม่สามารถโหลดข้อมูลออเดอร์ได้")}finally{G(!1),H()}},[O,r,e,U,H]);(0,F.D)({socket:V,events:["orders:update","orders:delete","payments:create","payments:update"],onRefresh:()=>{O&&K()},intervalMs:15e3,enabled:!!O});let{subtotal:Q,discount:ee,vat:et,total:er}=(0,q.hs)(z,Number(z?.total_amount||0)),es=async()=>{z&&J({open:!0,type:"confirm",title:"ยืนยันการส่งมอบสินค้า",content:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsxs)("div",{style:{fontSize:16,marginBottom:12},children:["คุณกำลังจะส่งมอบสินค้าให้ไรเดอร์สำหรับออเดอร์ ",(0,s.jsxs)(A,{strong:!0,children:["#",z.order_no]})]}),(0,s.jsxs)(d.Z,{color:"blue",style:{fontSize:14,padding:"4px 12px"},children:[z.delivery?.delivery_name," ",z.delivery_code?`(${z.delivery_code})`:""]})]}),okText:"ยืนยันส่งมอบ",cancelText:"ยกเลิก",onOk:async()=>{try{U("กำลังดำเนินการส่งมอบ..."),Y();let t=await (0,T.P)(),s=await S.E.getByName("Delivery"),i={order_id:z.id,payment_method_id:s?.id,amount:er,amount_received:er,change_amount:0,status:Z.b.Success};await C.U.create(i,void 0,t),r.success("ส่งมอบสินค้าให้ไรเดอร์เรียบร้อย"),e.push(`/pos/dashboard/${z.id}`)}catch{r.error("เกิดข้อผิดพลาดในการส่งมอบ")}finally{H()}}})},ei=async()=>{z&&J({open:!0,type:"warning",title:"ย้อนกลับไปแก้ไขออเดอร์?",content:'สถานะออเดอร์จะถูกเปลี่ยนกลับเป็น "กำลังดำเนินการ" เพื่อให้คุณสามารถแก้ไขรายการอาหารได้ คุณแน่ใจหรือไม่?',okText:"ตกลง",cancelText:"ยกเลิก",onOk:async()=>{try{U("กำลังดำเนินการ..."),Y();let t=await (0,T.P)(),s=z.items?.filter(e=>e.status!==E.i.Cancelled)||[];await Promise.all(s.map(e=>P.x.updateItemStatus(e.id,E.i.Served,void 0,t))),await P.x.updateStatus(z.id,E.i.Pending,t),r.success("ย้อนกลับไปแก้ไขออเดอร์เรียบร้อย"),e.push((0,R.HL)(z.id))}catch{r.error("ไม่สามารถเปลี่ยนสถานะออเดอร์ได้")}finally{H()}}})};return W&&!z?null:z?(0,s.jsxs)("div",{style:_.q.container,children:[o,s.jsx("div",{style:{..._.q.heroSection,background:"linear-gradient(135deg, #eb2f96 0%, #c41d7f 100%)"},children:s.jsx("div",{style:_.q.contentWrapper,children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:16},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:16},children:[s.jsx(c.ZP,{type:"text",icon:s.jsx(f.Z,{style:{fontSize:20}}),style:{color:"#fff",padding:0,height:"auto",marginTop:4},onClick:()=>e.back()}),(0,s.jsxs)("div",{children:[s.jsx(N,{level:3,style:_.q.pageTitle,children:"สรุปออเดอร์เดลิเวอรี่"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8,flexWrap:"wrap"},children:[(0,s.jsxs)(d.Z,{color:"magenta",style:{borderRadius:6,border:"none",fontWeight:600},children:[s.jsx(b.Z,{})," ",z.delivery?.delivery_name||"Delivery"," ",z.delivery_code?`#${z.delivery_code}`:""]}),s.jsx(d.Z,{color:(0,R.OY)(z.status),style:{borderRadius:6,border:"none"},children:(0,R.d7)(z.status)}),(0,s.jsxs)(A,{style:{color:"rgba(255,255,255,0.85)",fontSize:13},children:["#",z.order_no]})]})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8},children:[s.jsx(c.ZP,{icon:s.jsx(j.Z,{}),onClick:ei,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"#fff"},children:"แก้ไขออเดอร์"}),s.jsx(c.ZP,{danger:!0,onClick:()=>{z&&J({open:!0,type:"danger",title:"ยืนยันการยกเลิกออเดอร์?",content:"การดำเนินการนี้จะยกเลิกสินค้าทุกรายการ คุณแน่ใจหรือไม่?",okText:"ยืนยันการยกเลิก",cancelText:"ยกเลิก",onOk:async()=>{try{U("กำลังดำเนินการยกเลิก..."),Y();let t=await (0,T.P)(),s=z.items?.filter(e=>e.status!==E.i.Cancelled)||[];await Promise.all(s.map(e=>P.x.updateItemStatus(e.id,E.i.Cancelled,void 0,t))),await P.x.updateStatus(z.id,E.i.Cancelled,t),r.success("ยกเลิกออเดอร์เรียบร้อย"),e.push((0,R.d$)(z.order_type))}catch{r.error("ไม่สามารถยกเลิกออเดอร์ได้")}finally{H()}}})},children:"ยกเลิกออเดอร์"})]})]})})}),s.jsx("div",{style:{..._.q.contentWrapper,marginTop:-30,paddingBottom:40},children:(0,s.jsxs)(p.Z,{gutter:[24,24],children:[s.jsx(u.Z,{xs:24,lg:14,children:(0,s.jsxs)(x.Z,{style:_.q.card,children:[s.jsx(N,{level:4,style:{marginBottom:20},children:"รายการอาหาร"}),s.jsx("div",{style:{overflowY:"auto",paddingRight:8,minHeight:300,maxHeight:600},children:z.items?.filter(e=>e.status!==E.i.Cancelled).map((e,t)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16,paddingBottom:16,borderBottom:`1px solid ${_.U.borderLight}`},children:[s.jsxs("div",{style:{display:"flex",gap:12,flex:1,minWidth:0},children:[s.jsx(y.Z,{shape:"square",size:56,src:e.product?.img_url,icon:s.jsx(v.Z,{}),style:{backgroundColor:"#f0f2f5",flexShrink:0,borderRadius:10}}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx(A,{strong:!0,style:{display:"block",fontSize:15},ellipsis:!0,children:e.product?.display_name}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:4},children:[s.jsx(A,{type:"secondary",style:{fontSize:13},children:R.xG(e.price)}),s.jsxs(d.Z,{style:{margin:0,fontSize:11,borderRadius:4},children:["x",e.quantity]})]}),e.notes&&s.jsxs(A,{type:"secondary",style:{display:"block",fontSize:12,fontStyle:"italic",marginTop:4},children:["* ",e.notes]})]})]}),s.jsx(A,{strong:!0,style:{fontSize:15},children:R.xG(Number(e.total_price))})]},e.id||t))}),(0,s.jsxs)("div",{style:{..._.q.summaryBox,background:"#f8fafc",borderRadius:16,padding:20},children:[(0,s.jsxs)(p.Z,{justify:"space-between",style:{marginBottom:8},children:[s.jsx(A,{type:"secondary",children:"ยอดรวม (Subtotal)"}),s.jsx(A,{children:(0,R.xG)(Q)})]}),ee>0&&(0,s.jsxs)(p.Z,{justify:"space-between",style:{marginBottom:8,color:_.U.success},children:[s.jsx(A,{type:"success",children:"ส่วนลด (Discount)"}),(0,s.jsxs)(A,{type:"success",children:["-",(0,R.xG)(ee)]})]}),et>0&&(0,s.jsxs)(p.Z,{justify:"space-between",style:{marginBottom:8},children:[s.jsx(A,{type:"secondary",children:"VAT (7%)"}),s.jsx(A,{children:(0,R.xG)(et)})]}),s.jsx(h.Z,{style:{margin:"12px 0"}}),(0,s.jsxs)(p.Z,{justify:"space-between",align:"middle",children:[s.jsx(N,{level:4,style:{margin:0},children:"ยอดรวมสุทธิ"}),s.jsx(N,{level:3,style:{color:"#eb2f96",margin:0},children:(0,R.xG)(er)})]})]})]})}),s.jsx(u.Z,{xs:24,lg:10,children:(0,s.jsxs)(x.Z,{style:{..._.q.card,textAlign:"center",padding:"24px 0"},children:[(0,s.jsxs)("div",{style:{marginBottom:32},children:[s.jsx("div",{style:{width:80,height:80,borderRadius:"50%",background:"#fff0f6",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:s.jsx(b.Z,{style:{fontSize:40,color:"#eb2f96"}})}),s.jsx(N,{level:4,children:"พร้อมสำหรับการจัดส่ง"}),s.jsx(A,{type:"secondary",children:"ตรวจสอบความถูกต้องของรายการอาหารและเครื่องดื่ม ก่อนส่งมอบให้ไรเดอร์"})]}),s.jsx(x.Z,{style:{background:"#f9fafb",borderRadius:16,border:"1px dashed #d1d5db",marginBottom:32},bodyStyle:{padding:16},children:(0,s.jsxs)(m.Z,{direction:"vertical",style:{width:"100%"},size:12,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx(A,{type:"secondary",children:"ผู้ให้บริการ"}),s.jsx(A,{strong:!0,children:z.delivery?.delivery_name||"-"})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx(A,{type:"secondary",children:"รหัสออเดอร์ไรเดอร์"}),s.jsx(A,{strong:!0,children:z.delivery_code||"-"})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx(A,{type:"secondary",children:"เลขที่ออเดอร์ POS"}),s.jsx(A,{strong:!0,children:z.order_no})]})]})}),!L&&s.jsx(g.Z,{message:"ไม่พบวิธีการชำระเงิน 'Delivery'",description:"กรุณาเพิ่มวิธีการชำระเงินชื่อ 'Delivery' ในเมนูตั้งค่า เพื่อให้สามารถส่งมอบสินค้าได้",type:"error",showIcon:!0,style:{marginBottom:16,textAlign:"left"}}),s.jsx(c.ZP,{type:"primary",size:"large",block:!0,icon:s.jsx(w.Z,{}),disabled:!L,style:{height:64,fontSize:18,borderRadius:16,background:L?"#eb2f96":void 0,borderColor:L?"#eb2f96":void 0,fontWeight:700,boxShadow:L?"0 8px 16px rgba(235, 47, 150, 0.25)":"none"},onClick:es,children:"ส่งมอบสินค้าให้ไรเดอร์"}),(0,s.jsxs)("div",{style:{marginTop:20,display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[s.jsx(k.Z,{style:{color:"#8c8c8c"}}),s.jsx(A,{type:"secondary",style:{fontSize:13},children:"เมื่อกดแล้ว ระบบจะบันทึกยอดขายและปิดออเดอร์นี้"})]})]})})]})}),s.jsx(B.Z,{open:X.open,type:X.type,title:X.title,content:X.content,okText:X.okText,cancelText:X.cancelText,onOk:X.onOk,onCancel:Y})]}):s.jsx(l.Z,{description:"ไม่พบข้อมูลออเดอร์"})}z().locale("th")},58989:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var s=r(10326),i=r(77626),n=r.n(i);r(17577);var o=r(58184),a=r(75958),d=r(71935),l=r(16771),c=r(33013),p=r(12226),u=r(41684),x=r(2030);let{Title:y,Text:h}=o.default,m=({open:e,type:t="confirm",title:r,content:i,okText:o="ยืนยัน",cancelText:m="ยกเลิก",onOk:g,onCancel:f,loading:b=!1,icon:j})=>{let v=()=>{switch(t){case"danger":return"#ef4444";case"warning":return"#f59e0b";case"success":return"#10b981";default:return"#3b82f6"}},w=v();return(0,s.jsxs)(a.Z,{open:e,onCancel:f,footer:null,centered:!0,width:400,closable:!1,styles:{body:{padding:"32px 24px"},mask:{backdropFilter:"blur(4px)",backgroundColor:"rgba(0,0,0,0.45)"}},className:"modern-confirm-modal",children:[(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},className:"jsx-a93d1526d5312985",children:[s.jsx("div",{style:{marginBottom:20,padding:20,borderRadius:"50%",backgroundColor:`${w}10`,display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-a93d1526d5312985",children:(()=>{if(j)return j;let e={fontSize:42,color:v()};switch(t){case"danger":return s.jsx(l.Z,{style:e});case"warning":return s.jsx(c.Z,{style:e});case"success":return s.jsx(p.Z,{style:e});case"info":return s.jsx(u.Z,{style:e});default:return s.jsx(x.Z,{style:e})}})()}),s.jsx(y,{level:4,style:{marginBottom:12,fontWeight:700},children:r}),s.jsx("div",{style:{marginBottom:32},className:"jsx-a93d1526d5312985",children:"string"==typeof i?s.jsx(h,{type:"secondary",style:{fontSize:15},children:i}):i}),(0,s.jsxs)("div",{style:{width:"100%",display:"flex",gap:12},className:"jsx-a93d1526d5312985",children:[s.jsx(d.ZP,{block:!0,size:"large",onClick:f,disabled:b,style:{borderRadius:12,height:48,fontWeight:600,border:"1px solid #e2e8f0"},children:m}),s.jsx(d.ZP,{block:!0,type:"primary",size:"large",onClick:g,loading:b,style:{borderRadius:12,height:48,fontWeight:600,background:w,border:`1px solid ${w}`,boxShadow:`0 4px 12px ${w}40`},children:o})]})]}),s.jsx(n(),{id:"a93d1526d5312985",children:".modern-confirm-modal .ant-modal-content{-webkit-border-radius:20px!important;-moz-border-radius:20px!important;border-radius:20px!important;-webkit-box-shadow:0 10px 30px rgba(0,0,0,.15)!important;-moz-box-shadow:0 10px 30px rgba(0,0,0,.15)!important;box-shadow:0 10px 30px rgba(0,0,0,.15)!important;overflow:hidden}"})]})}},24297:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var s=r(12529);let i=r(40820).q.POS.PAYMENT_METHODS,n=(e,t="application/json")=>{let r={};return t&&(r["Content-Type"]=t),e&&(r.Cookie=e),r},o={getAll:async(e,t)=>{let r=(0,s.b)("GET",i),o=new URLSearchParams(t||"");o.has("page")||o.set("page","1"),o.has("limit")||o.set("limit","200");let a=o.toString();a&&(r+=`?${a}`);let d=n(e,""),l=await fetch(r,{cache:"no-store",headers:d,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch payment methods")}return l.json()},getById:async(e,t)=>{let r=(0,s.b)("GET",`${i}/${e}`),o=n(t,""),a=await fetch(r,{cache:"no-store",headers:o,credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch payment method")}return a.json()},getByName:async(e,t)=>{let r=(0,s.b)("GET",`${i}/getByName/${e}`),o=n(t,""),a=await fetch(r,{cache:"no-store",headers:o,credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch payment method")}return a.json()},create:async(e,t,r)=>{let o=(0,s.b)("POST",`${i}`),a=n(t);r&&(a["X-CSRF-Token"]=r);let d=await fetch(o,{method:"POST",headers:a,credentials:"include",body:JSON.stringify(e)});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to create payment method")}return d.json()},update:async(e,t,r,o)=>{let a=(0,s.b)("PUT",`${i}/${e}`),d=n(r);o&&(d["X-CSRF-Token"]=o);let l=await fetch(a,{method:"PUT",headers:d,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to update payment method")}return l.json()},delete:async(e,t,r)=>{let o=(0,s.b)("DELETE",`${i}/${e}`),a=n(t,"");r&&(a["X-CSRF-Token"]=r);let d=await fetch(o,{method:"DELETE",headers:a,credentials:"include"});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to delete payment method")}}}},83476:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var s=r(12529);let i="/pos/payments",n=(e,t="application/json")=>{let r={};return t&&(r["Content-Type"]=t),e&&(r.Cookie=e),r},o={getAll:async e=>{let t=(0,s.b)("GET",i),r=n(e,""),o=await fetch(t,{cache:"no-store",headers:r});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลการชำระเงินได้")}return o.json()},getById:async(e,t)=>{let r=(0,s.b)("GET",`${i}/${e}`),o=n(t,""),a=await fetch(r,{cache:"no-store",headers:o});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลการชำระเงินได้")}return a.json()},create:async(e,t,r)=>{let o=(0,s.b)("POST",`${i}`),a=n(t);r&&(a["X-CSRF-Token"]=r);let d=await fetch(o,{method:"POST",headers:a,credentials:"include",body:JSON.stringify(e)});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถสร้างรายการชำระเงินได้")}return d.json()},update:async(e,t,r,o)=>{let a=(0,s.b)("PUT",`${i}/${e}`),d=n(r);o&&(d["X-CSRF-Token"]=o);let l=await fetch(a,{method:"PUT",headers:d,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถแก้ไขรายการชำระเงินได้")}return l.json()},delete:async(e,t,r)=>{let o=(0,s.b)("DELETE",`${i}/${e}`),a=n(t,"");r&&(a["X-CSRF-Token"]=r);let d=await fetch(o,{method:"DELETE",headers:a,credentials:"include"});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถลบรายการชำระเงินได้")}}}},41734:(e,t,r)=>{"use strict";r.d(t,{U:()=>s,q:()=>i});let s={...r(43401).mv,cash:"#10b981",qr:"#1d4ed8",creditCard:"#f59e0b",totalCardBg:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",summaryBg:"#fafafa"},i={container:{minHeight:"100vh",background:s.background,fontFamily:"'Inter', 'Sarabun', sans-serif"},heroSection:{background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",padding:"32px 24px 70px",position:"relative",borderBottomLeftRadius:24,borderBottomRightRadius:24,boxShadow:"0 8px 24px rgba(24, 144, 255, 0.25)",marginBottom:-40,zIndex:1,overflow:"hidden"},contentWrapper:{maxWidth:1200,margin:"0 auto",position:"relative",zIndex:10},pageTitle:{margin:0,color:"#fff",fontSize:"clamp(20px, 5vw, 28px)",fontWeight:700},pageSubtitle:{color:"rgba(255,255,255,0.85)",fontSize:14},card:{borderRadius:12,overflow:"hidden",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",height:"100%",display:"flex",flexDirection:"column"},methodCard:{borderWidth:2,borderStyle:"solid",borderColor:"#f0f0f0",borderRadius:12,padding:16,textAlign:"center",cursor:"pointer",background:"#fff",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},methodCardSelected:{borderColor:s.primary,background:"#eff6ff",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.15)"},inputArea:{background:"#f8fafc",padding:20,borderRadius:12,border:`1px solid ${s.border}`},qrArea:{textAlign:"center",background:"#fff",padding:24,borderRadius:16,border:`1px dashed ${s.primary}`,boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},summaryBox:{marginTop:"auto",background:s.backgroundSecondary,padding:16,borderRadius:12}}},35905:(e,t,r)=>{"use strict";var s;r.d(t,{b:()=>s}),function(e){e.Pending="Pending",e.Success="Success",e.Failed="Failed"}(s||(s={}))},27851:(e,t,r)=>{"use strict";r.d(t,{Od:()=>n,T_:()=>l,VX:()=>o,cc:()=>i,hs:()=>s,si:()=>a,wv:()=>d});let s=(e,t=0)=>{if(!e)return{subtotal:0,discount:0,vat:0,total:0,change:0};let r=Number(e.sub_total||0),s=Number(e.discount_amount||0),i=Number(e.vat||0),n=Number(e.total_amount||0);return{subtotal:r,discount:s,vat:i,total:n,change:Math.max(0,t-n)}},i=(e="",t="")=>{let r=e.toLowerCase(),s=t.toLowerCase();return r.includes("cash")||s.includes("สด")},n=(e="",t="")=>{let r=e.toLowerCase(),s=t.toLowerCase();return r.includes("qr")||r.includes("prompt")||s.includes("qr")||s.includes("พร้อมเพย์")},o=(e="",t="",r=null)=>!n(e,t)||!!r?.promptpay_number,a=[20,50,100,500,1e3],d=()=>"/pos/channels",l=e=>`/pos/orders/${e}`},12829:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\items\delivery\[...deliveryId]\page.tsx#default`)}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,5898,8571,6927,3332,6857,4300,4259],()=>r(80627));module.exports=s})();