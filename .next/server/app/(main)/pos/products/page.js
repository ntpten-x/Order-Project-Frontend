(()=>{var e={};e.id=3843,e.ids=[3843],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},5095:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.Z,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>u,tree:()=>l}),r(59945),r(85429),r(58522),r(61804),r(7629),r(11930),r(12523);var s=r(23191),i=r(88716),a=r(43315),n=r(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let l=["",{children:["(main)",{children:["pos",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,59945)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\products\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],c=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\products\\page.tsx"],d="/(main)/pos/products/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/pos/products/page",pathname:"/pos/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},99198:(e,t,r)=>{Promise.resolve().then(r.bind(r,59060))},12226:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var a=r(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}let o=s.forwardRef((e,t)=>s.createElement(a.Z,n({},e,{ref:t,icon:i})))},59060:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ee});var s=r(10326),i=r(17577),a=r(66874),n=r(61357),o=r(64635),l=r(63459),c=r(71935),d=r(46752),p=r(75958),u=r(74944),g=r(49909),x=r(92442),h=r(46226),y=r(62938),f=r(46024),m=r(63191),j=r(80490),b=r(72380),v=r(24395),w=r(9078),P=r(12226),Z=r(35047),_=r(37938),k=r(59746),C=r(80440),F=r(33357),E=r(7670),S=r(54354),q=r(69711),R=r(44528);let z={...(0,R.yf)("linear-gradient(135deg, #4F46E5 0%, #4338CA 100%)"),productCard:R.YO,productCardInner:R.lv},O=`
  ${(0,R.IU)(".products-page",".product-card")}

  @media (max-width: 576px) {
    .products-header-content {
      flex-direction: column !important;
      align-items: stretch !important;
      gap: 16px !important;
    }
    
    .products-header-left {
      width: 100%;
    }

    .products-header-actions {
      width: 100%;
      display: flex;
      gap: 8px;
    }

    .products-search-input {
      width: 100% !important;
      flex: 1;
    }

    .products-add-btn-text {
      display: none;
    }
    
    .ant-empty-description {
        padding: 0 20px;
    }

    .product-card-inner {
        padding: 12px !important;
        gap: 10px !important;
    }
  }
`;var T=r(93312),A=r(20108),$=r(12529),D=r(40577);let I={findAll:async(e,t)=>{let r=(0,$.b)("GET","/pos/productsUnit");t&&(r+=`?${t.toString()}`);let s={};e&&(s.Cookie=e);let i=await fetch(r,{cache:"no-store",credentials:"include",headers:s});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e?.error?.message||e.error||e.message||"Failed to fetch products units")}return(0,D.hH)(await i.json())}},N="pos:products-units";var H=r(49227);function L(e,t){let r=e.length>0,s=t.length>0;return{hasCategories:r,hasUnits:s,isReady:r&&s,missingFields:[!r&&"หมวดหมู่สินค้า",!s&&"หน่วยสินค้า"].filter(Boolean)}}function M(e,t){let r=L(e,t);return r.isReady?"":`กรุณาเพิ่ม${r.missingFields.join("และ")}ให้เรียบร้อยก่อนใช้งาน`}var U=r(83179),W=r(26902),G=r(26963),J=r(76892),B=r(18978),X=r(52647),K=r(36231);let{Text:Y}=a.default,Q=({total:e,active:t,inactive:r})=>(0,s.jsxs)("div",{style:{background:"#fff",borderRadius:16,border:"1px solid #e2e8f0",display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:8,padding:14},children:[(0,s.jsxs)("div",{style:{textAlign:"center"},children:[s.jsx("span",{style:{fontSize:24,fontWeight:700,color:"#0f172a",display:"block"},children:e}),s.jsx(Y,{style:{fontSize:12,color:"#64748b"},children:"ทั้งหมด"})]}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[s.jsx("span",{style:{fontSize:24,fontWeight:700,color:"#0f766e",display:"block"},children:t}),s.jsx(Y,{style:{fontSize:12,color:"#64748b"},children:"ใช้งาน"})]}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[s.jsx("span",{style:{fontSize:24,fontWeight:700,color:"#b91c1c",display:"block"},children:r}),s.jsx(Y,{style:{fontSize:12,color:"#64748b"},children:"ปิดใช้งาน"})]})]}),V=({product:e,onEdit:t,onDelete:r,onToggleActive:i,updatingStatusId:a})=>s.jsx("div",{className:"product-card",style:{...z.productCard(e.is_active),borderRadius:16},onClick:()=>t(e),children:(0,s.jsxs)("div",{className:"product-card-inner",style:z.productCardInner,children:[s.jsx("div",{style:{width:64,height:64,borderRadius:14,border:"1px solid #F1F5F9",overflow:"hidden",position:"relative",background:"#F8FAFC",flexShrink:0},children:e.img_url?s.jsx(h.default,{src:e.img_url,alt:e.display_name||e.product_name,fill:!0,style:{objectFit:"cover"},sizes:"64px"}):s.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%)"},children:s.jsx(y.Z,{style:{fontSize:20,color:"#4F46E5"}})})}),(0,s.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[s.jsx(Y,{strong:!0,style:{fontSize:16,color:"#0f172a"},ellipsis:{tooltip:e.display_name},children:e.display_name}),s.jsx(n.Z,{color:e.is_active?"green":"default",children:e.is_active?"ใช้งาน":"ปิดใช้งาน"})]}),s.jsx(Y,{type:"secondary",style:{display:"block",marginBottom:6},ellipsis:{tooltip:e.product_name},children:e.product_name}),(0,s.jsxs)(o.Z,{size:6,wrap:!0,children:[s.jsx(n.Z,{style:{margin:0,border:"none",background:"#ecfdf5",color:"#047857"},children:(0,H.T4)(Number(e.price||0))}),Number(e.price_delivery??e.price??0)!==Number(e.price??0)?(0,s.jsxs)(n.Z,{style:{margin:0,border:"none",background:"#fdf2f8",color:"#be185d"},children:["Delivery ",(0,H.T4)(Number(e.price_delivery??0))]}):null,e.category?.display_name?s.jsx(n.Z,{style:{margin:0,border:"none",background:"#eff6ff",color:"#1d4ed8"},children:e.category.display_name}):null]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[s.jsx(l.Z,{size:"small",checked:e.is_active,loading:a===e.id,onClick:(t,r)=>{r?.stopPropagation(),i(e,t)}}),s.jsx(c.ZP,{type:"text",icon:s.jsx(f.Z,{}),onClick:r=>{r.stopPropagation(),t(e)},style:{borderRadius:10,color:"#4F46E5",background:"#EEF2FF",width:36,height:36}}),s.jsx(c.ZP,{type:"text",danger:!0,icon:s.jsx(m.Z,{}),onClick:t=>{t.stopPropagation(),r(e)},style:{borderRadius:10,background:"#fef2f2",width:36,height:36}})]})]})});function ee(){let e=(0,Z.useRouter)(),[t,r]=(0,i.useState)([]),[a,n]=(0,i.useState)(0),[l,h]=(0,i.useState)(null),[f,R]=(0,i.useState)(1),[$,D]=(0,i.useState)(1),[H,ee]=(0,i.useState)(!1),[et,er]=(0,i.useState)(""),[es,ei]=(0,i.useState)("all"),[ea,en]=(0,i.useState)("all"),[eo,el]=(0,i.useState)(null),[ec,ed]=(0,i.useState)(!1),{execute:ep}=(0,k.J)(),{showLoading:eu}=(0,_.x)(),{socket:eg}=(0,C.s)(),{isAuthorized:ex,isChecking:eh}=(0,E.e)({allowedRoles:["Admin","Manager"]}),{data:ey=[],isLoading:ef}=(0,T.L)(),{data:em=[],isLoading:ej}=(0,A.a)({queryKey:["products-units"],queryFn:async()=>{let e=await I.findAll();return e?.length&&(0,q.v)(N,e),e},initialData:()=>(0,q.t)(N,3e5)||void 0,staleTime:3e5,refetchOnWindowFocus:!1,retry:1}),eb=(0,i.useMemo)(()=>L(ey,em),[ey,em]),ev=(0,i.useCallback)(async()=>{ep(async()=>{let e=new URLSearchParams;e.set("page","1"),e.set("limit","50"),et.trim()&&e.set("q",et.trim()),"active"===es&&e.set("is_active","true"),"inactive"===es&&e.set("is_active","false"),"all"!==ea&&e.set("category_id",ea);let t=new URLSearchParams;t.set("page","1"),t.set("limit","1"),t.set("is_active","true"),"all"!==ea&&t.set("category_id",ea);let[s,i]=await Promise.all([fetch(`/api/pos/products?${e.toString()}`),fetch(`/api/pos/products?${t.toString()}`)]);if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลสินค้าได้")}if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงจำนวนสินค้าได้")}let a=await s.json(),o=await i.json(),l=Array.isArray(a.data)?a.data:[],c="number"==typeof a.total?a.total:l.length,d="number"==typeof a.page?a.page:1,p="number"==typeof a.last_page?a.last_page:1,u="number"==typeof o.total?o.total:null;r(l),n(c),R(d),D(p),h(u),et.trim()||"all"!==es||"all"!==ea||(0,q.v)("pos:products:v3",{items:l,total:c,page:d,last_page:p,active_total:u??void 0})},"กำลังโหลดข้อมูลสินค้า...")},[ep,et,es,ea]);(0,S.D)({socket:eg,events:[U.b.products.create,U.b.products.update,U.b.products.delete],onRefresh:ev,enabled:ex,debounceMs:400}),(0,S.v)(eg,{create:U.b.categories.create,update:U.b.categories.update,delete:U.b.categories.delete},()=>ev());let ew=(0,i.useCallback)(async()=>{if(!H&&!(f>=$)){ee(!0);try{let e=f+1,t=new URLSearchParams;t.set("page",e.toString()),t.set("limit","50"),et.trim()&&t.set("q",et.trim()),"active"===es&&t.set("is_active","true"),"inactive"===es&&t.set("is_active","false"),"all"!==ea&&t.set("category_id",ea);let s=await fetch(`/api/pos/products?${t.toString()}`);if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error||e.message||"โหลดข้อมูลเพิ่มไม่สำเร็จ")}let i=await s.json(),o=Array.isArray(i.data)?i.data:[],l="number"==typeof i.total?i.total:a,c="number"==typeof i.page?i.page:e,d="number"==typeof i.last_page?i.last_page:$;r(e=>{let t=new Map(e.map(e=>[e.id,e]));return o.forEach(e=>t.set(e.id,e)),Array.from(t.values())}),n(l),R(c),D(d)}catch(e){d.ZP.error(e instanceof Error?e.message:"โหลดข้อมูลเพิ่มไม่สำเร็จ")}finally{ee(!1)}}},[H,f,$,et,es,ea,a]),eP=()=>{eu("กำลังเปิดหน้าจัดการสินค้า..."),e.push("/pos/products/manage/add")},eZ=t=>{eu("กำลังเปิดหน้าแก้ไขสินค้า..."),e.push(`/pos/products/manage/edit/${t.id}`)},e_=e=>{p.Z.confirm({title:"ยืนยันการลบสินค้า",content:`คุณต้องการลบสินค้า "${e.display_name}" หรือไม่?`,okText:"ลบ",okType:"danger",cancelText:"ยกเลิก",centered:!0,icon:s.jsx(m.Z,{style:{color:"#EF4444"}}),onOk:async()=>{await ep(async()=>{let t=await (0,F.P)();if(!(await fetch(`/api/pos/products/delete/${e.id}`,{method:"DELETE",headers:{"X-CSRF-Token":t}})).ok)throw Error("ไม่สามารถลบสินค้าได้");r(t=>t.filter(t=>t.id!==e.id)),n(e=>Math.max(e-1,0)),d.ZP.success(`ลบสินค้า "${e.display_name}" สำเร็จ`)},"กำลังลบสินค้า...")}})},ek=async(e,t)=>{el(e.id);try{let s=await (0,F.P)(),i=await fetch(`/api/pos/products/update/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-Token":s},body:JSON.stringify({is_active:t})});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถเปลี่ยนสถานะสินค้าได้")}let a=await i.json();r(t=>t.map(t=>t.id===e.id?a:t)),d.ZP.success(t?"เปิดใช้งานสินค้าแล้ว":"ปิดใช้งานสินค้าแล้ว")}catch(e){console.error(e),d.ZP.error(e instanceof Error?e.message:"ไม่สามารถเปลี่ยนสถานะสินค้าได้")}finally{el(null)}};if(eh)return s.jsx(W.H,{message:"กำลังตรวจสอบสิทธิ์การใช้งาน..."});if(!ex)return s.jsx(W.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้ กำลังพากลับ...",tone:"danger"});let eC=l??t.filter(e=>e.is_active).length,eF=Math.max((a||t.length)-eC,0),eE=ef||ej;return eE||eb.isReady||0!==t.length?(0,s.jsxs)("div",{className:"products-page",style:z.container,children:[s.jsx("style",{children:O}),s.jsx(X.Z,{title:"สินค้า",subtitle:`ทั้งหมด ${a||t.length} รายการ`,icon:s.jsx(y.Z,{}),actions:(0,s.jsxs)(o.Z,{size:8,wrap:!0,children:[s.jsx(c.ZP,{icon:s.jsx(j.Z,{}),onClick:ev}),s.jsx(c.ZP,{type:"primary",icon:s.jsx(b.Z,{}),onClick:eP,disabled:!eb.isReady,children:"เพิ่มสินค้า"})]})}),s.jsx(G.Z,{children:(0,s.jsxs)(B.Z,{children:[eE||eb.isReady||!(t.length>0)?null:s.jsx(J.Z,{title:"ต้องตั้งค่าก่อนเพิ่มสินค้า",children:s.jsx(u.Z,{message:"ข้อมูลอ้างอิงยังไม่ครบ",description:M(ey,em),type:"warning",showIcon:!0})}),s.jsx(Q,{total:a||t.length,active:eC,inactive:eF}),s.jsx(J.Z,{title:"ค้นหาและตัวกรอง",children:(0,s.jsxs)("div",{style:{display:"grid",gap:10,gridTemplateColumns:"1fr"},children:[s.jsx(g.default,{prefix:s.jsx(v.Z,{style:{color:"#94A3B8"}}),allowClear:!0,placeholder:"ค้นหาจากชื่อสินค้า ชื่อแสดง หรือคำค้นอื่น...",value:et,onChange:e=>er(e.target.value)}),s.jsx(x.Z,{options:[{label:"ทั้งหมด",value:"all"},{label:"ใช้งาน",value:"active"},{label:"ปิดใช้งาน",value:"inactive"}],value:es,onChange:e=>ei(e)}),(0,s.jsxs)("div",{className:`modal-select-trigger ${"all"!==ea?"has-value":""}`,onClick:()=>ed(!0),style:{padding:"12px 16px",borderRadius:14,border:"2px solid #e2e8f0",background:"all"!==ea?"linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%)":"#fff",borderColor:"all"!==ea?"#4F46E5":"#e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",minHeight:48,transition:"all 0.2s ease"},children:[s.jsx("span",{style:{color:"all"!==ea?"#1e293b":"#94a3b8",fontWeight:"all"!==ea?600:400},children:"all"===ea?"ทุกหมวดหมู่":ey.find(e=>e.id===ea)?.display_name||"ทุกหมวดหมู่"}),s.jsx(w.Z,{style:{fontSize:12,color:"#94a3b8"}})]})]})}),s.jsx(p.Z,{title:"เลือกหมวดหมู่",open:ec,onCancel:()=>ed(!1),footer:null,centered:!0,width:400,styles:{body:{padding:"12px 16px 24px"}},children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:10,maxHeight:"60vh",overflowY:"auto"},children:[(0,s.jsxs)("div",{onClick:()=>{en("all"),ed(!1)},style:{padding:"14px 18px",border:"2px solid",borderRadius:12,cursor:"pointer",background:"all"===ea?"#eff6ff":"#fff",borderColor:"all"===ea?"#3b82f6":"#e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:54},children:[s.jsx("span",{style:{fontWeight:"all"===ea?600:400},children:"ทุกหมวดหมู่"}),"all"===ea&&s.jsx(P.Z,{style:{color:"#3b82f6",fontSize:18}})]}),ey.map(e=>(0,s.jsxs)("div",{onClick:()=>{en(e.id),ed(!1)},style:{padding:"14px 18px",border:"2px solid",borderRadius:12,cursor:"pointer",background:ea===e.id?"#eff6ff":"#fff",borderColor:ea===e.id?"#3b82f6":"#e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:54},children:[s.jsx("span",{style:{fontWeight:ea===e.id?600:400},children:e.display_name}),ea===e.id&&s.jsx(P.Z,{style:{color:"#3b82f6",fontSize:18}})]},e.id))]})}),s.jsx(J.Z,{title:"รายการสินค้า",extra:s.jsx("span",{style:{fontWeight:600},children:t.length}),children:t.length>0?(0,s.jsxs)(s.Fragment,{children:[t.map(e=>s.jsx(V,{product:e,onEdit:eZ,onDelete:e_,onToggleActive:ek,updatingStatusId:eo},e.id)),s.jsx("div",{style:{display:"flex",justifyContent:"center",paddingTop:12},children:f<$?s.jsx(c.ZP,{onClick:ew,loading:H,style:{borderRadius:12},children:"โหลดเพิ่ม"}):s.jsx(Y,{type:"secondary",style:{fontSize:12},children:"ไม่มีข้อมูลเพิ่มเติม"})})]}):s.jsx(K.Z,{title:et.trim()?"ไม่พบสินค้าตามคำค้น":"ยังไม่มีสินค้า",description:et.trim()?"ลองเปลี่ยนคำค้น หรือตัวกรอง":"เพิ่มสินค้าแรกเพื่อเริ่มใช้งาน",action:et.trim()?null:s.jsx(c.ZP,{type:"primary",icon:s.jsx(b.Z,{}),onClick:eP,disabled:!eb.isReady,children:"เพิ่มสินค้า"})})})]})})]}):(0,s.jsxs)("div",{className:"products-page",style:z.container,children:[s.jsx("style",{children:O}),s.jsx(X.Z,{title:"สินค้า",subtitle:"ตั้งค่าระบบก่อนเพิ่มสินค้า",icon:s.jsx(y.Z,{}),actions:(0,s.jsxs)(o.Z,{size:8,wrap:!0,children:[s.jsx(c.ZP,{icon:s.jsx(j.Z,{}),onClick:ev}),s.jsx(c.ZP,{type:"primary",icon:s.jsx(b.Z,{}),disabled:!0,children:"เพิ่มสินค้า"})]})}),s.jsx(G.Z,{children:s.jsx(B.Z,{children:s.jsx(K.Z,{title:"ยังไม่พร้อมเพิ่มสินค้า",description:M(ey,em),action:(0,s.jsxs)(o.Z,{size:10,wrap:!0,children:[eb.hasCategories?null:s.jsx(c.ZP,{type:"primary",onClick:()=>e.push("/pos/category"),children:"เพิ่มหมวดหมู่"}),eb.hasUnits?null:s.jsx(c.ZP,{type:"primary",onClick:()=>e.push("/pos/productsUnit"),children:"เพิ่มหน่วยสินค้า"})]})})})})]})}},18978:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(10326);r(17577);var i=r(21020),a=r(52386);function n({children:e,gap:t=a.H.sectionGap,style:r}){return s.jsx(i.Z,{vertical:!0,gap:t,style:r,children:e})}},36231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(10326);r(17577);var i=r(56249),a=r(75698),n=r(66874),o=r(52386);function l({title:e="ไม่มีข้อมูล",description:t,action:r,image:l}){return s.jsx(i.Z,{size:"small",variant:"outlined",style:{borderRadius:o.H.cardRadiusLG},bodyStyle:{padding:20},children:s.jsx(a.Z,{image:l,description:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.jsx(n.default.Text,{strong:!0,children:e}),t?s.jsx(n.default.Text,{type:"secondary",children:t}):null]}),children:r})})}},93312:(e,t,r)=>{"use strict";r.d(t,{L:()=>o});var s=r(20108),i=r(51562),a=r(69711);let n="pos:categories";function o(){return(0,s.a)({queryKey:["categories"],queryFn:async()=>{let e=await i.G.findAll();return e?.length&&(0,a.v)(n,e),e},initialData:()=>(0,a.t)(n,3e5)||void 0,staleTime:3e5,refetchOnWindowFocus:!1,retry:1})}},59746:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var s=r(17577),i=r(75958),a=r(37938);let n=()=>{let{showLoading:e,hideLoading:t}=(0,a.x)();return{execute:(0,s.useCallback)(async(r,s="กำลังดำเนินการ...",a,n="เกิดข้อผิดพลาด")=>{try{return e(s,"async"),await r()}catch(t){console.error("Async action error:",t);let e=n;"string"==typeof t?e=t:t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&(e=t.response?.data?.message??t.message??(()=>{try{return JSON.stringify(t)}catch{return"เกิดข้อผิดพลาดที่ไม่ทราบสาเหตุ (Unknown Error)"}})()),i.Z.error({title:"ข้อผิดพลาด",content:e});return}finally{t("async")}},[e,t])}}},80440:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var s=r(17577),i=r(19211);let a=()=>(0,s.useContext)(i.J)},69711:(e,t,r)=>{"use strict";r.d(t,{t:()=>i,v:()=>a});let s=()=>!1,i=(e,t)=>{if(!s())return null;try{let r=window.localStorage.getItem(e);if(!r)return null;let s=JSON.parse(r);if(!s?.ts||Date.now()-s.ts>t)return null;return s.data??null}catch{return null}},a=(e,t)=>{if(s())try{let r={ts:Date.now(),data:t};window.localStorage.setItem(e,JSON.stringify(r))}catch{}}},54354:(e,t,r)=>{"use strict";function s(e,t,r,s=e=>e.id,i=()=>!0){}function i({socket:e,events:t=[],onRefresh:r,intervalMs:s,enabled:i=!0,debounceMs:a}){}r.d(t,{D:()=>i,v:()=>s}),r(17577)},49227:(e,t,r)=>{"use strict";function s(e){return`฿${e.toLocaleString("th-TH",{minimumFractionDigits:0,maximumFractionDigits:2})}`}function i(e){return e.category?.display_name||"ไม่มีหมวดหมู่"}function a(e){return!!e.img_url&&e.img_url.length>0}r.d(t,{T4:()=>s,dU:()=>a,r6:()=>i})},59945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\products\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,4421,8571,1742,108,9244,8963,1399,4658,3849],()=>r(5095));module.exports=s})();