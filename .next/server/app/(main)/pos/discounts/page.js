(()=>{var e={};e.id=2519,e.ids=[2519],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},76651:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.Z,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>x,tree:()=>l}),r(743),r(85429),r(58522),r(61804),r(7629),r(11930),r(12523);var i=r(23191),s=r(88716),n=r(43315),a=r(95231),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);r.d(t,o);let l=["",{children:["(main)",{children:["pos",{children:["discounts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,743)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\discounts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],d=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\discounts\\page.tsx"],c="/(main)/pos/discounts/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/pos/discounts/page",pathname:"/pos/discounts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},48046:(e,t,r)=>{Promise.resolve().then(r.bind(r,83609))},2643:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var n=r(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let o=i.forwardRef((e,t)=>i.createElement(n.Z,a({},e,{ref:t,icon:s})))},98064:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"};var n=r(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let o=i.forwardRef((e,t)=>i.createElement(n.Z,a({},e,{ref:t,icon:s})))},40553:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};var n=r(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let o=i.forwardRef((e,t)=>i.createElement(n.Z,a({},e,{ref:t,icon:s})))},83609:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>X});var i=r(10326),s=r(17577),n=r.n(s),a=r(58184),o=r(56249),l=r(61357),d=r(71935),c=r(75958),p=r(46752),x=r(64635),u=r(49909);let g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 310H732.4c13.6-21.4 21.6-46.8 21.6-74 0-76.1-61.9-138-138-138-41.4 0-78.7 18.4-104 47.4-25.3-29-62.6-47.4-104-47.4-76.1 0-138 61.9-138 138 0 27.2 7.9 52.6 21.6 74H144c-17.7 0-32 14.3-32 32v200c0 4.4 3.6 8 8 8h40v344c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V550h40c4.4 0 8-3.6 8-8V342c0-17.7-14.3-32-32-32zm-334-74c0-38.6 31.4-70 70-70s70 31.4 70 70-31.4 70-70 70h-70v-70zm-138-70c38.6 0 70 31.4 70 70v70h-70c-38.6 0-70-31.4-70-70s31.4-70 70-70zM180 482V378h298v104H180zm48 68h250v308H228V550zm568 308H546V550h250v308zm48-376H546V378h298v104z"}}]},name:"gift",theme:"outlined"};var f=r(74082);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let m=s.forwardRef((e,t)=>s.createElement(f.Z,h({},e,{ref:t,icon:g})));var b=r(99251),y=r(98064),j=r(56811),v=r(40553),w=r(46024),k=r(63191),F=r(24395),z=r(80490),E=r(72380),P=r(82451),S=r(35047),Z=r(37938),C=r(59746),B=r(80440),R=r(33357),I=r(45207),O=r(54354),_=r(44528);let q={...(0,_.yf)("linear-gradient(135deg, #F59E0B 0%, #D97706 100%)"),discountCard:_.YO,discountCardInner:_.lv},L=(0,_.IU)(".discount-page",".discount-card");var A=r(26902),H=r(26963),T=r(52647),W=r(76892),$=r(18978),D=r(36231);let{Text:M,Title:N}=a.default,V=({total:e,fixed:t,percent:r,active:s,inactive:n})=>(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[(0,i.jsxs)("div",{style:{background:"white",padding:"12px 14px",borderRadius:16,boxShadow:"0 2px 10px rgba(0,0,0,0.02)",border:"1px solid #F1F5F9",display:"flex",alignItems:"center",gap:10},children:[i.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"#FFF7ED",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.jsx(m,{style:{fontSize:20,color:"#F59E0B"}})}),(0,i.jsxs)("div",{style:{minWidth:0},children:[i.jsx(M,{style:{color:"#64748B",display:"block",fontSize:11},children:"ทั้งหมด"}),i.jsx(N,{level:4,style:{margin:0,color:"#1E293B",fontWeight:700,fontSize:18},children:e})]})]}),(0,i.jsxs)("div",{style:{background:"white",padding:"12px 14px",borderRadius:16,boxShadow:"0 2px 10px rgba(0,0,0,0.02)",border:"1px solid #F1F5F9",display:"flex",alignItems:"center",gap:10},children:[i.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"#F0F9FF",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.jsx(b.Z,{style:{fontSize:20,color:"#0EA5E9"}})}),(0,i.jsxs)("div",{style:{minWidth:0},children:[i.jsx(M,{style:{color:"#64748B",display:"block",fontSize:11},children:"แบบบาท"}),i.jsx(N,{level:4,style:{margin:0,color:"#1E293B",fontWeight:700,fontSize:18},children:t})]})]}),(0,i.jsxs)("div",{style:{background:"white",padding:"12px 14px",borderRadius:16,boxShadow:"0 2px 10px rgba(0,0,0,0.02)",border:"1px solid #F1F5F9",display:"flex",alignItems:"center",gap:10},children:[i.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"#F5F3FF",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.jsx(y.Z,{style:{fontSize:20,color:"#8B5CF6"}})}),(0,i.jsxs)("div",{style:{minWidth:0},children:[i.jsx(M,{style:{color:"#64748B",display:"block",fontSize:11},children:"แบบ %"}),i.jsx(N,{level:4,style:{margin:0,color:"#1E293B",fontWeight:700,fontSize:18},children:r})]})]}),(0,i.jsxs)("div",{style:{background:"white",padding:"12px 14px",borderRadius:16,boxShadow:"0 2px 10px rgba(0,0,0,0.02)",border:"1px solid #F1F5F9",display:"flex",alignItems:"center",gap:10},children:[i.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"#ECFDF5",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.jsx(j.Z,{style:{fontSize:20,color:"#10B981"}})}),(0,i.jsxs)("div",{style:{minWidth:0},children:[i.jsx(M,{style:{color:"#64748B",display:"block",fontSize:11},children:"ใช้งาน"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"baseline",gap:4},children:[i.jsx(N,{level:4,style:{margin:0,color:"#1E293B",fontWeight:700,fontSize:18},children:s}),n>0&&(0,i.jsxs)(M,{type:"secondary",style:{fontSize:11},children:["(ปิด ",n,")"]})]})]})]})]}),G=n().memo(({discount:e,onEdit:t,onDelete:r})=>{let s=e.discount_type===P.L.Fixed;return(0,i.jsxs)(o.Z,{hoverable:!0,onClick:()=>t(e),style:{borderRadius:20,border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",transition:"all 0.2s",overflow:"hidden",background:"white",opacity:e.is_active?1:.7},styles:{body:{padding:16}},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:16},children:[i.jsx("div",{style:{width:56,height:56,borderRadius:16,background:s?"linear-gradient(135deg, #E0F2FE 0%, #BAE6FD 100%)":"linear-gradient(135deg, #F3E8FF 0%, #D8B4FE 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:s?"0 4px 12px rgba(14, 165, 233, 0.2)":"0 4px 12px rgba(139, 92, 246, 0.2)"},children:s?i.jsx(b.Z,{style:{fontSize:24,color:"#0369A1"}}):i.jsx(y.Z,{style:{fontSize:24,color:"#7E22CE"}})}),(0,i.jsxs)("div",{style:{padding:"4px 10px",borderRadius:20,background:e.is_active?"#ECFDF5":"#F1F5F9",color:e.is_active?"#059669":"#64748B",fontSize:12,fontWeight:600,display:"flex",alignItems:"center",gap:4},children:[e.is_active?i.jsx(j.Z,{}):i.jsx(v.Z,{}),e.is_active?"Active":"Inactive"]})]}),(0,i.jsxs)("div",{style:{marginBottom:16},children:[i.jsx(N,{level:5,style:{margin:0,marginBottom:4,color:"#1E293B"},ellipsis:!0,children:e.display_name}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[i.jsx(M,{type:"secondary",style:{fontSize:13},children:"Code:"}),i.jsx(l.Z,{style:{margin:0,borderRadius:6,background:"#F8FAFC",border:"1px solid #E2E8F0",color:"#475569"},children:e.discount_name})]})]}),(0,i.jsxs)("div",{style:{background:"#F8FAFC",borderRadius:12,padding:"10px 12px",marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(M,{style:{fontSize:12,color:"#64748B"},children:"มูลค่าส่วนลด"}),i.jsx(M,{style:{fontSize:16,fontWeight:700,color:"#F59E0B"},children:s?`฿${e.discount_amount.toLocaleString()}`:`${e.discount_amount}% OFF`})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:8,marginTop:"auto"},children:[i.jsx(d.ZP,{type:"text",icon:i.jsx(w.Z,{}),block:!0,onClick:r=>{r.stopPropagation(),t(e)},style:{borderRadius:10,background:"#FFF7ED",color:"#F59E0B",fontWeight:600},children:"แก้ไข"}),i.jsx(d.ZP,{type:"text",icon:i.jsx(k.Z,{}),onClick:t=>{t.stopPropagation(),r(e)},style:{borderRadius:10,background:"#FEF2F2",color:"#EF4444"}})]})]})});function X(){return i.jsx(J,{})}function J(){let e=(0,S.useRouter)(),[t,r]=(0,s.useState)([]),[n,a]=(0,s.useState)([]),[o,l]=(0,s.useState)(""),{execute:g}=(0,C.J)(),{showLoading:f}=(0,Z.x)(),{socket:h}=(0,B.s)(),{isAuthorized:m,isChecking:b}=(0,I.e)({requiredRole:"Admin"}),j=(0,s.useCallback)(async()=>{g(async()=>{let e=await fetch("/api/pos/discounts");if(!e.ok)throw Error("ไม่สามารถดึงข้อมูลส่วนลดได้");let t=await e.json();r(t),a(t)},"กำลังโหลดข้อมูลส่วนลด...")},[g]);(0,O.v)(h,{create:"discounts:create",update:"discounts:update",delete:"discounts:delete"},r);let v=()=>{f("กำลังเปิดหน้าจัดการส่วนลด..."),e.push("/pos/discounts/manager/add")},w=t=>{f("กำลังเปิดหน้าแก้ไขส่วนลด..."),e.push(`/pos/discounts/manager/edit/${t.id}`)},_=e=>{c.Z.confirm({title:"ยืนยันการลบส่วนลด",content:`คุณต้องการลบส่วนลด "${e.display_name||e.discount_name}" หรือไม่?`,okText:"ลบรายการ",okType:"danger",cancelText:"ยกเลิก",centered:!0,icon:i.jsx(k.Z,{style:{color:"#EF4444"}}),styles:{body:{borderRadius:16}},onOk:async()=>{await g(async()=>{let t=await (0,R.P)();if(!(await fetch(`/api/pos/discounts/delete/${e.id}`,{method:"DELETE",headers:{"X-CSRF-Token":t}})).ok)throw Error("ไม่สามารถลบส่วนลดได้");p.ZP.success("ลบส่วนลดสำเร็จ")},"กำลังลบส่วนลด...")}})};if(b)return i.jsx(A.H,{message:"กำลังตรวจสอบสิทธิ์การใช้งาน..."});if(!m)return i.jsx(A.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้",tone:"danger"});let M=t.filter(e=>e.is_active),N=t.filter(e=>!e.is_active),X=t.filter(e=>e.discount_type===P.L.Fixed),J=t.filter(e=>e.discount_type===P.L.Percentage);return(0,i.jsxs)("div",{className:"discount-page px-4 md:px-6",style:{...q.container,paddingTop:16,paddingBottom:24,background:"#F8FAFC",minHeight:"100vh"},children:[i.jsx("style",{children:L}),i.jsx(T.Z,{title:"ส่วนลด",subtitle:`${t.length} รายการ`,icon:i.jsx(y.Z,{}),actions:(0,i.jsxs)(x.Z,{size:8,wrap:!0,children:[i.jsx(u.default,{prefix:i.jsx(F.Z,{style:{color:"#94A3B8"}}),allowClear:!0,placeholder:"ค้นหา...",value:o,onChange:e=>l(e.target.value),style:{minWidth:200}}),i.jsx(d.ZP,{icon:i.jsx(z.Z,{}),onClick:j}),i.jsx(d.ZP,{type:"primary",icon:i.jsx(E.Z,{}),onClick:v,children:"เพิ่มส่วนลด"})]})}),i.jsx(H.Z,{children:(0,i.jsxs)($.Z,{children:[i.jsx(V,{total:t.length,fixed:X.length,percent:J.length,active:M.length,inactive:N.length}),i.jsx(W.Z,{title:"รายการส่วนลด",children:i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:16},children:n.length>0?n.map(e=>i.jsx(G,{discount:e,onEdit:w,onDelete:_},e.id)):i.jsx("div",{style:{gridColumn:"1 / -1"},children:i.jsx(D.Z,{title:o.trim()?"ไม่พบส่วนลดที่ค้นหา":"ยังไม่มีรายการส่วนลด",description:o.trim()?"ลองเปลี่ยนคำค้นหาใหม่":"เพิ่มส่วนลดแรกเพื่อเริ่มใช้งาน",action:o.trim()?null:i.jsx(d.ZP,{type:"primary",icon:i.jsx(E.Z,{}),onClick:v,children:"เพิ่มส่วนลด"})})})})})]})})]})}G.displayName="DiscountCard"},26902:(e,t,r)=>{"use strict";r.d(t,{H:()=>m});var i=r(10326),s=r(77626),n=r.n(s),a=r(17577),o=r(58184),l=r(54547),d=r(92121);let c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 1156 0zm152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}}]},name:"lock",theme:"filled"};var p=r(74082);function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}let u=a.forwardRef((e,t)=>a.createElement(p.Z,x({},e,{ref:t,icon:c})));var g=r(39275);let{Text:f,Title:h}=o.default,m=({message:e,tone:t="secondary"})=>(0,i.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 access-guard-container",children:[i.jsx(l.ZP,{theme:{token:{colorPrimary:"#3b82f6"}},children:(0,i.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 content-wrapper",children:["danger"===t?i.jsx("div",{className:"jsx-e041fd1637d3b0f2 icon-circle danger",children:i.jsx(u,{style:{fontSize:32,color:"#ef4444"}})}):i.jsx("div",{className:"jsx-e041fd1637d3b0f2 spinner-wrapper",children:i.jsx(d.Z,{indicator:i.jsx(g.Z,{style:{fontSize:40},spin:!0})})}),(0,i.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 text-content",children:[i.jsx(h,{level:4,style:{margin:0,color:"#1e293b"},children:"danger"===t?"Access Denied":"Loading"}),i.jsx(f,{type:t,style:{fontSize:16},children:e})]})]})}),i.jsx(n(),{id:"e041fd1637d3b0f2",children:".access-guard-container.jsx-e041fd1637d3b0f2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:100vh;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:#f8fafc}.content-wrapper.jsx-e041fd1637d3b0f2{background:white;padding:40px;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;-webkit-box-shadow:0 20px 40px rgba(0,0,0,.05);-moz-box-shadow:0 20px 40px rgba(0,0,0,.05);box-shadow:0 20px 40px rgba(0,0,0,.05);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:24px;text-align:center;min-width:320px;-webkit-animation:fadeIn.5s ease-out;-moz-animation:fadeIn.5s ease-out;-o-animation:fadeIn.5s ease-out;animation:fadeIn.5s ease-out}.icon-circle.jsx-e041fd1637d3b0f2{width:80px;height:80px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff1f2}.spinner-wrapper.jsx-e041fd1637d3b0f2{padding:20px}.text-content.jsx-e041fd1637d3b0f2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:8px}@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})},52647:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(10326);r(17577);var s=r(2643),n=r(5591),a=r(3861),o=r(21020),l=r(71935),d=r(58184),c=r(52386);function p({title:e,subtitle:t,icon:r,onBack:p,actions:x,style:u}){let{token:g}=n.default.useToken(),f=a.default.useBreakpoint().md?c.H.pagePaddingXDesktop:c.H.pagePaddingXMobile;return i.jsx("div",{style:{padding:`${c.H.pagePaddingY}px ${f}px`,background:g.colorBgContainer,borderBottom:`1px solid ${g.colorBorderSecondary}`,...u},children:(0,i.jsxs)(o.Z,{align:"center",justify:"space-between",wrap:"wrap",gap:12,style:{maxWidth:c.H.pageMaxWidth,margin:"0 auto"},children:[(0,i.jsxs)(o.Z,{align:"center",gap:12,style:{minWidth:0},children:[p&&i.jsx(l.ZP,{type:"text","aria-label":"ย้อนกลับ",icon:i.jsx(s.Z,{}),onClick:p,style:{borderRadius:12,width:44,height:44}}),r&&i.jsx("div",{style:{width:44,height:44,borderRadius:14,display:"grid",placeItems:"center",background:g.colorFillTertiary,color:g.colorText},children:r}),(0,i.jsxs)("div",{style:{minWidth:0},children:[i.jsx(d.default.Title,{level:4,style:{margin:0},children:e}),t&&i.jsx(d.default.Text,{type:"secondary",children:t})]})]}),x&&i.jsx(o.Z,{gap:8,wrap:"wrap",children:x})]})})}},18978:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(10326);r(17577);var s=r(21020),n=r(52386);function a({children:e,gap:t=n.H.sectionGap,style:r}){return i.jsx(s.Z,{vertical:!0,gap:t,style:r,children:e})}},36231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(10326);r(17577);var s=r(56249),n=r(75698),a=r(58184),o=r(52386);function l({title:e="ไม่มีข้อมูล",description:t,action:r,image:l}){return i.jsx(s.Z,{size:"small",variant:"outlined",style:{borderRadius:o.H.cardRadiusLG},bodyStyle:{padding:20},children:i.jsx(n.Z,{image:l,description:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[i.jsx(a.default.Text,{strong:!0,children:e}),t?i.jsx(a.default.Text,{type:"secondary",children:t}):null]}),children:r})})}},59746:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var i=r(17577),s=r(75958),n=r(37938);let a=()=>{let{showLoading:e,hideLoading:t}=(0,n.x)();return{execute:(0,i.useCallback)(async(r,i="กำลังดำเนินการ...",n,a="เกิดข้อผิดพลาด")=>{try{return e(i,"async"),await r()}catch(t){console.error("Async action error:",t);let e=a;"string"==typeof t?e=t:t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&(e=t.response?.data?.message??t.message??(()=>{try{return JSON.stringify(t)}catch{return"เกิดข้อผิดพลาดที่ไม่ทราบสาเหตุ (Unknown Error)"}})()),s.Z.error({title:"ข้อผิดพลาด",content:e});return}finally{t("async")}},[e,t])}}},80440:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var i=r(17577),s=r(19211);let n=()=>(0,i.useContext)(s.J)},44528:(e,t,r)=>{"use strict";r.d(t,{IU:()=>l,YO:()=>a,lv:()=>o,yf:()=>n});let i={colors:{primary:"#6366F1",primaryLight:"#EEF2FF",success:"#10B981",successLight:"#ECFDF5",warning:"#F59E0B",warningLight:"#FFFBEB",error:"#EF4444",errorLight:"#FEF2F2",info:"#3B82F6",infoLight:"#EFF6FF",bg:"#F8FAFC",card:"#FFFFFF",border:"#E2E8F0",borderLight:"#F1F5F9",text:"#1E293B",textSecondary:"#64748B",textMuted:"#94A3B8"},radius:{sm:8,md:12,lg:16,xl:20},shadow:{sm:"0 1px 2px rgba(0, 0, 0, 0.04)",md:"0 4px 12px rgba(0, 0, 0, 0.06)",lg:"0 8px 24px rgba(0, 0, 0, 0.08)"}},s={container:{paddingBottom:100,backgroundColor:i.colors.bg,minHeight:"100dvh",width:"100%",overflowX:"hidden"},header:{background:`linear-gradient(135deg, ${i.colors.primary} 0%, #4F46E5 100%)`,padding:"16px 16px 48px 16px",position:"relative",overflow:"hidden",borderBottomLeftRadius:i.radius.xl,borderBottomRightRadius:i.radius.xl},headerDecoCircle1:{position:"absolute",top:-40,right:-40,width:120,height:120,borderRadius:"50%",background:"rgba(255,255,255,0.08)"},headerDecoCircle2:{position:"absolute",bottom:-20,left:-20,width:80,height:80,borderRadius:"50%",background:"rgba(255,255,255,0.06)"},headerContent:{position:"relative",zIndex:1,display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},headerLeft:{display:"flex",alignItems:"center",gap:12,flex:1},headerIconBox:{width:44,height:44,borderRadius:i.radius.md,background:"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)",flexShrink:0},headerTitle:{color:"#fff",margin:0,fontSize:18,fontWeight:600},headerSubtitle:{color:"rgba(255,255,255,0.8)",fontSize:13,margin:0},headerActions:{display:"flex",gap:8,flexShrink:0},statsCard:{margin:"-32px 16px 0 16px",padding:16,background:i.colors.card,borderRadius:i.radius.lg,boxShadow:i.shadow.md,display:"flex",justifyContent:"space-around",position:"relative",zIndex:10},statItem:{textAlign:"center",flex:1},statNumber:{fontSize:22,fontWeight:700,display:"block",color:i.colors.text},statLabel:{fontSize:12,color:i.colors.textMuted,marginTop:2},listContainer:{padding:"16px 16px 0 16px"},sectionTitle:{display:"flex",alignItems:"center",gap:8,marginBottom:12,fontSize:15,fontWeight:600,color:i.colors.text}},n=e=>({...s,header:{...s.header,background:e}}),a=e=>({marginBottom:12,borderRadius:i.radius.lg,border:`1px solid ${e?i.colors.border:i.colors.borderLight}`,boxShadow:e?i.shadow.sm:"none",overflow:"hidden",transition:"all 0.2s ease",background:i.colors.card,opacity:e?1:.6}),o={padding:16,display:"flex",alignItems:"center",gap:12};i.radius.md;let l=(e,t)=>`
  /* Card animations */
  ${t} {
    animation: fadeSlideIn 0.3s ease both;
  }
  
  ${t}:hover {
    transform: translateY(-2px);
    box-shadow: ${i.shadow.md} !important;
  }
  
  ${t}:active {
    transform: scale(0.99);
  }
  
  /* Scrollbar */
  ${e} *::-webkit-scrollbar {
    width: 5px;
    height: 5px;
  }
  ${e} *::-webkit-scrollbar-track {
    background: transparent;
  }
  ${e} *::-webkit-scrollbar-thumb {
    background: #CBD5E1;
    border-radius: 3px;
  }
  ${e} *::-webkit-scrollbar-thumb:hover {
    background: #94A3B8;
  }
`},82451:(e,t,r)=>{"use strict";var i;r.d(t,{L:()=>i}),function(e){e.Fixed="Fixed",e.Percentage="Percentage"}(i||(i={}))},45207:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var i=r(17577),s=r(35047),n=r(94001);function a({requiredRole:e="Admin",redirectUnauthenticated:t="/login",redirectUnauthorized:r="/pos",unauthorizedMessage:a="คุณไม่มีสิทธิ์เข้าถึงหน้านี้"}={}){(0,s.useRouter)();let{user:o,loading:l}=(0,n.a)(),d=(0,i.useMemo)(()=>l?"checking":o?e&&o.role!==e?"unauthorized":"authorized":"unauthenticated",[o,l,e]);return(0,i.useRef)(!1),{status:d,isAuthorized:"authorized"===d,isChecking:"checking"===d,user:o}}},54354:(e,t,r)=>{"use strict";function i(e,t,r,i=e=>e.id,s=()=>!0){}function s({socket:e,events:t=[],onRefresh:r,intervalMs:i,enabled:s=!0,debounceMs:n}){}r.d(t,{D:()=>s,v:()=>i}),r(17577)},743:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\discounts\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[9276,8491,8571,8842,8963,1399,4658],()=>r(76651));module.exports=i})();