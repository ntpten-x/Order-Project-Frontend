(()=>{var e={};e.id=4290,e.ids=[4290],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},77704:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(89464),r(85429),r(58522),r(61804),r(7629),r(11930),r(12523);var a=r(23191),n=r(88716),i=r(43315),s=r(95231),o={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>s[e]);r.d(t,o);let l=["",{children:["(main)",{children:["pos",{children:["channels",{children:["dine-in",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,89464)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\channels\\dine-in\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],c=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\channels\\dine-in\\page.tsx"],d="/(main)/pos/channels/dine-in/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(main)/pos/channels/dine-in/page",pathname:"/pos/channels/dine-in",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1738:(e,t,r)=>{Promise.resolve().then(r.bind(r,16400))},2643:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(17577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var i=r(74082);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let o=a.forwardRef((e,t)=>a.createElement(i.Z,s({},e,{ref:t,icon:n})))},12226:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(17577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var i=r(74082);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let o=a.forwardRef((e,t)=>a.createElement(i.Z,s({},e,{ref:t,icon:n})))},6236:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(17577);let n={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var i=r(74082);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let o=a.forwardRef((e,t)=>a.createElement(i.Z,s({},e,{ref:t,icon:n})))},40553:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(17577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};var i=r(74082);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let o=a.forwardRef((e,t)=>a.createElement(i.Z,s({},e,{ref:t,icon:n})))},16400:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var a=r(10326),n=r(77626),i=r.n(n),s=r(17577),o=r(35047),l=r(64635),c=r(61357),d=r(4139),u=r(38106),p=r(71935),m=r(62938),f=r(40553),b=r(12226),y=r(6236),h=r(26963),x=r(76892),v=r(52647),g=r(36231),w=r(44976),j=r(20108),_=r(19211),k=r(31499),P=r(93922),z=r(79e3),O=r(15051),E=r(95963),S=r(37938),N=r(2504);function F(){let e=(0,o.useRouter)(),{showLoading:t,hideLoading:r}=(0,S.x)(),{tables:n,isLoading:F}=function(){let{socket:e}=(0,s.useContext)(_.J);(0,w.NL)();let{data:t,error:r,isLoading:a,refetch:n}=(0,j.a)({queryKey:["tables"],queryFn:async()=>(await k.$.getAll()).data,staleTime:2e3,refetchOnReconnect:!0});return{tables:t||[],isLoading:a,isError:r,mutate:n}}(),T=(0,s.useMemo)(()=>(0,N.W9)(n),[n]),C=(0,s.useMemo)(()=>(0,N.Th)(n),[n]),D=(0,s.useMemo)(()=>(0,N.Tf)(C),[C]),q=(t,r)=>{if(!r){let r=(0,E.Wl)(t);e.push(r)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(O.c,{}),a.jsx(i(),{id:z.N5.__hash,children:z.N5}),a.jsx(i(),{id:"a961af50cb45fe5b",children:".table-card-hover{-webkit-transition:all.3s cubic-bezier(.4,0,.2,1)!important;-moz-transition:all.3s cubic-bezier(.4,0,.2,1)!important;-o-transition:all.3s cubic-bezier(.4,0,.2,1)!important;transition:all.3s cubic-bezier(.4,0,.2,1)!important}.table-card-hover:hover{-webkit-transform:translatey(-6px)!important;-moz-transform:translatey(-6px)!important;-ms-transform:translatey(-6px)!important;-o-transform:translatey(-6px)!important;transform:translatey(-6px)!important;-webkit-box-shadow:0 16px 32px rgba(0,0,0,.08)!important;-moz-box-shadow:0 16px 32px rgba(0,0,0,.08)!important;box-shadow:0 16px 32px rgba(0,0,0,.08)!important}.table-card-hover:hover .table-icon{-webkit-transform:scale(1.1)!important;-moz-transform:scale(1.1)!important;-ms-transform:scale(1.1)!important;-o-transform:scale(1.1)!important;transform:scale(1.1)!important}.table-card-hover:active{-webkit-transform:translatey(-2px)scale(.98)!important;-moz-transform:translatey(-2px)scale(.98)!important;-ms-transform:translatey(-2px)scale(.98)!important;-o-transform:translatey(-2px)scale(.98)!important;transform:translatey(-2px)scale(.98)!important}@media(hover:none){.table-card-hover:active{-webkit-transform:scale(.97)!important;-moz-transform:scale(.97)!important;-ms-transform:scale(.97)!important;-o-transform:scale(.97)!important;transform:scale(.97)!important}.table-card-hover:hover{-webkit-transform:none!important;-moz-transform:none!important;-ms-transform:none!important;-o-transform:none!important;transform:none!important}}.table-icon-wrapper{width:64px;height:64px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:12px;position:relative;-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.pulse-soft{-webkit-animation:pulseSoft 2s ease-in-out infinite;-moz-animation:pulseSoft 2s ease-in-out infinite;-o-animation:pulseSoft 2s ease-in-out infinite;animation:pulseSoft 2s ease-in-out infinite}@-webkit-keyframes pulseSoft{0%,100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.05);transform:scale(1.05);opacity:.9}}@-moz-keyframes pulseSoft{0%,100%{-moz-transform:scale(1);transform:scale(1);opacity:1}50%{-moz-transform:scale(1.05);transform:scale(1.05);opacity:.9}}@-o-keyframes pulseSoft{0%,100%{-o-transform:scale(1);transform:scale(1);opacity:1}50%{-o-transform:scale(1.05);transform:scale(1.05);opacity:.9}}@keyframes pulseSoft{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05);opacity:.9}}.back-button-hover:hover{background:rgba(255,255,255,.28)!important;-webkit-transform:translatex(-2px);-moz-transform:translatex(-2px);-ms-transform:translatex(-2px);-o-transform:translatex(-2px);transform:translatex(-2px)}.show-on-mobile{display:none!important}@media(max-width:768px){.show-on-mobile{display:inline!important}}"}),(0,a.jsxs)("div",{style:P.Np.container,className:"jsx-a961af50cb45fe5b",children:[a.jsx(v.Z,{title:"หน้าร้าน",subtitle:"เลือกโต๊ะ",onBack:()=>e.push("/pos/channels"),icon:a.jsx(m.Z,{style:{fontSize:20}}),actions:(0,a.jsxs)(l.Z,{size:8,wrap:!0,children:[(0,a.jsxs)(c.Z,{color:"success",children:["ว่าง ",T.available]}),(0,a.jsxs)(c.Z,{color:"warning",children:["ไม่ว่าง ",T.occupied]})]})}),a.jsx(h.Z,{children:a.jsx(x.Z,{title:"โต๊ะ",children:n.length>0?a.jsx(d.Z,{gutter:[16,16],children:D.map((e,t)=>{let r=(0,N.Oi)(e),n=P.ax[r],i="Available"===e.status,s=!e.is_active;return a.jsx(u.Z,{xs:12,sm:8,md:6,lg:6,xl:4,children:(0,a.jsxs)("article",{style:{...z.yy.channelPageCard,background:s?"#F8FAFC":n.light,border:`2px solid ${n.border}`,opacity:s?.5:1,cursor:s?"not-allowed":"pointer"},onClick:()=>q(e,s),onKeyDown:t=>{s||"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),q(e,s))},role:"button",tabIndex:s?-1:0,"aria-label":`โต๊ะ ${e.table_name} - ${s?"ปิดใช้งาน":i?"ว่าง":"ไม่ว่าง"}`,"aria-disabled":s,className:`jsx-a961af50cb45fe5b table-card-hover dine-in-table-card dine-in-table-card-mobile table-card-animate table-card-delay-${t%6+1}`,children:[a.jsx("div",{style:{...z.yy.channelPageCardGradientOverlay,background:n.gradient},className:"jsx-a961af50cb45fe5b"}),(0,a.jsxs)("div",{style:z.yy.channelPageCardInner,className:"jsx-a961af50cb45fe5b",children:[a.jsx("div",{style:{background:`${n.primary}15`,border:`2px solid ${n.primary}30`},className:"jsx-a961af50cb45fe5b table-icon-wrapper",children:s?a.jsx(f.Z,{className:"table-icon dine-in-table-icon-mobile",style:{fontSize:32,color:n.primary,transition:"transform 0.3s ease"}}):i?a.jsx(b.Z,{className:"table-icon dine-in-table-icon-mobile",style:{fontSize:32,color:n.primary,transition:"transform 0.3s ease"}}):a.jsx(y.Z,{className:"table-icon pulse-soft dine-in-table-icon-mobile",style:{fontSize:32,color:n.primary,transition:"transform 0.3s ease"}})}),a.jsx("div",{style:{...z.yy.channelPageCardMainText,fontSize:24,color:n.text||n.primary},className:"jsx-a961af50cb45fe5b dine-in-table-name-mobile",children:e.table_name}),(0,a.jsxs)("div",{style:{marginTop:12,display:"flex",flexDirection:"column",gap:6,alignItems:"center"},className:"jsx-a961af50cb45fe5b",children:[!s&&a.jsx("div",{style:{fontSize:13,fontWeight:700,color:i?P.ax.available.primary:"#EF4444",textTransform:"uppercase",letterSpacing:"0.5px"},className:"jsx-a961af50cb45fe5b",children:i?"● ว่าง":"● ไม่ว่าง"}),a.jsx("div",{style:{...z.yy.channelPageCardStatusBadge,background:s?"#94A3B8":i?"rgba(16, 185, 129, 0.1)":n.primary,color:s?"#fff":i?P.ax.available.primary:"#fff",border:i?`1px solid ${P.ax.available.border}`:"none",fontSize:12,padding:"6px 14px"},className:"jsx-a961af50cb45fe5b",children:s?"ปิดใช้งาน":i?"รอรับออเดอร์":e.active_order_status?(0,N.NE)(e.active_order_status):"กำลังใช้งาน"})]})]})]})},e.id)})}):a.jsx(g.Z,{title:"ยังไม่มีข้อมูลโต๊ะ",description:"กรุณาเพิ่มข้อมูลโต๊ะก่อนเริ่มการขาย",action:a.jsx(p.ZP,{type:"primary",size:"large",icon:a.jsx(m.Z,{}),onClick:()=>e.push("/pos/tables"),children:"ไปหน้าจัดการโต๊ะ"})})})})]})]})}},36231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(10326);r(17577);var n=r(56249),i=r(75698),s=r(58184),o=r(52386);function l({title:e="ไม่มีข้อมูล",description:t,action:r,image:l}){return a.jsx(n.Z,{size:"small",variant:"outlined",style:{borderRadius:o.H.cardRadiusLG},bodyStyle:{padding:20},children:a.jsx(i.Z,{image:l,description:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[a.jsx(s.default.Text,{strong:!0,children:e}),t?a.jsx(s.default.Text,{type:"secondary",children:t}):null]}),children:r})})}},31499:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(12529),n=r(40820),i=r(40577);let s=n.q.POS.TABLES,o=(e,t="application/json")=>{let r={};return t&&(r["Content-Type"]=t),e&&(r.Cookie=e),r},l={getAll:async(e,t)=>{let r=(0,a.b)("GET",s),n=new URLSearchParams(t||"");n.has("page")||n.set("page","1"),n.has("limit")||n.set("limit","200");let l=n.toString();l&&(r+=`?${l}`);let c=o(e,""),d=await fetch(r,{cache:"no-store",headers:c,credentials:"include"});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error((0,i.i_)(e,"Failed to fetch tables"))}return(0,i.XO)(await d.json())},getById:async(e,t)=>{let r=(0,a.b)("GET",`${s}/${e}`),n=o(t,""),l=await fetch(r,{cache:"no-store",headers:n,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,i.i_)(e,"Failed to fetch tables"))}return(0,i.hH)(await l.json())},getByName:async(e,t)=>{let r=(0,a.b)("GET",`${s}/getByName/${e}`),n=o(t,""),l=await fetch(r,{cache:"no-store",headers:n,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,i.i_)(e,"Failed to fetch tables"))}return(0,i.hH)(await l.json())},create:async(e,t,r)=>{let n=(0,a.b)("POST",`${s}`),l=o(t);r&&(l["X-CSRF-Token"]=r);let c=await fetch(n,{method:"POST",headers:l,credentials:"include",body:JSON.stringify(e)});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error((0,i.i_)(e,"Failed to create table"))}return(0,i.hH)(await c.json())},update:async(e,t,r,n)=>{let l=(0,a.b)("PUT",`${s}/${e}`),c=o(r);n&&(c["X-CSRF-Token"]=n);let d=await fetch(l,{method:"PUT",headers:c,credentials:"include",body:JSON.stringify(t)});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error((0,i.i_)(e,"Failed to update table"))}return(0,i.hH)(await d.json())},delete:async(e,t,r)=>{let n=(0,a.b)("DELETE",`${s}/${e}`),l=o(t,"");r&&(l["X-CSRF-Token"]=r);let c=await fetch(n,{method:"DELETE",headers:l,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error((0,i.i_)(e,"Failed to delete table"))}}}},10985:(e,t,r)=>{"use strict";var a;r.d(t,{c:()=>a}),function(e){e.Available="Available",e.Unavailable="Unavailable"}(a||(a={}))},2504:(e,t,r)=>{"use strict";r.d(t,{NE:()=>c,Th:()=>o,Do:()=>d,Yx:()=>u,Zu:()=>p,Oi:()=>l,W9:()=>i,Tf:()=>s});var a=r(10985),n=r(13976);function i(e){let t={total:e.length,available:0,occupied:0,inactive:0};return e.forEach(e=>{e.is_active?e.status===a.c.Available?t.available++:t.occupied++:t.inactive++}),t}function s(e){return[...e].sort((e,t)=>{let r=parseInt(e.table_name.replace(/\D/g,"")),a=parseInt(t.table_name.replace(/\D/g,""));return isNaN(r)||isNaN(a)?e.table_name.localeCompare(t.table_name):r-a})}function o(e){return e.filter(e=>e.is_active)}function l(e){return e.is_active?"WaitingForPayment"===e.active_order_status?"waitingForPayment":e.status===a.c.Available?"available":"occupied":"inactive"}function c(e){return e?({Pending:"กำลังดำเนินการ",Cooking:"กำลังปรุง",Served:"เสิร์ฟแล้ว",WaitingForOrder:"รอรับออเดอร์",WaitingForPayment:"รอชำระเงิน",Paid:"ชำระเงินแล้ว",Completed:"เสร็จสมบูรณ์",Cancelled:"ยกเลิก"})[e]||e:""}function d(e){return e.reduce((e,t)=>(e.total++,t.status===n.i.Pending&&e.pending++,t.status===n.i.Cooking&&e.cooking++,t.status===n.i.Served&&e.served++,e),{total:0,pending:0,cooking:0,served:0})}function u(e){switch(e.status){case n.i.Pending:case n.i.Cooking:return"occupied";case n.i.Served:return"waitingForPayment";case n.i.Paid:return"available";default:return"inactive"}}let p=e=>{switch(e){case n.m.DineIn:case"DineIn":return"/pos/channels/dine-in";case n.m.TakeAway:case"TakeAway":return"/pos/channels/takeaway";case n.m.Delivery:case"Delivery":return"/pos/channels/delivery";default:return"/pos/orders"}}},95963:(e,t,r)=>{"use strict";r.d(t,{EO:()=>g,Gs:()=>l,HL:()=>w,M9:()=>j,Nz:()=>b,OY:()=>s,Rr:()=>x,Wl:()=>i,d$:()=>_,d7:()=>o,iN:()=>u,jN:()=>f,ku:()=>h,mz:()=>c,qO:()=>d,xG:()=>m,yj:()=>v,zP:()=>p,zf:()=>k});var a=r(13976),n=r(10985);let i=e=>{if(e.status===n.c.Available)return`/pos/channels/dine-in/${e.id}`;let t=e.active_order_id||e.active_order?.id,r=e.active_order_status||e.active_order?.status;return t?r===a.i.WaitingForPayment?`/pos/items/payment/${t}`:`/pos/orders/${t}`:`/pos/channels/dine-in/${e.id}`},s=e=>{switch(e){case a.i.Pending:return"orange";case a.i.Cooking:return"blue";case a.i.Served:return"green";case a.i.Paid:return"cyan";case a.i.Cancelled:return"red";case a.i.WaitingForPayment:return"gold";default:return"default"}},o=(e,t)=>{switch(e){case a.i.Pending:return"กำลังดำเนินการ";case a.i.Cooking:return"กำลังปรุง";case a.i.Served:if("TakeAway"===t||"Delivery"===t)return"ทำแล้ว";return"เสิร์ฟแล้ว";case a.i.Paid:return"ชำระเงินแล้ว";case a.i.Completed:return"สำเร็จ";case a.i.Cancelled:return"ยกเลิก";case a.i.WaitingForPayment:return"รอชำระเงิน";default:return e}},l=e=>{switch(e){case"DineIn":return"#722ed1";case"TakeAway":return"#fa8c16";case"Delivery":return"#eb2f96";default:return"#1890ff"}},c=e=>{switch(e){case"DineIn":return"ทานที่ร้าน";case"TakeAway":return"สั่งกลับบ้าน";case"Delivery":return"เดลิเวอรี่";default:return e}},d=e=>"DineIn"===e?"เสิร์ฟ":"ทำแล้ว",u=e=>"Delivery"===e?"จัดออเดอร์เสร็จแล้วพร้อมส่งให้ไรเดอร์":"DineIn"===e?"ยืนยันเสิร์ฟพร้อมชำระเงิน":"ยืนยันทำแล้วพร้อมชำระเงิน",p=e=>"DineIn"===e?"เสิร์ฟอาหารแล้ว":"ปรุงเสร็จแล้ว",m=e=>{let t="string"==typeof e?parseFloat(e):e;return`฿${Number(t).toLocaleString("th-TH",{minimumFractionDigits:0,maximumFractionDigits:2})}`},f=e=>"DineIn"===e.order_type?e.table?.table_name||"ไม่ระบุโต๊ะ":"Delivery"===e.order_type?e.delivery_code||e.delivery?.delivery_name||"ไม่ระบุข้อมูล":"TakeAway"===e.order_type?e.order_no||"ไม่ระบุเลขที่":e.order_no||"N/A",b=e=>(e??[]).filter(e=>e.status!==a.i.Cancelled),y=e=>(e??[]).reduce((e,t)=>e+(Number(t.extra_price)||0),0),h=(e,t,r)=>((Number(e)||0)+y(r))*t,x=e=>b(e).reduce((e,t)=>{let r=t.product?.category?.display_name||"ไม่ระบุหมวด";return e[r]=(e[r]||0)+(t.quantity||0),e},{}),v=e=>b(e).reduce((e,t)=>e+Number(t.total_price||0),0),g=e=>"DineIn"===e.order_type?"/pos/channels/dine-in":"TakeAway"===e.order_type?"/pos/channels/takeaway":"Delivery"===e.order_type?"/pos/channels/delivery":"/pos/orders",w=e=>`/pos/orders/${e}`,j=e=>e.status===a.i.WaitingForPayment?e.order_type===a.m.Delivery?`/pos/items/delivery/${e.id}`:`/pos/items/payment/${e.id}`:`/pos/orders/${e.id}`,_=e=>e===a.m.Delivery?"/pos/channels/delivery":e===a.m.TakeAway?"/pos/channels/takeaway":e===a.m.DineIn?"/pos/channels/dine-in":"/pos/channels",k=(e,t,r,n)=>({order_no:n.orderNo||`ORD-${Date.now()}`,order_type:t,sub_total:r.subTotal,discount_amount:r.discountAmount,vat:0,total_amount:r.totalAmount,received_amount:0,change_amount:0,status:a.i.Pending,discount_id:n.discountId||null,payment_method_id:null,table_id:n.tableId||null,delivery_id:n.deliveryId||null,delivery_code:n.deliveryCode||null,items:e.map(e=>{let r=t===a.m.Delivery?Number(e.product.price_delivery??e.product.price):Number(e.product.price),n=(r+(e.details||[]).reduce((e,t)=>e+Number(t.extra_price),0))*e.quantity;return{product_id:e.product.id,quantity:e.quantity,price:r,total_price:n,discount_amount:0,notes:e.notes||"",status:a.i.Cooking,details:e.details||[]}})})},89464:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\channels\dine-in\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,8491,8571,8842,108,8963,1399,4658,1587],()=>r(77704));module.exports=a})();