(()=>{var e={};e.id=4290,e.ids=[4290],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},77704:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.Z,__next_app__:()=>m,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>l}),a(89464),a(85429),a(58522),a(61804),a(7629),a(11930),a(12523);var r=a(23191),n=a(88716),s=a(43315),i=a(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let l=["",{children:["(main)",{children:["pos",{children:["channels",{children:["dine-in",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,89464)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\channels\\dine-in\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],c=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\channels\\dine-in\\page.tsx"],d="/(main)/pos/channels/dine-in/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(main)/pos/channels/dine-in/page",pathname:"/pos/channels/dine-in",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1738:(e,t,a)=>{Promise.resolve().then(a.bind(a,16400))},2643:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(17577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var s=a(74082);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let o=r.forwardRef((e,t)=>r.createElement(s.Z,i({},e,{ref:t,icon:n})))},12226:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(17577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var s=a(74082);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let o=r.forwardRef((e,t)=>r.createElement(s.Z,i({},e,{ref:t,icon:n})))},6236:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(17577);let n={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var s=a(74082);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let o=r.forwardRef((e,t)=>r.createElement(s.Z,i({},e,{ref:t,icon:n})))},40553:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(17577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};var s=a(74082);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let o=r.forwardRef((e,t)=>r.createElement(s.Z,i({},e,{ref:t,icon:n})))},16400:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var r=a(10326),n=a(77626),s=a.n(n),i=a(17577),o=a(35047),l=a(58184),c=a(4139),d=a(38106),m=a(75698),p=a(71935),u=a(2643),b=a(62938),f=a(40553),y=a(12226),h=a(6236),x=a(44976),v=a(20108),g=a(19211),j=a(31499),w=a(93922),k=a(79e3),P=a(15051),_=a(95963),N=a(37938),S=a(2504);let{Title:z,Text:E}=l.default;function O(){let e=(0,o.useRouter)(),{showLoading:t,hideLoading:a}=(0,N.x)(),{tables:n,isLoading:l}=function(){let{socket:e}=(0,i.useContext)(g.J);(0,x.NL)();let{data:t,error:a,isLoading:r,refetch:n}=(0,v.a)({queryKey:["tables"],queryFn:async()=>(await j.$.getAll()).data,staleTime:2e3,refetchOnReconnect:!0});return{tables:t||[],isLoading:r,isError:a,mutate:n}}(),O=(0,i.useMemo)(()=>(0,S.W9)(n),[n]),T=(0,i.useMemo)(()=>(0,S.Th)(n),[n]),C=(0,i.useMemo)(()=>(0,S.Tf)(T),[T]),F=(t,a)=>{if(!a){let a=(0,_.Wl)(t);e.push(a)}};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(P.c,{}),r.jsx(s(),{id:k.N5.__hash,children:k.N5}),r.jsx(s(),{id:"a961af50cb45fe5b",children:".table-card-hover{-webkit-transition:all.3s cubic-bezier(.4,0,.2,1)!important;-moz-transition:all.3s cubic-bezier(.4,0,.2,1)!important;-o-transition:all.3s cubic-bezier(.4,0,.2,1)!important;transition:all.3s cubic-bezier(.4,0,.2,1)!important}.table-card-hover:hover{-webkit-transform:translatey(-6px)!important;-moz-transform:translatey(-6px)!important;-ms-transform:translatey(-6px)!important;-o-transform:translatey(-6px)!important;transform:translatey(-6px)!important;-webkit-box-shadow:0 16px 32px rgba(0,0,0,.08)!important;-moz-box-shadow:0 16px 32px rgba(0,0,0,.08)!important;box-shadow:0 16px 32px rgba(0,0,0,.08)!important}.table-card-hover:hover .table-icon{-webkit-transform:scale(1.1)!important;-moz-transform:scale(1.1)!important;-ms-transform:scale(1.1)!important;-o-transform:scale(1.1)!important;transform:scale(1.1)!important}.table-card-hover:active{-webkit-transform:translatey(-2px)scale(.98)!important;-moz-transform:translatey(-2px)scale(.98)!important;-ms-transform:translatey(-2px)scale(.98)!important;-o-transform:translatey(-2px)scale(.98)!important;transform:translatey(-2px)scale(.98)!important}@media(hover:none){.table-card-hover:active{-webkit-transform:scale(.97)!important;-moz-transform:scale(.97)!important;-ms-transform:scale(.97)!important;-o-transform:scale(.97)!important;transform:scale(.97)!important}.table-card-hover:hover{-webkit-transform:none!important;-moz-transform:none!important;-ms-transform:none!important;-o-transform:none!important;transform:none!important}}.table-icon-wrapper{width:64px;height:64px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:12px;position:relative;-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.pulse-soft{-webkit-animation:pulseSoft 2s ease-in-out infinite;-moz-animation:pulseSoft 2s ease-in-out infinite;-o-animation:pulseSoft 2s ease-in-out infinite;animation:pulseSoft 2s ease-in-out infinite}@-webkit-keyframes pulseSoft{0%,100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.05);transform:scale(1.05);opacity:.9}}@-moz-keyframes pulseSoft{0%,100%{-moz-transform:scale(1);transform:scale(1);opacity:1}50%{-moz-transform:scale(1.05);transform:scale(1.05);opacity:.9}}@-o-keyframes pulseSoft{0%,100%{-o-transform:scale(1);transform:scale(1);opacity:1}50%{-o-transform:scale(1.05);transform:scale(1.05);opacity:.9}}@keyframes pulseSoft{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05);opacity:.9}}.back-button-hover:hover{background:rgba(255,255,255,.28)!important;-webkit-transform:translatex(-2px);-moz-transform:translatex(-2px);-ms-transform:translatex(-2px);-o-transform:translatex(-2px);transform:translatex(-2px)}.show-on-mobile{display:none!important}@media(max-width:768px){.show-on-mobile{display:inline!important}}"}),(0,r.jsxs)("div",{style:w.Np.container,className:"jsx-a961af50cb45fe5b",children:[(0,r.jsxs)("header",{style:{...k.yy.channelHeader,background:w.hS.dineIn.gradient},role:"banner",className:"jsx-a961af50cb45fe5b dine-in-header-mobile",children:[r.jsx("div",{className:"jsx-a961af50cb45fe5b header-pattern"}),r.jsx("div",{className:"jsx-a961af50cb45fe5b header-circle circle-1"}),r.jsx("div",{className:"jsx-a961af50cb45fe5b header-circle circle-2"}),(0,r.jsxs)("div",{style:k.yy.channelHeaderContent,className:"jsx-a961af50cb45fe5b dine-in-header-content-mobile",children:[(0,r.jsxs)("button",{style:k.yy.channelBackButton,onClick:()=>e.push("/pos/channels"),"aria-label":"กลับไปหน้าเลือกช่องทาง",className:"jsx-a961af50cb45fe5b back-button-hover dine-in-back-button-mobile",children:[r.jsx(u.Z,{}),r.jsx("span",{className:"jsx-a961af50cb45fe5b",children:"กลับ"})]}),(0,r.jsxs)("div",{style:k.yy.channelTitleSection,className:"jsx-a961af50cb45fe5b dine-in-title-section-mobile",children:[r.jsx(b.Z,{style:k.yy.channelHeaderIcon,className:"dine-in-header-icon-mobile","aria-hidden":"true"}),r.jsx("div",{className:"jsx-a961af50cb45fe5b",children:r.jsx(z,{level:3,style:k.yy.channelHeaderTitle,className:"dine-in-header-title-mobile",children:"เลือกโต๊ะ"})})]}),(0,r.jsxs)("div",{style:k.yy.channelStatsBar,className:"jsx-a961af50cb45fe5b dine-in-stats-bar-mobile",children:[(0,r.jsxs)("div",{style:k.yy.statItem,className:"jsx-a961af50cb45fe5b",children:[r.jsx("span",{style:{...k.yy.statDot,background:w.ax.available.primary},className:"jsx-a961af50cb45fe5b"}),(0,r.jsxs)(E,{style:k.yy.statText,children:["ว่าง ",O.available]})]}),(0,r.jsxs)("div",{style:k.yy.statItem,className:"jsx-a961af50cb45fe5b",children:[r.jsx("span",{style:{...k.yy.statDot,background:w.ax.occupied.primary},className:"jsx-a961af50cb45fe5b"}),(0,r.jsxs)(E,{style:k.yy.statText,children:["ไม่ว่าง ",O.occupied]})]})]})]})]}),r.jsx("main",{style:{maxWidth:1400,margin:"24px auto 0",padding:"0 16px 32px"},role:"main",className:"jsx-a961af50cb45fe5b dine-in-content-mobile",children:n.length>0?r.jsx(c.Z,{gutter:[16,16],children:C.map((e,t)=>{let a=(0,S.Oi)(e),n=w.ax[a],s="Available"===e.status,i=!e.is_active;return r.jsx(d.Z,{xs:12,sm:8,md:6,lg:6,xl:4,children:(0,r.jsxs)("article",{style:{...k.yy.channelPageCard,background:i?"#F8FAFC":n.light,border:`2px solid ${n.border}`,opacity:i?.5:1,cursor:i?"not-allowed":"pointer"},onClick:()=>F(e,i),onKeyDown:t=>{i||"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),F(e,i))},role:"button",tabIndex:i?-1:0,"aria-label":`โต๊ะ ${e.table_name} - ${i?"ปิดใช้งาน":s?"ว่าง":"ไม่ว่าง"}`,"aria-disabled":i,className:`jsx-a961af50cb45fe5b table-card-hover dine-in-table-card dine-in-table-card-mobile table-card-animate table-card-delay-${t%6+1}`,children:[r.jsx("div",{style:{...k.yy.channelPageCardGradientOverlay,background:n.gradient},className:"jsx-a961af50cb45fe5b"}),(0,r.jsxs)("div",{style:k.yy.channelPageCardInner,className:"jsx-a961af50cb45fe5b",children:[r.jsx("div",{style:{background:`${n.primary}15`,border:`2px solid ${n.primary}30`},className:"jsx-a961af50cb45fe5b table-icon-wrapper",children:i?r.jsx(f.Z,{className:"table-icon dine-in-table-icon-mobile",style:{fontSize:32,color:n.primary,transition:"transform 0.3s ease"}}):s?r.jsx(y.Z,{className:"table-icon dine-in-table-icon-mobile",style:{fontSize:32,color:n.primary,transition:"transform 0.3s ease"}}):r.jsx(h.Z,{className:"table-icon pulse-soft dine-in-table-icon-mobile",style:{fontSize:32,color:n.primary,transition:"transform 0.3s ease"}})}),r.jsx("div",{style:{...k.yy.channelPageCardMainText,fontSize:24,color:n.text||n.primary},className:"jsx-a961af50cb45fe5b dine-in-table-name-mobile",children:e.table_name}),(0,r.jsxs)("div",{style:{marginTop:12,display:"flex",flexDirection:"column",gap:6,alignItems:"center"},className:"jsx-a961af50cb45fe5b",children:[!i&&r.jsx("div",{style:{fontSize:13,fontWeight:700,color:s?w.ax.available.primary:"#EF4444",textTransform:"uppercase",letterSpacing:"0.5px"},className:"jsx-a961af50cb45fe5b",children:s?"● ว่าง":"● ไม่ว่าง"}),r.jsx("div",{style:{...k.yy.channelPageCardStatusBadge,background:i?"#94A3B8":s?"rgba(16, 185, 129, 0.1)":n.primary,color:i?"#fff":s?w.ax.available.primary:"#fff",border:s?`1px solid ${w.ax.available.border}`:"none",fontSize:12,padding:"6px 14px"},className:"jsx-a961af50cb45fe5b",children:i?"ปิดใช้งาน":s?"รอรับออเดอร์":e.active_order_status?(0,S.NE)(e.active_order_status):"กำลังใช้งาน"})]})]})]})},e.id)})}):r.jsx("div",{style:k.yy.emptyStateContainer,className:"jsx-a961af50cb45fe5b",children:r.jsx(m.Z,{image:m.Z.PRESENTED_IMAGE_SIMPLE,styles:{image:{height:100}},description:(0,r.jsxs)("div",{style:{marginTop:20},className:"jsx-a961af50cb45fe5b",children:[r.jsx(z,{level:4,style:{marginBottom:8,color:"#1E293B"},children:"ยังไม่มีข้อมูลโต๊ะ"}),r.jsx(E,{type:"secondary",style:{fontSize:15},children:"กรุณาเพิ่มข้อมูลโต๊ะก่อนเริ่มการขาย"})]}),children:r.jsx(p.ZP,{type:"primary",size:"large",icon:r.jsx(b.Z,{}),style:{height:52,padding:"0 36px",borderRadius:16,fontSize:16,fontWeight:600,marginTop:20,background:w.hS.dineIn.primary,border:"none",boxShadow:`0 8px 20px ${w.hS.dineIn.primary}40`},onClick:()=>e.push("/pos/tables"),children:"ไปหน้าจัดการโต๊ะ"})})})})]})]})}},31499:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var r=a(12529);let n=a(40820).q.POS.TABLES,s=(e,t="application/json")=>{let a={};return t&&(a["Content-Type"]=t),e&&(a.Cookie=e),a},i={getAll:async(e,t)=>{let a=(0,r.b)("GET",n),i=new URLSearchParams(t||"");i.has("page")||i.set("page","1"),i.has("limit")||i.set("limit","200");let o=i.toString();o&&(a+=`?${o}`);let l=s(e,""),c=await fetch(a,{cache:"no-store",headers:l,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch tables")}return c.json()},getById:async(e,t)=>{let a=(0,r.b)("GET",`${n}/${e}`),i=s(t,""),o=await fetch(a,{cache:"no-store",headers:i,credentials:"include"});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch tables")}return o.json()},getByName:async(e,t)=>{let a=(0,r.b)("GET",`${n}/getByName/${e}`),i=s(t,""),o=await fetch(a,{cache:"no-store",headers:i,credentials:"include"});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch tables")}return o.json()},create:async(e,t,a)=>{let i=(0,r.b)("POST",`${n}`),o=s(t);a&&(o["X-CSRF-Token"]=a);let l=await fetch(i,{method:"POST",headers:o,credentials:"include",body:JSON.stringify(e)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to create table")}return l.json()},update:async(e,t,a,i)=>{let o=(0,r.b)("PUT",`${n}/${e}`),l=s(a);i&&(l["X-CSRF-Token"]=i);let c=await fetch(o,{method:"PUT",headers:l,credentials:"include",body:JSON.stringify(t)});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to update table")}return c.json()},delete:async(e,t,a)=>{let i=(0,r.b)("DELETE",`${n}/${e}`),o=s(t,"");a&&(o["X-CSRF-Token"]=a);let l=await fetch(i,{method:"DELETE",headers:o,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to delete table")}}}},10985:(e,t,a)=>{"use strict";var r;a.d(t,{c:()=>r}),function(e){e.Available="Available",e.Unavailable="Unavailable"}(r||(r={}))},2504:(e,t,a)=>{"use strict";a.d(t,{NE:()=>c,Th:()=>o,Do:()=>d,Yx:()=>m,Zu:()=>p,Oi:()=>l,W9:()=>s,Tf:()=>i});var r=a(10985),n=a(13976);function s(e){let t={total:e.length,available:0,occupied:0,inactive:0};return e.forEach(e=>{e.is_active?e.status===r.c.Available?t.available++:t.occupied++:t.inactive++}),t}function i(e){return[...e].sort((e,t)=>{let a=parseInt(e.table_name.replace(/\D/g,"")),r=parseInt(t.table_name.replace(/\D/g,""));return isNaN(a)||isNaN(r)?e.table_name.localeCompare(t.table_name):a-r})}function o(e){return e.filter(e=>e.is_active)}function l(e){return e.is_active?"WaitingForPayment"===e.active_order_status?"waitingForPayment":e.status===r.c.Available?"available":"occupied":"inactive"}function c(e){return e?({Pending:"กำลังดำเนินการ",Cooking:"กำลังปรุง",Served:"เสิร์ฟแล้ว",WaitingForOrder:"รอรับออเดอร์",WaitingForPayment:"รอชำระเงิน",Paid:"ชำระเงินแล้ว",Completed:"เสร็จสมบูรณ์",Cancelled:"ยกเลิก"})[e]||e:""}function d(e){return e.reduce((e,t)=>(e.total++,t.status===n.i.Pending&&e.pending++,t.status===n.i.Cooking&&e.cooking++,t.status===n.i.Served&&e.served++,e),{total:0,pending:0,cooking:0,served:0})}function m(e){switch(e.status){case n.i.Pending:case n.i.Cooking:return"occupied";case n.i.Served:return"waitingForPayment";case n.i.Paid:return"available";default:return"inactive"}}let p=e=>{switch(e){case n.m.DineIn:case"DineIn":return"/pos/channels/dine-in";case n.m.TakeAway:case"TakeAway":return"/pos/channels/takeaway";case n.m.Delivery:case"Delivery":return"/pos/channels/delivery";default:return"/pos/orders"}}},95963:(e,t,a)=>{"use strict";a.d(t,{EO:()=>g,Gs:()=>l,HL:()=>j,M9:()=>w,Nz:()=>f,OY:()=>i,Rr:()=>x,Wl:()=>s,d$:()=>k,d7:()=>o,iN:()=>m,jN:()=>b,ku:()=>h,mz:()=>c,qO:()=>d,xG:()=>u,yj:()=>v,zP:()=>p,zf:()=>P});var r=a(13976),n=a(10985);let s=e=>{if(e.status===n.c.Available)return`/pos/channels/dine-in/${e.id}`;let t=e.active_order_id||e.active_order?.id,a=e.active_order_status||e.active_order?.status;return t?a===r.i.WaitingForPayment?`/pos/items/payment/${t}`:`/pos/orders/${t}`:`/pos/channels/dine-in/${e.id}`},i=e=>{switch(e){case r.i.Pending:return"orange";case r.i.Cooking:return"blue";case r.i.Served:return"green";case r.i.Paid:return"cyan";case r.i.Cancelled:return"red";case r.i.WaitingForPayment:return"gold";default:return"default"}},o=(e,t)=>{switch(e){case r.i.Pending:return"กำลังดำเนินการ";case r.i.Cooking:return"กำลังปรุง";case r.i.Served:if("TakeAway"===t||"Delivery"===t)return"ทำแล้ว";return"เสิร์ฟแล้ว";case r.i.Paid:return"ชำระเงินแล้ว";case r.i.Completed:return"สำเร็จ";case r.i.Cancelled:return"ยกเลิก";case r.i.WaitingForPayment:return"รอชำระเงิน";default:return e}},l=e=>{switch(e){case"DineIn":return"#722ed1";case"TakeAway":return"#fa8c16";case"Delivery":return"#eb2f96";default:return"#1890ff"}},c=e=>{switch(e){case"DineIn":return"ทานที่ร้าน";case"TakeAway":return"สั่งกลับบ้าน";case"Delivery":return"เดลิเวอรี่";default:return e}},d=e=>"DineIn"===e?"เสิร์ฟ":"ทำแล้ว",m=e=>"Delivery"===e?"จัดออเดอร์เสร็จแล้วพร้อมส่งให้ไรเดอร์":"DineIn"===e?"ยืนยันเสิร์ฟพร้อมชำระเงิน":"ยืนยันทำแล้วพร้อมชำระเงิน",p=e=>"DineIn"===e?"เสิร์ฟอาหารแล้ว":"ปรุงเสร็จแล้ว",u=e=>{let t="string"==typeof e?parseFloat(e):e;return`฿${Number(t).toLocaleString("th-TH",{minimumFractionDigits:0,maximumFractionDigits:2})}`},b=e=>"DineIn"===e.order_type?e.table?.table_name||"ไม่ระบุโต๊ะ":"Delivery"===e.order_type?e.delivery_code||e.delivery?.delivery_name||"ไม่ระบุข้อมูล":"TakeAway"===e.order_type?e.order_no||"ไม่ระบุเลขที่":e.order_no||"N/A",f=e=>(e??[]).filter(e=>e.status!==r.i.Cancelled),y=e=>(e??[]).reduce((e,t)=>e+(Number(t.extra_price)||0),0),h=(e,t,a)=>((Number(e)||0)+y(a))*t,x=e=>f(e).reduce((e,t)=>{let a=t.product?.category?.display_name||"ไม่ระบุหมวด";return e[a]=(e[a]||0)+(t.quantity||0),e},{}),v=e=>f(e).reduce((e,t)=>e+Number(t.total_price||0),0),g=e=>"DineIn"===e.order_type?"/pos/channels/dine-in":"TakeAway"===e.order_type?"/pos/channels/takeaway":"Delivery"===e.order_type?"/pos/channels/delivery":"/pos/orders",j=e=>`/pos/orders/${e}`,w=e=>e.status===r.i.WaitingForPayment?e.order_type===r.m.Delivery?`/pos/items/delivery/${e.id}`:`/pos/items/payment/${e.id}`:`/pos/orders/${e.id}`,k=e=>e===r.m.Delivery?"/pos/channels/delivery":e===r.m.TakeAway?"/pos/channels/takeaway":e===r.m.DineIn?"/pos/channels/dine-in":"/pos/channels",P=(e,t,a,n)=>({order_no:n.orderNo||`ORD-${Date.now()}`,order_type:t,sub_total:a.subTotal,discount_amount:a.discountAmount,vat:0,total_amount:a.totalAmount,received_amount:0,change_amount:0,status:r.i.Pending,discount_id:n.discountId||null,payment_method_id:null,table_id:n.tableId||null,delivery_id:n.deliveryId||null,delivery_code:n.deliveryCode||null,items:e.map(e=>{let t=Number(e.product.price),a=(t+(e.details||[]).reduce((e,t)=>e+Number(t.extra_price),0))*e.quantity;return{product_id:e.product.id,quantity:e.quantity,price:t,total_price:a,discount_amount:0,notes:e.notes||"",status:r.i.Cooking,details:e.details||[]}})})},89464:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\channels\dine-in\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,8674,8571,8270,9345,108,9042,1399,4658,9191],()=>a(77704));module.exports=r})();