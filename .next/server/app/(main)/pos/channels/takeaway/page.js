(()=>{var e={};e.id=416,e.ids=[416],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},64572:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>l}),a(3521),a(85429),a(58522),a(61804),a(7629),a(11930),a(12523);var r=a(23191),s=a(88716),n=a(43315),i=a(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let l=["",{children:["(main)",{children:["pos",{children:["channels",{children:["takeaway",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3521)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\channels\\takeaway\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],c=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\channels\\takeaway\\page.tsx"],d="/(main)/pos/channels/takeaway/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/pos/channels/takeaway/page",pathname:"/pos/channels/takeaway",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},95795:(e,t,a)=>{Promise.resolve().then(a.bind(a,67363))},62989:function(e){var t;t=function(){return function(e,t,a){e=e||{};var r=t.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function n(e,t,a,s){return r.fromToBase(e,t,a,s)}a.en.relativeTime=s,r.fromToBase=function(t,r,n,i,o){for(var l,c,d,u=n.$locale().relativeTime||s,m=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=m.length,y=0;y<p;y+=1){var x=m[y];x.d&&(l=i?a(t).diff(n,x.d,!0):n.diff(t,x.d,!0));var h=(e.rounding||Math.round)(Math.abs(l));if(d=l>0,h<=x.r||!x.r){h<=1&&y>0&&(x=m[y-1]);var b=u[x.l];o&&(h=o(""+h)),c="string"==typeof b?b.replace("%d",h):b(h,r,x.l,d);break}}if(r)return c;var f=d?u.future:u.past;return"function"==typeof f?f(c):f.replace("%s",c)},r.to=function(e,t){return n(e,t,this,!0)},r.from=function(e,t){return n(e,t,this)};var i=function(e){return e.$u?a.utc():a()};r.toNow=function(e){return this.to(i(this),e)},r.fromNow=function(e){return this.from(i(this),e)}}},e.exports=t()},67363:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var r=a(10326),s=a(77626),n=a.n(s),i=a(17577),o=a(35047),l=a(58184),c=a(71935),d=a(4139),u=a(38106),m=a(61357),p=a(75698),y=a(2643),x=a(9297),h=a(72380),b=a(22817),f=a(13976),v=a(93922),g=a(79e3),j=a(15051),k=a(2504),w=a(95963),_=a(37938),P=a(45317),N=a(88295),S=a.n(N),C=a(62989),D=a.n(C);a(63699);let{Title:z,Text:q}=l.default;function T(){let e=(0,o.useRouter)(),{showLoading:t,hideLoading:a}=(0,_.x)(),{orders:s,isLoading:l}=(0,P.w)({orderType:f.m.TakeAway}),N=(0,i.useMemo)(()=>(0,k.Do)(s),[s]),C=()=>{e.push("/pos/channels/takeaway/buying")},D=t=>{let a=(0,w.M9)(t);e.push(a)},T=e=>{switch(e){case"available":return"success";case"occupied":return"orange";case"waitingForPayment":return"blue";default:return"default"}};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(j.c,{}),r.jsx(n(),{id:g.N5.__hash,children:g.N5}),r.jsx(n(),{id:"41c2403baab2f8cd",children:".order-card-hover{-webkit-transition:all.3s cubic-bezier(.4,0,.2,1)!important;-moz-transition:all.3s cubic-bezier(.4,0,.2,1)!important;-o-transition:all.3s cubic-bezier(.4,0,.2,1)!important;transition:all.3s cubic-bezier(.4,0,.2,1)!important}.order-card-hover:hover{-webkit-transform:translatey(-4px)!important;-moz-transform:translatey(-4px)!important;-ms-transform:translatey(-4px)!important;-o-transform:translatey(-4px)!important;transform:translatey(-4px)!important;-webkit-box-shadow:0 12px 28px rgba(0,0,0,.1)!important;-moz-box-shadow:0 12px 28px rgba(0,0,0,.1)!important;box-shadow:0 12px 28px rgba(0,0,0,.1)!important}.order-card-hover:active{-webkit-transform:translatey(-2px)scale(.99)!important;-moz-transform:translatey(-2px)scale(.99)!important;-ms-transform:translatey(-2px)scale(.99)!important;-o-transform:translatey(-2px)scale(.99)!important;transform:translatey(-2px)scale(.99)!important}@media(hover:none){.order-card-hover:active{-webkit-transform:scale(.98)!important;-moz-transform:scale(.98)!important;-ms-transform:scale(.98)!important;-o-transform:scale(.98)!important;transform:scale(.98)!important}.order-card-hover:hover{-webkit-transform:none!important;-moz-transform:none!important;-ms-transform:none!important;-o-transform:none!important;transform:none!important}}.back-button-hover:hover{background:rgba(255,255,255,.28)!important;-webkit-transform:translatex(-2px);-moz-transform:translatex(-2px);-ms-transform:translatex(-2px);-o-transform:translatex(-2px);transform:translatex(-2px)}.add-button-hover:hover{-webkit-transform:translatey(-2px)!important;-moz-transform:translatey(-2px)!important;-ms-transform:translatey(-2px)!important;-o-transform:translatey(-2px)!important;transform:translatey(-2px)!important;-webkit-box-shadow:0 12px 24px rgba(82,196,26,.35)!important;-moz-box-shadow:0 12px 24px rgba(82,196,26,.35)!important;box-shadow:0 12px 24px rgba(82,196,26,.35)!important}.add-button-hover:active{-webkit-transform:scale(.98)!important;-moz-transform:scale(.98)!important;-ms-transform:scale(.98)!important;-o-transform:scale(.98)!important;transform:scale(.98)!important}.hide-on-mobile{display:inline!important}.show-on-mobile-inline{display:none!important}@media(max-width:768px){.hide-on-mobile{display:none!important}.show-on-mobile-inline{display:inline!important}}"}),(0,r.jsxs)("div",{style:v.Np.container,className:"jsx-41c2403baab2f8cd",children:[(0,r.jsxs)("header",{style:{...g.yy.channelHeader,background:v.hS.takeaway.gradient},role:"banner",className:"jsx-41c2403baab2f8cd takeaway-header-mobile",children:[r.jsx("div",{className:"jsx-41c2403baab2f8cd header-pattern"}),r.jsx("div",{className:"jsx-41c2403baab2f8cd header-circle circle-1"}),r.jsx("div",{className:"jsx-41c2403baab2f8cd header-circle circle-2"}),(0,r.jsxs)("div",{style:g.yy.channelHeaderContent,className:"jsx-41c2403baab2f8cd takeaway-header-content-mobile",children:[(0,r.jsxs)("button",{style:g.yy.channelBackButton,onClick:()=>{e.push("/pos/channels")},"aria-label":"กลับไปหน้าเลือกช่องทาง",className:"jsx-41c2403baab2f8cd back-button-hover takeaway-back-button-mobile",children:[r.jsx(y.Z,{}),r.jsx("span",{className:"jsx-41c2403baab2f8cd",children:"กลับ"})]}),(0,r.jsxs)("div",{style:g.yy.channelTitleSection,className:"jsx-41c2403baab2f8cd takeaway-title-section-mobile",children:[r.jsx(x.Z,{style:g.yy.channelHeaderIcon,className:"takeaway-header-icon-mobile","aria-hidden":"true"}),(0,r.jsxs)("div",{className:"jsx-41c2403baab2f8cd",children:[r.jsx(z,{level:3,style:g.yy.channelHeaderTitle,className:"takeaway-header-title-mobile",children:"สั่งกลับบ้าน"}),r.jsx(q,{style:g.yy.channelHeaderSubtitle,children:"Take Away"})]})]}),(0,r.jsxs)("div",{style:g.yy.channelStatsBar,className:"jsx-41c2403baab2f8cd takeaway-stats-bar-mobile",children:[(0,r.jsxs)("div",{style:g.yy.statItem,className:"jsx-41c2403baab2f8cd",children:[r.jsx("span",{style:{...g.yy.statDot,background:"#fff"},className:"jsx-41c2403baab2f8cd"}),(0,r.jsxs)(q,{style:g.yy.statText,children:["ทั้งหมด ",N.total]})]}),(0,r.jsxs)("div",{style:g.yy.statItem,className:"jsx-41c2403baab2f8cd",children:[r.jsx("span",{style:{...g.yy.statDot,background:v.ax.occupied.primary},className:"jsx-41c2403baab2f8cd"}),(0,r.jsxs)(q,{style:g.yy.statText,children:["กำลังปรุง ",N.cooking]})]})]})]})]}),(0,r.jsxs)("main",{style:{maxWidth:1400,margin:"0 auto",padding:"0 16px 32px"},role:"main",className:"jsx-41c2403baab2f8cd takeaway-content-mobile",children:[r.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20},className:"jsx-41c2403baab2f8cd",children:(0,r.jsxs)(c.ZP,{type:"primary",size:"large",icon:r.jsx(h.Z,{}),onClick:C,className:"add-button-hover takeaway-add-button-mobile",style:{...g.yy.addOrderButton,background:v.hS.takeaway.primary,boxShadow:`0 8px 20px ${v.hS.takeaway.primary}40`},children:[r.jsx("span",{className:"jsx-41c2403baab2f8cd hide-on-mobile",children:"เพิ่มออเดอร์ใหม่"}),r.jsx("span",{className:"jsx-41c2403baab2f8cd show-on-mobile-inline",children:"เพิ่ม"})]})}),s.length>0?r.jsx(d.Z,{gutter:[16,16],children:s.map((e,t)=>{let a=(0,k.Yx)(e),s=v.ax[a],n=e.order_no.split("-").pop();return r.jsx(u.Z,{xs:24,sm:12,md:8,lg:6,xl:6,className:"takeaway-order-col-mobile",children:(0,r.jsxs)("article",{style:{...g.yy.orderCard,border:`1.5px solid ${s.border}`},onClick:()=>D(e),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),D(e))},role:"button",tabIndex:0,"aria-label":`ออเดอร์ #${n} - ${(0,k.NE)(e.status)}`,className:`jsx-41c2403baab2f8cd order-card-hover takeaway-order-card table-card-animate table-card-delay-${t%6+1}`,children:[(0,r.jsxs)("div",{style:{...g.yy.orderCardHeader,background:s.light},className:"jsx-41c2403baab2f8cd",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},className:"jsx-41c2403baab2f8cd",children:[r.jsx("div",{style:{width:40,height:40,borderRadius:12,background:`${s.primary}20`,display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-41c2403baab2f8cd",children:r.jsx(x.Z,{style:{color:s.primary,fontSize:20}})}),(0,r.jsxs)(q,{strong:!0,style:{fontSize:18,color:"#1E293B"},children:["#",n]})]}),r.jsx(m.Z,{color:T(a),style:{borderRadius:8,margin:0,fontWeight:600,border:"none",padding:"4px 12px"},children:(0,k.NE)(e.status)})]}),r.jsx("div",{style:g.yy.orderCardContent,className:"jsx-41c2403baab2f8cd",children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},className:"jsx-41c2403baab2f8cd",children:[(0,r.jsxs)("div",{className:"jsx-41c2403baab2f8cd",children:[r.jsx(q,{type:"secondary",style:{fontSize:12,display:"block",marginBottom:4},children:"รายการสินค้า"}),(0,r.jsxs)(q,{strong:!0,style:{fontSize:16},children:[e.items_count||0," รายการ"]})]}),(0,r.jsxs)("div",{style:{textAlign:"right"},className:"jsx-41c2403baab2f8cd",children:[r.jsx(q,{type:"secondary",style:{fontSize:12,display:"block",marginBottom:4},children:"ยอดรวม"}),(0,r.jsxs)(q,{strong:!0,style:{fontSize:20,color:s.primary},children:["฿",e.total_amount?.toLocaleString()]})]})]})}),(0,r.jsxs)("div",{style:g.yy.orderCardFooter,className:"jsx-41c2403baab2f8cd",children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},className:"jsx-41c2403baab2f8cd",children:[r.jsx(b.Z,{style:{fontSize:12,color:"#94A3B8"}}),r.jsx(q,{type:"secondary",style:{fontSize:12},children:S()(e.create_date).fromNow()})]}),r.jsx(m.Z,{style:{margin:0,borderRadius:6,background:v.hS.takeaway.light,color:v.hS.takeaway.primary,border:`1px solid ${v.hS.takeaway.border}`,fontSize:11,fontWeight:600},children:"Take Away"})]})]})},e.id)})}):(0,r.jsxs)("div",{style:g.yy.emptyStateContainer,className:"jsx-41c2403baab2f8cd",children:[r.jsx(p.Z,{image:p.Z.PRESENTED_IMAGE_SIMPLE,description:(0,r.jsxs)("div",{style:{marginTop:16},className:"jsx-41c2403baab2f8cd",children:[r.jsx(z,{level:4,style:{marginBottom:8,color:"#1E293B"},children:"ไม่มีออเดอร์ในขณะนี้"}),r.jsx(q,{type:"secondary",style:{fontSize:15},children:'เริ่มรับออเดอร์สั่งกลับบ้านโดยกดปุ่ม "เพิ่มออเดอร์"'})]})}),r.jsx(c.ZP,{type:"primary",size:"large",icon:r.jsx(h.Z,{}),onClick:C,style:{marginTop:24,background:v.hS.takeaway.primary,height:52,borderRadius:16,padding:"0 32px",fontWeight:600,border:"none",boxShadow:`0 8px 20px ${v.hS.takeaway.primary}40`},children:"สร้างออเดอร์ใหม่"})]})]})]})]})}S().extend(D()),S().locale("th")},80440:(e,t,a)=>{"use strict";a.d(t,{s:()=>n});var r=a(17577),s=a(19211);let n=()=>(0,r.useContext)(s.J)},10985:(e,t,a)=>{"use strict";var r;a.d(t,{c:()=>r}),function(e){e.Available="Available",e.Unavailable="Unavailable"}(r||(r={}))},2504:(e,t,a)=>{"use strict";a.d(t,{NE:()=>c,Th:()=>o,Do:()=>d,Yx:()=>u,Zu:()=>m,Oi:()=>l,W9:()=>n,Tf:()=>i});var r=a(10985),s=a(13976);function n(e){let t={total:e.length,available:0,occupied:0,inactive:0};return e.forEach(e=>{e.is_active?e.status===r.c.Available?t.available++:t.occupied++:t.inactive++}),t}function i(e){return[...e].sort((e,t)=>{let a=parseInt(e.table_name.replace(/\D/g,"")),r=parseInt(t.table_name.replace(/\D/g,""));return isNaN(a)||isNaN(r)?e.table_name.localeCompare(t.table_name):a-r})}function o(e){return e.filter(e=>e.is_active)}function l(e){return e.is_active?"WaitingForPayment"===e.active_order_status?"waitingForPayment":e.status===r.c.Available?"available":"occupied":"inactive"}function c(e){return e?({Pending:"กำลังดำเนินการ",Cooking:"กำลังปรุง",Served:"เสิร์ฟแล้ว",WaitingForOrder:"รอรับออเดอร์",WaitingForPayment:"รอชำระเงิน",Paid:"ชำระเงินแล้ว",Completed:"เสร็จสมบูรณ์",Cancelled:"ยกเลิก"})[e]||e:""}function d(e){return e.reduce((e,t)=>(e.total++,t.status===s.i.Pending&&e.pending++,t.status===s.i.Cooking&&e.cooking++,t.status===s.i.Served&&e.served++,e),{total:0,pending:0,cooking:0,served:0})}function u(e){switch(e.status){case s.i.Pending:case s.i.Cooking:return"occupied";case s.i.Served:return"waitingForPayment";case s.i.Paid:return"available";default:return"inactive"}}let m=e=>{switch(e){case s.m.DineIn:case"DineIn":return"/pos/channels/dine-in";case s.m.TakeAway:case"TakeAway":return"/pos/channels/takeaway";case s.m.Delivery:case"Delivery":return"/pos/channels/delivery";default:return"/pos/orders"}}},95963:(e,t,a)=>{"use strict";a.d(t,{EO:()=>g,Gs:()=>l,HL:()=>j,M9:()=>k,Nz:()=>x,OY:()=>i,Rr:()=>f,Wl:()=>n,d$:()=>w,d7:()=>o,iN:()=>u,jN:()=>y,ku:()=>b,mz:()=>c,qO:()=>d,xG:()=>p,yj:()=>v,zP:()=>m,zf:()=>_});var r=a(13976),s=a(10985);let n=e=>{if(e.status===s.c.Available)return`/pos/channels/dine-in/${e.id}`;let t=e.active_order_id||e.active_order?.id,a=e.active_order_status||e.active_order?.status;return t?a===r.i.WaitingForPayment?`/pos/items/payment/${t}`:`/pos/orders/${t}`:`/pos/channels/dine-in/${e.id}`},i=e=>{switch(e){case r.i.Pending:return"orange";case r.i.Cooking:return"blue";case r.i.Served:return"green";case r.i.Paid:return"cyan";case r.i.Cancelled:return"red";case r.i.WaitingForPayment:return"gold";default:return"default"}},o=(e,t)=>{switch(e){case r.i.Pending:return"กำลังดำเนินการ";case r.i.Cooking:return"กำลังปรุง";case r.i.Served:if("TakeAway"===t||"Delivery"===t)return"ทำแล้ว";return"เสิร์ฟแล้ว";case r.i.Paid:return"ชำระเงินแล้ว";case r.i.Completed:return"สำเร็จ";case r.i.Cancelled:return"ยกเลิก";case r.i.WaitingForPayment:return"รอชำระเงิน";default:return e}},l=e=>{switch(e){case"DineIn":return"#722ed1";case"TakeAway":return"#fa8c16";case"Delivery":return"#eb2f96";default:return"#1890ff"}},c=e=>{switch(e){case"DineIn":return"ทานที่ร้าน";case"TakeAway":return"สั่งกลับบ้าน";case"Delivery":return"เดลิเวอรี่";default:return e}},d=e=>"DineIn"===e?"เสิร์ฟ":"ทำแล้ว",u=e=>"Delivery"===e?"จัดออเดอร์เสร็จแล้วพร้อมส่งให้ไรเดอร์":"DineIn"===e?"ยืนยันเสิร์ฟพร้อมชำระเงิน":"ยืนยันทำแล้วพร้อมชำระเงิน",m=e=>"DineIn"===e?"เสิร์ฟอาหารแล้ว":"ปรุงเสร็จแล้ว",p=e=>{let t="string"==typeof e?parseFloat(e):e;return`฿${Number(t).toLocaleString("th-TH",{minimumFractionDigits:0,maximumFractionDigits:2})}`},y=e=>"DineIn"===e.order_type?e.table?.table_name||"ไม่ระบุโต๊ะ":"Delivery"===e.order_type?e.delivery_code||e.delivery?.delivery_name||"ไม่ระบุข้อมูล":"TakeAway"===e.order_type?e.order_no||"ไม่ระบุเลขที่":e.order_no||"N/A",x=e=>(e??[]).filter(e=>e.status!==r.i.Cancelled),h=e=>(e??[]).reduce((e,t)=>e+(Number(t.extra_price)||0),0),b=(e,t,a)=>((Number(e)||0)+h(a))*t,f=e=>x(e).reduce((e,t)=>{let a=t.product?.category?.display_name||"ไม่ระบุหมวด";return e[a]=(e[a]||0)+(t.quantity||0),e},{}),v=e=>x(e).reduce((e,t)=>e+Number(t.total_price||0),0),g=e=>"DineIn"===e.order_type?"/pos/channels/dine-in":"TakeAway"===e.order_type?"/pos/channels/takeaway":"Delivery"===e.order_type?"/pos/channels/delivery":"/pos/orders",j=e=>`/pos/orders/${e}`,k=e=>e.status===r.i.WaitingForPayment?e.order_type===r.m.Delivery?`/pos/items/delivery/${e.id}`:`/pos/items/payment/${e.id}`:`/pos/orders/${e.id}`,w=e=>e===r.m.Delivery?"/pos/channels/delivery":e===r.m.TakeAway?"/pos/channels/takeaway":e===r.m.DineIn?"/pos/channels/dine-in":"/pos/channels",_=(e,t,a,s)=>({order_no:s.orderNo||`ORD-${Date.now()}`,order_type:t,sub_total:a.subTotal,discount_amount:a.discountAmount,vat:0,total_amount:a.totalAmount,received_amount:0,change_amount:0,status:r.i.Pending,discount_id:s.discountId||null,payment_method_id:null,table_id:s.tableId||null,delivery_id:s.deliveryId||null,delivery_code:s.deliveryCode||null,items:e.map(e=>{let t=Number(e.product.price),a=(t+(e.details||[]).reduce((e,t)=>e+Number(t.extra_price),0))*e.quantity;return{product_id:e.product.id,quantity:e.quantity,price:t,total_price:a,discount_amount:0,notes:e.notes||"",status:r.i.Cooking,details:e.details||[]}})})},45317:(e,t,a)=>{"use strict";a.d(t,{w:()=>y});var r=a(17577),s=a(26859),n=a(13976),i=a(80440),o=a(54354),l=a(81711),c=a.n(l);let d=new Set([n.i.Paid,n.i.Completed,n.i.Cancelled]),u=[n.i.Pending,n.i.Cooking,n.i.Served,n.i.WaitingForPayment].join(","),m=["orders:create","orders:update","orders:delete","payments:create","payments:update"],p=(e,t)=>e.filter(e=>e.order_type===t&&!d.has(e.status));function y({orderType:e,limit:t=100,page:a=1,statusFilter:n=u,enabled:l=!0,refreshIntervalMs:d=15e3,events:y=m}){let{socket:x}=(0,i.s)(),[h,b]=(0,r.useState)([]),[f,v]=(0,r.useState)(!0),g=(0,r.useCallback)(async(r=!1)=>{if(l){r||v(!0);try{let r=await s.x.getAllSummary(void 0,a,t,n,e),i=p(r.data||[],e);b(e=>c()(e,i)?e:i)}catch{}finally{r||v(!1)}}},[l,t,e,a,n]);return(0,o.D)({socket:x,events:y,onRefresh:()=>g(!0),intervalMs:d,enabled:l,debounceMs:800}),{orders:h,isLoading:f,refresh:g}}},54354:(e,t,a)=>{"use strict";function r(e,t,a,r=e=>e.id,s=()=>!0){}function s({socket:e,events:t=[],onRefresh:a,intervalMs:r,enabled:s=!0,debounceMs:n}){}a.d(t,{D:()=>s,v:()=>r}),a(17577)},3521:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\channels\takeaway\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,8674,8571,8270,9345,2514,9042,1399,4658,9191],()=>a(64572));module.exports=r})();