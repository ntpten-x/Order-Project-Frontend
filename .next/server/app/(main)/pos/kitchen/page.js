(()=>{var e={};e.id=5628,e.ids=[5628],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},23246:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>o.Z,__next_app__:()=>x,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>l}),a(62627),a(85429),a(58522),a(61804),a(7629),a(11930),a(12523);var t=a(23191),s=a(88716),o=a(43315),i=a(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);a.d(r,n);let l=["",{children:["(main)",{children:["pos",{children:["kitchen",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,62627)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\kitchen\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],d=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\kitchen\\page.tsx"],c="/(main)/pos/kitchen/page",x={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/pos/kitchen/page",pathname:"/pos/kitchen",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},75748:(e,r,a)=>{Promise.resolve().then(a.bind(a,76564))},36246:(e,r,a)=>{"use strict";a.d(r,{Z:()=>n});var t=a(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M723 620.5C666.8 571.6 593.4 542 513 542s-153.8 29.6-210.1 78.6a8.1 8.1 0 00-.8 11.2l36 42.9c2.9 3.4 8 3.8 11.4.9C393.1 637.2 450.3 614 513 614s119.9 23.2 163.5 61.5c3.4 2.9 8.5 2.5 11.4-.9l36-42.9c2.8-3.3 2.4-8.3-.9-11.2zm117.4-140.1C751.7 406.5 637.6 362 513 362s-238.7 44.5-327.5 118.4a8.05 8.05 0 00-1 11.3l36 42.9c2.8 3.4 7.9 3.8 11.2 1C308 472.2 406.1 434 513 434s205 38.2 281.2 101.6c3.4 2.8 8.4 2.4 11.2-1l36-42.9c2.8-3.4 2.4-8.5-1-11.3zm116.7-139C835.7 241.8 680.3 182 511 182c-168.2 0-322.6 59-443.7 157.4a8 8 0 00-1.1 11.4l36 42.9c2.8 3.3 7.8 3.8 11.1 1.1C222 306.7 360.3 254 511 254c151.8 0 291 53.5 400 142.7 3.4 2.8 8.4 2.3 11.2-1.1l36-42.9c2.9-3.4 2.4-8.5-1.1-11.3zM448 778a64 64 0 10128 0 64 64 0 10-128 0z"}}]},name:"wifi",theme:"outlined"};var o=a(74082);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}let n=t.forwardRef((e,r)=>t.createElement(o.Z,i({},e,{ref:r,icon:s})))},63699:function(e,r,a){var t;t=function(e){"use strict";var r={name:"th",weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(r,null,!0),r},e.exports=t(a(88295))},62989:function(e){var r;r=function(){return function(e,r,a){e=e||{};var t=r.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,r,a,s){return t.fromToBase(e,r,a,s)}a.en.relativeTime=s,t.fromToBase=function(r,t,o,i,n){for(var l,d,c,x=o.$locale().relativeTime||s,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=p.length,f=0;f<b;f+=1){var u=p[f];u.d&&(l=i?a(r).diff(o,u.d,!0):o.diff(r,u.d,!0));var g=(e.rounding||Math.round)(Math.abs(l));if(c=l>0,g<=u.r||!u.r){g<=1&&f>0&&(u=p[f-1]);var h=x[u.l];n&&(g=n(""+g)),d="string"==typeof h?h.replace("%d",g):h(g,t,u.l,c);break}}if(t)return d;var m=c?x.future:x.past;return"function"==typeof m?m(d):m.replace("%s",d)},t.to=function(e,r){return o(e,r,this,!0)},t.from=function(e,r){return o(e,r,this)};var i=function(e){return e.$u?a.utc():a()};t.toNow=function(e){return this.to(i(this),e)},t.fromNow=function(e){return this.from(i(this),e)}}},e.exports=r()},76564:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>$});var t=a(10326),s=a(77626),o=a.n(s),i=a(17577),n=a(44976),l=a(20108),d=a(66874),c=a(46752),x=a(61357),p=a(71935),b=a(6400),f=a(92121),u=a(75698),g=a(4139),h=a(38106),m=a(47885),y=a(36246);let j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M625.9 115c-5.9 0-11.9 1.6-17.4 5.3L254 352H90c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h164l354.5 231.7c5.5 3.6 11.6 5.3 17.4 5.3 16.7 0 32.1-13.3 32.1-32.1V147.1c0-18.8-15.4-32.1-32.1-32.1zM586 803L293.4 611.7l-18-11.7H146V424h129.4l17.9-11.7L586 221v582zm348-327H806c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16h128c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16zm-41.9 261.8l-110.3-63.7a15.9 15.9 0 00-21.7 5.9l-19.9 34.5c-4.4 7.6-1.8 17.4 5.8 21.8L856.3 800a15.9 15.9 0 0021.7-5.9l19.9-34.5c4.4-7.6 1.7-17.4-5.8-21.8zM760 344a15.9 15.9 0 0021.7 5.9L892 286.2c7.6-4.4 10.2-14.2 5.8-21.8L878 230a15.9 15.9 0 00-21.7-5.9L746 287.8a15.99 15.99 0 00-5.8 21.8L760 344z"}}]},name:"sound",theme:"outlined"};var v=a(74082);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}let _=i.forwardRef((e,r)=>i.createElement(v.Z,w({},e,{ref:r,icon:j})));var k=a(80490),P=a(22817);let M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"};function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}let z=i.forwardRef((e,r)=>i.createElement(v.Z,N({},e,{ref:r,icon:M})));var S=a(24895),C=a(39648),L=a(19211),Z=a(26859),q=a(94098),O=a(37938),E=a(33357);a(83179);var I=a(88295),R=a.n(I);a(63699);var T=a(62989),W=a.n(T),Y=a(26963),F=a(60578);R().extend(W()),R().locale("th");let{Title:H,Text:D}=d.default,B={container:{minHeight:"100vh",background:"radial-gradient(circle at 20% 20%, rgba(59,130,246,0.08), transparent 25%), radial-gradient(circle at 80% 0%, rgba(16,185,129,0.08), transparent 22%), #0b1020",padding:"24px",color:"#f8fafc",fontFamily:"var(--font-sans), 'Sarabun', sans-serif",position:"relative",overflow:"hidden"},header:{marginBottom:28,background:"linear-gradient(135deg, rgba(30,41,59,0.9) 0%, rgba(15,23,42,0.9) 40%, rgba(28,43,68,0.92) 100%)",padding:"18px 22px",borderRadius:24,display:"flex",justifyContent:"space-between",alignItems:"center",border:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 20px 50px rgba(0,0,0,0.25)",position:"relative",overflow:"hidden"},card:(e,r)=>({background:"linear-gradient(180deg, rgba(30,41,59,0.96) 0%, rgba(17,24,39,0.94) 100%)",borderRadius:18,overflow:"hidden",border:`1px solid ${r?e:"rgba(255,255,255,0.08)"}`,boxShadow:r?`0 0 0 2px ${e}33, 0 16px 32px rgba(0,0,0,0.28)`:"0 12px 30px rgba(0,0,0,0.18)",height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease",animation:r?"pulse-border 1.8s infinite":"none"}),itemRow:e=>({padding:"12px",background:e===q.M.Cooking?"rgba(16, 185, 129, 0.12)":"rgba(255,255,255,0.05)",marginBottom:10,borderRadius:10,borderLeft:`5px solid ${e===q.M.Cooking?"#10b981":e===q.M.Served?"#64748b":"#f59e0b"}`,display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:10})},A=e=>{let r=R()().diff(R()(e),"minute");return r<10?{color:"#10b981",bgColor:"rgba(16, 185, 129, 0.2)",label:"ปกติ",level:1}:r<20?{color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.2)",label:"เริ่มช้า",level:2}:{color:"#ef4444",bgColor:"rgba(239, 68, 68, 0.2)",label:"ด่วน!",level:3}};function $(){let{socket:e,isConnected:r}=(0,i.useContext)(L.J),{showLoading:a,hideLoading:s}=(0,O.O)(),d=(0,n.NL)(),[j,v]=(0,i.useState)(!0),w=(0,i.useRef)(null),[M,N]=(0,i.useState)("all");(0,i.useCallback)(()=>{j&&w.current&&(w.current.currentTime=0,w.current.play().catch(e=>{console.error(e),c.ZP.warning((0,F.t)("kitchen.soundBlocked"))}))},[j]);let{data:I=[],isLoading:T,refetch:W,error:$}=(0,l.a)({queryKey:["orderItems","kitchen"],queryFn:async()=>{let[e,r]=await Promise.all([Z.x.getItems(q.M.Pending),Z.x.getItems(q.M.Cooking)]);return[...e,...r].filter(e=>e.status!==q.M.Served&&e.status!==q.M.Cancelled)},staleTime:2e3,refetchInterval:3e4}),G=(0,i.useMemo)(()=>{let e={};return("all"===M?I.filter(e=>e.status!==q.M.Served&&e.status!==q.M.Cancelled):I.filter(e=>e.status===M)).forEach(r=>{let a=r.order_id;if(!e[a]){let t=r.order?.create_date||new Date().toISOString();e[a]={order_id:a,order_no:r.order?.order_no||"N/A",table_name:r.order?.table?.table_name||null,order_type:r.order?.order_type||"Unknown",created_at:t,items:[]}}e[a].items.push(r)}),Object.values(e).sort((e,r)=>R()(e.created_at).valueOf()-R()(r.created_at).valueOf())},[I,M]),V=async(e,r)=>{try{d.setQueryData(["orderItems","kitchen"],(a=[])=>a.map(a=>a.id===e?{...a,status:r}:a));let a=await (0,E.P)();await Z.x.updateItemStatus(e,r,void 0,a)}catch{c.ZP.error("อัปเดตสถานะไม่สำเร็จ"),W()}},K=async e=>{try{a("กำลังเสิร์ฟทั้งหมด...");let r=G.find(r=>r.order_id===e);if(!r)return;let t=await (0,E.P)(),s=r.items.map(e=>Z.x.updateItemStatus(e.id,q.M.Served,void 0,t));await Promise.all(s),d.setQueryData(["orderItems","kitchen"],(r=[])=>r.filter(r=>r.order_id!==e)),c.ZP.success(`เสิร์ฟออเดอร์ #${r.order_no} เรียบร้อย`)}catch{c.ZP.error("เกิดข้อผิดพลาดในการเสิร์ฟทั้งหมด"),W()}finally{s()}},Q=I.filter(e=>e.status===q.M.Pending).length,J=I.filter(e=>e.status===q.M.Cooking).length;return t.jsx(Y.Z,{maxWidth:99999,style:{padding:0},children:(0,t.jsxs)("div",{style:B.container,className:"jsx-6fa0245e60aa494b",children:[t.jsx(o(),{id:"6fa0245e60aa494b",children:"@-webkit-keyframes pulse-border{0%{-webkit-box-shadow:0 0 0 0 rgba(239,68,68,.4);box-shadow:0 0 0 0 rgba(239,68,68,.4)}70%{-webkit-box-shadow:0 0 0 10px rgba(239,68,68,0);box-shadow:0 0 0 10px rgba(239,68,68,0)}100%{-webkit-box-shadow:0 0 0 0 rgba(239,68,68,0);box-shadow:0 0 0 0 rgba(239,68,68,0)}}@-moz-keyframes pulse-border{0%{-moz-box-shadow:0 0 0 0 rgba(239,68,68,.4);box-shadow:0 0 0 0 rgba(239,68,68,.4)}70%{-moz-box-shadow:0 0 0 10px rgba(239,68,68,0);box-shadow:0 0 0 10px rgba(239,68,68,0)}100%{-moz-box-shadow:0 0 0 0 rgba(239,68,68,0);box-shadow:0 0 0 0 rgba(239,68,68,0)}}@-o-keyframes pulse-border{0%{box-shadow:0 0 0 0 rgba(239,68,68,.4)}70%{box-shadow:0 0 0 10px rgba(239,68,68,0)}100%{box-shadow:0 0 0 0 rgba(239,68,68,0)}}@keyframes pulse-border{0%{-webkit-box-shadow:0 0 0 0 rgba(239,68,68,.4);-moz-box-shadow:0 0 0 0 rgba(239,68,68,.4);box-shadow:0 0 0 0 rgba(239,68,68,.4)}70%{-webkit-box-shadow:0 0 0 10px rgba(239,68,68,0);-moz-box-shadow:0 0 0 10px rgba(239,68,68,0);box-shadow:0 0 0 10px rgba(239,68,68,0)}100%{-webkit-box-shadow:0 0 0 0 rgba(239,68,68,0);-moz-box-shadow:0 0 0 0 rgba(239,68,68,0);box-shadow:0 0 0 0 rgba(239,68,68,0)}}.kds-notification .ant-message-custom-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:16px;font-weight:600}"}),(0,t.jsxs)("div",{style:B.header,className:"jsx-6fa0245e60aa494b",children:[t.jsx("div",{style:{position:"absolute",inset:0,opacity:.6,pointerEvents:"none"},className:"jsx-6fa0245e60aa494b header-pattern"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:18,flexWrap:"wrap",position:"relative",zIndex:2},className:"jsx-6fa0245e60aa494b",children:[t.jsx("div",{style:{width:62,height:62,borderRadius:18,background:"linear-gradient(135deg, #f59e0b 0%, #f97316 60%, #fb923c 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 24px rgba(249, 115, 22, 0.4)",position:"relative",overflow:"hidden"},className:"jsx-6fa0245e60aa494b",children:t.jsx(m.Z,{style:{fontSize:30,color:"#fff"},className:"header-icon-animate"})}),(0,t.jsxs)("div",{style:{minWidth:0},className:"jsx-6fa0245e60aa494b",children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},className:"jsx-6fa0245e60aa494b",children:[t.jsx(H,{level:2,style:{margin:0,color:"#fff",fontSize:28,letterSpacing:"0.5px"},children:"Kitchen Pulse"}),r?t.jsx(x.Z,{icon:t.jsx(y.Z,{}),color:"#10b981",style:{margin:0,borderRadius:12,padding:"2px 12px",fontWeight:700},children:"LIVE"}):t.jsx(x.Z,{icon:t.jsx(y.Z,{}),color:"#ef4444",style:{margin:0,borderRadius:12,padding:"2px 12px",fontWeight:700},children:"OFFLINE"})]}),t.jsx(D,{style:{color:"#cbd5e1",fontSize:14},children:"มอนิเตอร์งานครัวแบบเรียลไทม์ • เน้นงานด่วนก่อน"})]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:14,flexWrap:"wrap",justifyContent:"flex-end",position:"relative",zIndex:2},className:"jsx-6fa0245e60aa494b",children:[t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10,background:"rgba(255,255,255,0.04)",padding:"10px 12px",borderRadius:16,border:"1px solid rgba(255,255,255,0.08)",minWidth:320},className:"jsx-6fa0245e60aa494b",children:[{label:"คิวทั้งหมด",value:I.length,color:"#38bdf8"},{label:"รอทำ",value:Q,color:"#f59e0b"},{label:"กำลังทำ",value:J,color:"#10b981"}].map(e=>(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:2},className:"jsx-6fa0245e60aa494b",children:[t.jsx(D,{style:{color:"#cbd5e1",fontSize:12},children:e.label}),t.jsx(D,{strong:!0,style:{color:e.color,fontSize:18},children:e.value})]},e.label))}),t.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,background:"#0b1222",padding:6,borderRadius:14,border:"1px solid rgba(255,255,255,0.06)"},className:"jsx-6fa0245e60aa494b",children:["all",q.M.Pending,q.M.Cooking].map(e=>{let r=M===e,a=I.length,s="ทั้งหมด",o="#38bdf8";return e===q.M.Pending?(a=Q,s="รอทำ",o="#f59e0b"):e===q.M.Cooking&&(a=J,s="กำลังทำ",o="#10b981"),(0,t.jsxs)(p.ZP,{type:"text",onClick:()=>N(e),style:{color:r?"#0b1222":"#cbd5e1",background:r?o:"transparent",borderRadius:10,fontWeight:r?700:500,height:36,padding:"0 14px"},children:[s," ",t.jsx("span",{style:{opacity:.7,marginLeft:6,fontSize:12},className:"jsx-6fa0245e60aa494b",children:a})]},e)})}),t.jsx(b.Z,{title:"เปิด/ปิดเสียงแจ้งเตือน",children:t.jsx(p.ZP,{type:"text",icon:t.jsx(_,{style:{fontSize:18}}),onClick:()=>v(!j),style:{color:j?"#10b981":"#94a3b8",background:j?"rgba(16, 185, 129, 0.15)":"rgba(255,255,255,0.05)",width:44,height:44,borderRadius:12}})}),t.jsx(p.ZP,{icon:t.jsx(k.Z,{}),onClick:()=>W(),loading:T,style:{background:"linear-gradient(135deg, #38bdf8 0%, #6366f1 100%)",border:"none",color:"white",borderRadius:12,height:44,boxShadow:"0 10px 24px rgba(99,102,241,0.3)"},children:"รีเฟรช"})]})]}),$&&(0,t.jsxs)("div",{style:{textAlign:"center",padding:"60px 16px",color:"#cbd5e1"},className:"jsx-6fa0245e60aa494b",children:[t.jsx(D,{style:{color:"#fca5a5"},children:"โหลดข้อมูลไม่สำเร็จ"}),t.jsx("div",{style:{marginTop:10},className:"jsx-6fa0245e60aa494b",children:t.jsx(p.ZP,{onClick:()=>W(),type:"primary",children:"ลองใหม่"})})]}),!$&&T?t.jsx("div",{style:{display:"flex",justifyContent:"center",paddingTop:100},className:"jsx-6fa0245e60aa494b",children:t.jsx(f.Z,{size:"large"})}):0===G.length?t.jsx(u.Z,{image:u.Z.PRESENTED_IMAGE_SIMPLE,description:t.jsx(D,{style:{color:"#64748b",fontSize:18},children:"ไม่มีออเดอร์ในครัวขณะนี้"}),style:{marginTop:100}}):t.jsx(g.Z,{gutter:[20,20],children:G.map(e=>{let r=A(e.created_at),a=3===r.level,s=Math.min(1,Math.max(.1,R()().diff(R()(e.created_at),"minute")/25));return t.jsx(h.Z,{xs:24,sm:24,md:12,lg:8,xl:6,children:(0,t.jsxs)("div",{style:B.card(r.color,a),className:"jsx-6fa0245e60aa494b",children:[(0,t.jsxs)("div",{style:{padding:"16px",background:a?"rgba(239, 68, 68, 0.1)":"transparent",borderBottom:"1px solid rgba(255,255,255,0.05)"},className:"jsx-6fa0245e60aa494b",children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},className:"jsx-6fa0245e60aa494b",children:[(0,t.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},className:"jsx-6fa0245e60aa494b",children:[(0,t.jsxs)("span",{style:{background:"#fff",color:"#0f172a",fontWeight:800,padding:"2px 8px",borderRadius:6,fontSize:16},className:"jsx-6fa0245e60aa494b",children:["#",e.order_no]}),e.table_name&&(0,t.jsxs)("span",{style:{color:"#94a3b8",fontSize:16,fontWeight:600},className:"jsx-6fa0245e60aa494b",children:["โต๊ะ ",e.table_name]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,color:r.color},className:"jsx-6fa0245e60aa494b",children:[t.jsx(P.Z,{}),t.jsx("span",{style:{fontWeight:700,fontSize:14},className:"jsx-6fa0245e60aa494b",children:R()(e.created_at).fromNow(!0)})]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-6fa0245e60aa494b",children:[t.jsx(x.Z,{color:a?"red":"blue",style:{margin:0,border:"none"},children:e.order_type}),a&&t.jsx("span",{style:{color:"#ef4444",fontWeight:700,fontSize:12,textTransform:"uppercase",letterSpacing:1},className:"jsx-6fa0245e60aa494b",children:"LATE"})]}),t.jsx("div",{style:{marginTop:10,height:6,background:"rgba(255,255,255,0.08)",borderRadius:999,overflow:"hidden"},className:"jsx-6fa0245e60aa494b",children:t.jsx("div",{style:{width:`${100*s}%`,height:"100%",background:r.color,transition:"width 0.3s ease"},className:"jsx-6fa0245e60aa494b"})})]}),t.jsx("div",{style:{flex:1,padding:16,overflowY:"auto",maxHeight:"50vh"},className:"jsx-6fa0245e60aa494b",children:e.items.map(e=>(0,t.jsxs)("div",{style:B.itemRow(e.status),className:"jsx-6fa0245e60aa494b",children:[t.jsx("div",{style:{flex:1},className:"jsx-6fa0245e60aa494b",children:(0,t.jsxs)("div",{style:{display:"flex",gap:12},className:"jsx-6fa0245e60aa494b",children:[t.jsx("span",{style:{fontSize:18,fontWeight:800,color:"#f8fafc",minWidth:32},className:"jsx-6fa0245e60aa494b",children:e.quantity}),(0,t.jsxs)("div",{style:{flex:1},className:"jsx-6fa0245e60aa494b",children:[t.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#f1f5f9",lineHeight:1.4},className:"jsx-6fa0245e60aa494b",children:e.product?.display_name}),e.notes&&(0,t.jsxs)("div",{style:{marginTop:8,background:"#f59e0b",color:"#000",padding:"4px 8px",borderRadius:6,fontWeight:600,fontSize:13,display:"inline-block"},className:"jsx-6fa0245e60aa494b",children:["⚠️ ",e.notes]}),(0,t.jsxs)("div",{style:{marginTop:6,fontSize:12,color:"#94a3b8"},className:"jsx-6fa0245e60aa494b",children:[e.status===q.M.Cooking&&"กำลังปรุง...",e.status===q.M.Pending&&"รอคิว"]})]})]})}),(0,t.jsxs)("div",{style:{marginLeft:8},className:"jsx-6fa0245e60aa494b",children:[e.status===q.M.Pending&&t.jsx(p.ZP,{type:"text",icon:t.jsx(z,{style:{fontSize:18}}),onClick:()=>V(e.id,q.M.Cooking),style:{color:"#f59e0b",background:"rgba(245, 158, 11, 0.1)",width:44,height:44,borderRadius:12}}),e.status===q.M.Cooking&&t.jsx(p.ZP,{type:"text",icon:t.jsx(S.Z,{style:{fontSize:20}}),onClick:()=>V(e.id,q.M.Served),style:{color:"#10b981",background:"rgba(16, 185, 129, 0.2)",width:44,height:44,borderRadius:12,border:"1px solid rgba(16, 185, 129, 0.3)"}})]})]},e.id))}),t.jsx("div",{style:{padding:16,borderTop:"1px solid rgba(255,255,255,0.05)"},className:"jsx-6fa0245e60aa494b",children:t.jsx(p.ZP,{block:!0,type:"primary",size:"large",icon:t.jsx(C.Z,{}),onClick:()=>K(e.order_id),style:{background:"#10b981",borderColor:"#10b981",borderRadius:12,height:48,fontWeight:700,fontSize:16},children:"เสิร์ฟทั้งหมด"})})]})},e.order_id)})})]})})}},94098:(e,r,a)=>{"use strict";var t;a.d(r,{M:()=>t}),function(e){e.Pending="Pending",e.Cooking="Cooking",e.Served="Served",e.Cancelled="Cancelled"}(t||(t={}))},62627:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\kitchen\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[9276,4421,8571,8842,108,8963,1399,4658],()=>a(23246));module.exports=t})();