(()=>{var e={};e.id=7068,e.ids=[7068],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},33971:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>h,tree:()=>l}),s(3040),s(85429),s(58522),s(61804),s(7629),s(11930),s(12523);var r=s(23191),i=s(88716),n=s(43315),a=s(95231),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);s.d(t,o);let l=["",{children:["(main)",{children:["pos",{children:["shiftHistory",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3040)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\shiftHistory\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,85429)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],d=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\pos\\shiftHistory\\page.tsx"],c="/(main)/pos/shiftHistory/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/pos/shiftHistory/page",pathname:"/pos/shiftHistory",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},97227:(e,t,s)=>{Promise.resolve().then(s.bind(s,79837))},2643:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var n=s(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}let o=r.forwardRef((e,t)=>r.createElement(n.Z,a({},e,{ref:t,icon:i})))},4779:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"};var n=s(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}let o=r.forwardRef((e,t)=>r.createElement(n.Z,a({},e,{ref:t,icon:i})))},8039:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917 211.1l-199.2 24c-6.6.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1a8.03 8.03 0 000 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3a8.01 8.01 0 0013.6-4.7l24-199.2c.7-5.1-3.7-9.5-8.9-8.8z"}}]},name:"rise",theme:"outlined"};var n=s(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}let o=r.forwardRef((e,t)=>r.createElement(n.Z,a({},e,{ref:t,icon:i})))},22896:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"};var n=s(74082);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}let o=r.forwardRef((e,t)=>r.createElement(n.Z,a({},e,{ref:t,icon:i})))},63699:function(e,t,s){var r;r=function(e){"use strict";var t={name:"th",weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t},e.exports=r(s(88295))},38476:function(e){var t;t=function(){"use strict";var e,t,s=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,r=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,i={years:31536e6,months:2628e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},n=function(e){return e instanceof u},a=function(e,t,s){return new u(e,s,t.$l)},o=function(e){return t.p(e)+"s"},l=function(e){return e<0},d=function(e){return l(e)?Math.ceil(e):Math.floor(e)},c=function(e,t){return e?l(e)?{negative:!0,format:""+Math.abs(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},u=function(){function l(e,t,s){var n=this;if(this.$d={},this.$l=s,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return a(e*i[o(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach(function(t){n.$d[o(t)]=e[t]}),this.calMilliseconds(),this;if("string"==typeof e){var l=e.match(r);if(l){var d=l.slice(2).map(function(e){return null!=e?Number(e):0});return this.$d.years=d[0],this.$d.months=d[1],this.$d.weeks=d[2],this.$d.days=d[3],this.$d.hours=d[4],this.$d.minutes=d[5],this.$d.seconds=d[6],this.calMilliseconds(),this}}return this}var u=l.prototype;return u.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce(function(t,s){return t+(e.$d[s]||0)*i[s]},0)},u.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=d(e/31536e6),e%=31536e6,this.$d.months=d(e/2628e6),e%=2628e6,this.$d.days=d(e/864e5),e%=864e5,this.$d.hours=d(e/36e5),e%=36e5,this.$d.minutes=d(e/6e4),e%=6e4,this.$d.seconds=d(e/1e3),e%=1e3,this.$d.milliseconds=e},u.toISOString=function(){var e=c(this.$d.years,"Y"),t=c(this.$d.months,"M"),s=+this.$d.days||0;this.$d.weeks&&(s+=7*this.$d.weeks);var r=c(s,"D"),i=c(this.$d.hours,"H"),n=c(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3,a=Math.round(1e3*a)/1e3);var o=c(a,"S"),l=e.negative||t.negative||r.negative||i.negative||n.negative||o.negative,d=i.format||n.format||o.format?"T":"",u=(l?"-":"")+"P"+e.format+t.format+r.format+d+i.format+n.format+o.format;return"P"===u||"-P"===u?"P0D":u},u.toJSON=function(){return this.toISOString()},u.format=function(e){var r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return(e||"YYYY-MM-DDTHH:mm:ss").replace(s,function(e,t){return t||String(r[e])})},u.as=function(e){return this.$ms/i[o(e)]},u.get=function(e){var t=this.$ms,s=o(e);return"milliseconds"===s?t%=1e3:t="weeks"===s?d(t/i[s]):this.$d[s],t||0},u.add=function(e,t,s){var r;return r=t?e*i[o(t)]:n(e)?e.$ms:a(e,this).$ms,a(this.$ms+r*(s?-1:1),this)},u.subtract=function(e,t){return this.add(e,t,!0)},u.locale=function(e){var t=this.clone();return t.$l=e,t},u.clone=function(){return a(this.$ms,this)},u.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},u.valueOf=function(){return this.asMilliseconds()},u.milliseconds=function(){return this.get("milliseconds")},u.asMilliseconds=function(){return this.as("milliseconds")},u.seconds=function(){return this.get("seconds")},u.asSeconds=function(){return this.as("seconds")},u.minutes=function(){return this.get("minutes")},u.asMinutes=function(){return this.as("minutes")},u.hours=function(){return this.get("hours")},u.asHours=function(){return this.as("hours")},u.days=function(){return this.get("days")},u.asDays=function(){return this.as("days")},u.weeks=function(){return this.get("weeks")},u.asWeeks=function(){return this.as("weeks")},u.months=function(){return this.get("months")},u.asMonths=function(){return this.as("months")},u.years=function(){return this.get("years")},u.asYears=function(){return this.as("years")},l}(),h=function(e,t,s){return e.add(t.years()*s,"y").add(t.months()*s,"M").add(t.days()*s,"d").add(t.hours()*s,"h").add(t.minutes()*s,"m").add(t.seconds()*s,"s").add(t.milliseconds()*s,"ms")};return function(s,r,i){e=i,t=i().$utils(),i.duration=function(e,t){return a(e,{$l:i.locale()},t)},i.isDuration=n;var o=r.prototype.add,l=r.prototype.subtract;r.prototype.add=function(e,t){return n(e)?h(this,e,1):o.bind(this)(e,t)},r.prototype.subtract=function(e,t){return n(e)?h(this,e,-1):l.bind(this)(e,t)}}},e.exports=t()},79837:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>K});var r,i=s(10326),n=s(17577),a=s(44976),o=s(20108),l=s(66874),d=s(14374),c=s(61357),u=s(71935),h=s(64635),f=s(49909),p=s(92442),m=s(92121),x=s(43778),y=s(75958),g=s(56249),j=s(4779),v=s(80490),_=s(22817),b=s(22896),$=s(8039),M=s(24395),P=s(88295),S=s.n(P),O=s(38476),Z=s.n(O);s(63699);var Y=s(35047),w=s(80440),L=s(7670),C=s(94658);(function(e){e.OPEN="OPEN",e.CLOSED="CLOSED"})(r||(r={})),s(83179);var H=s(26902),q=s(26963),E=s(76892),D=s(18978),k=s(52647),z=s(36231),T=s(44528);let F={...(0,T.yf)("linear-gradient(135deg, #0284c7 0%, #0369a1 100%)"),shiftCard:T.YO,shiftCardInner:T.lv},R=(0,T.IU)(".shift-history-page",".shift-history-card");S().extend(Z()),S().locale("th");let{Text:I,Title:N}=l.default,{RangePicker:A}=d.default;function B(e){return Number(e||0)}function W(e){return`฿${B(e).toLocaleString("th-TH")}`}function V(e){if(!e)return"-";let t=S()(e);return t.isValid()?t.format("DD/MM/YYYY HH:mm"):"-"}function G({shift:e,onViewSummary:t}){let s=e.status===r.CLOSED;return i.jsx("div",{className:"shift-history-card",style:{...F.shiftCard(!0),borderRadius:16,marginBottom:12},children:(0,i.jsxs)("div",{style:{...F.shiftCardInner,alignItems:"flex-start"},children:[(0,i.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6,flexWrap:"wrap"},children:[(0,i.jsxs)(I,{strong:!0,style:{fontSize:15,color:"#0f172a"},children:["Shift #",e.id.slice(0,8)]}),i.jsx(c.Z,{color:s?"default":"green",children:s?"ปิดกะแล้ว":"กำลังเปิดกะ"})]}),(0,i.jsxs)(I,{type:"secondary",style:{display:"block",fontSize:13},children:["ผู้เปิดกะ: ",e.user?.name||e.user?.username||"-"]}),(0,i.jsxs)(I,{type:"secondary",style:{display:"block",fontSize:13},children:["เปิดกะ: ",V(e.open_time)," | ปิดกะ: ",V(e.close_time)]}),(0,i.jsxs)(I,{type:"secondary",style:{display:"block",fontSize:12,marginTop:2},children:["ระยะเวลากะ: ",function(e,t){let s=S()(e),r=t?S()(t):S()();if(!s.isValid()||!r.isValid())return"-";let i=S().duration(r.diff(s)),n=Math.floor(i.asHours()),a=i.minutes();return`${n} ชม. ${a} นาที`}(e.open_time,e.close_time)]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:8,marginTop:10},children:[i.jsx(J,{label:"เงินเริ่มต้น",value:W(e.start_amount),color:"#334155"}),i.jsx(J,{label:"ยอดคาดหวัง",value:W(e.expected_amount),color:"#0369a1"}),i.jsx(J,{label:"ยอดนับจริง",value:W(e.end_amount),color:"#0f766e"}),i.jsx(J,{label:"ผลต่าง",value:W(e.diff_amount),color:B(e.diff_amount)>=0?"#059669":"#dc2626"})]})]}),i.jsx(u.ZP,{onClick:()=>t(e.id),children:"ดูสรุปกะ"})]})})}function J({label:e,value:t,color:s}){return(0,i.jsxs)("div",{style:{border:"1px solid #e2e8f0",borderRadius:10,padding:"8px 10px"},children:[i.jsx(I,{type:"secondary",style:{fontSize:12},children:e}),i.jsx("div",{style:{fontWeight:700,color:s,marginTop:2},children:t})]})}function K(){let e=(0,Y.useRouter)();(0,a.NL)();let{socket:t}=(0,w.s)(),{isAuthorized:s,isChecking:l}=(0,L.e)({allowedRoles:["Admin","Manager","Employee"]}),[d,P]=(0,n.useState)(1),[S,O]=(0,n.useState)(10),[Z,T]=(0,n.useState)(""),[N,V]=(0,n.useState)("all"),[J,K]=(0,n.useState)(null),[ee,et]=(0,n.useState)(null),es=(0,n.useMemo)(()=>J?.[0]?J[0].startOf("day").toISOString():void 0,[J]),er=(0,n.useMemo)(()=>J?.[1]?J[1].endOf("day").toISOString():void 0,[J]),ei=(0,o.a)({queryKey:["shiftHistory",d,S,Z,N,es,er],queryFn:async()=>C.t.getHistory({page:d,limit:S,q:Z.trim()||void 0,status:"all"===N?void 0:N,date_from:es,date_to:er}),placeholderData:e=>e,enabled:s,staleTime:15e3}),en=(0,o.a)({queryKey:["shiftSummaryById",ee],queryFn:async()=>ee?await C.t.getSummary(ee):null,enabled:!!ee,staleTime:1e4}),ea=ei.data,eo=ea?.data||[],el=ea?.pagination,ed=ea?.stats,ec=ed?.open||0,eu=ed?.closed||0,eh=ed?.total||0;return l?i.jsx(H.H,{message:"กำลังตรวจสอบสิทธิ์การใช้งาน..."}):s?(0,i.jsxs)("div",{className:"shift-history-page",style:F.container,children:[i.jsx("style",{children:R}),i.jsx(k.Z,{title:"ประวัติกะการทำงาน",subtitle:`ทั้งหมด ${eh} กะ`,icon:i.jsx(j.Z,{}),onBack:()=>e.back(),actions:(0,i.jsxs)(h.Z,{size:8,children:[i.jsx(u.ZP,{icon:i.jsx(v.Z,{}),onClick:()=>ei.refetch(),loading:ei.isFetching}),i.jsx(u.ZP,{icon:i.jsx(_.Z,{}),onClick:()=>e.push("/pos/shift"),children:"ไปหน้ากะปัจจุบัน"})]})}),i.jsx(q.Z,{children:(0,i.jsxs)(D.Z,{children:[i.jsx(E.Z,{title:"ภาพรวม",children:(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:10},children:[i.jsx(U,{label:"จำนวนกะทั้งหมด",value:String(eh),color:"#0f172a",icon:i.jsx(_.Z,{})}),i.jsx(U,{label:"กะที่เปิดอยู่",value:String(ec),color:"#059669",icon:i.jsx(c.Z,{color:"green",children:"OPEN"})}),i.jsx(U,{label:"กะที่ปิดแล้ว",value:String(eu),color:"#64748b",icon:i.jsx(c.Z,{children:"CLOSED"})}),i.jsx(U,{label:"รวมเงินเริ่มต้น",value:W(ed?.total_start_amount),color:"#0369a1",icon:i.jsx(b.Z,{})}),i.jsx(U,{label:"รวมยอดนับจริง",value:W(ed?.total_end_amount),color:"#0f766e",icon:i.jsx(Q,{})}),i.jsx(U,{label:"รวมผลต่าง",value:W(ed?.total_diff_amount),color:B(ed?.total_diff_amount)>=0?"#059669":"#dc2626",icon:i.jsx($.Z,{})})]})}),i.jsx(E.Z,{title:"ค้นหาและตัวกรอง",children:(0,i.jsxs)("div",{style:{display:"grid",gap:10},children:[i.jsx(f.default,{allowClear:!0,prefix:i.jsx(M.Z,{style:{color:"#94A3B8"}}),placeholder:"ค้นหาจาก Shift ID, username หรือชื่อผู้เปิดกะ",value:Z,onChange:e=>{P(1),T(e.target.value)}}),i.jsx(p.Z,{value:N,onChange:e=>{P(1),V(e)},options:[{label:`ทั้งหมด (${eh})`,value:"all"},{label:`OPEN (${ec})`,value:r.OPEN},{label:`CLOSED (${eu})`,value:r.CLOSED}]}),i.jsx(A,{value:J,onChange:e=>{P(1),K(e)},format:"DD/MM/YYYY",allowClear:!0,style:{width:"100%"},placeholder:["วันที่เริ่มต้น","วันที่สิ้นสุด"]})]})}),i.jsx(E.Z,{title:"รายการประวัติกะ",extra:i.jsx("span",{style:{fontWeight:600},children:eo.length}),children:ei.isLoading?i.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"48px 0"},children:i.jsx(m.Z,{size:"large"})}):eo.length>0?(0,i.jsxs)(i.Fragment,{children:[eo.map(e=>i.jsx(G,{shift:e,onViewSummary:et},e.id)),i.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:16},children:i.jsx(x.Z,{current:el?.page||d,pageSize:el?.limit||S,total:el?.total||0,showSizeChanger:!0,onChange:(e,t)=>{P(e),O(t)}})})]}):i.jsx(z.Z,{title:"ไม่พบข้อมูลประวัติกะ",description:"ลองปรับคำค้นหา หรือตัวกรองช่วงวันที่"})})]})}),i.jsx(y.Z,{open:!!ee,title:"สรุปข้อมูลกะ",onCancel:()=>et(null),footer:null,width:760,children:en.isLoading?i.jsx("div",{style:{padding:"40px 0",textAlign:"center"},children:i.jsx(m.Z,{})}):en.data?(0,i.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:10},children:[i.jsx(X,{label:"ยอดขายรวม",value:W(en.data.summary.total_sales),color:"#10b981"}),i.jsx(X,{label:"กำไรสุทธิ",value:W(en.data.summary.net_profit),color:"#0369a1"}),i.jsx(X,{label:"เงินเริ่มต้น",value:W(en.data.shift_info.start_amount),color:"#334155"}),i.jsx(X,{label:"ผลต่าง",value:W(en.data.shift_info.diff_amount),color:B(en.data.shift_info.diff_amount)>=0?"#059669":"#dc2626"})]}),i.jsx(g.Z,{size:"small",title:"วิธีชำระเงิน",children:i.jsx("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))"},children:Object.entries(en.data.summary.payment_methods||{}).map(([e,t])=>(0,i.jsxs)("div",{style:{border:"1px solid #e2e8f0",borderRadius:10,padding:"8px 10px"},children:[i.jsx(I,{type:"secondary",children:e}),i.jsx("div",{style:{fontWeight:700},children:W(t)})]},e))})}),i.jsx(g.Z,{size:"small",title:"สินค้าขายดี",children:en.data.top_products.length>0?i.jsx("div",{style:{display:"grid",gap:8},children:en.data.top_products.map((e,t)=>(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e2e8f0",borderRadius:10,padding:"8px 10px"},children:[(0,i.jsxs)(I,{strong:!0,children:[t+1,". ",e.name]}),(0,i.jsxs)(I,{children:[e.quantity," ",e.unit||"หน่วย"," | ",W(e.revenue)]})]},`${e.id}-${t}`))}):i.jsx(I,{type:"secondary",children:"ไม่พบข้อมูลสินค้าขายดี"})})]}):i.jsx(I,{type:"secondary",children:"ไม่พบข้อมูลสรุปกะ"})})]}):i.jsx(H.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้",tone:"danger"})}function U({label:e,value:t,color:s,icon:r}){return(0,i.jsxs)(g.Z,{size:"small",style:{borderRadius:12},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx("span",{style:{color:s},children:r}),i.jsx(I,{type:"secondary",children:e})]}),i.jsx(N,{level:4,style:{margin:"8px 0 0",color:s},children:t})]})}function X({label:e,value:t,color:s}){return(0,i.jsxs)("div",{style:{border:"1px solid #e2e8f0",borderRadius:10,padding:"10px 12px"},children:[i.jsx(I,{type:"secondary",children:e}),i.jsx("div",{style:{fontSize:20,fontWeight:700,color:s},children:t})]})}function Q(){return i.jsx(b.Z,{})}},18978:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(10326);s(17577);var i=s(21020),n=s(52386);function a({children:e,gap:t=n.H.sectionGap,style:s}){return r.jsx(i.Z,{vertical:!0,gap:t,style:s,children:e})}},36231:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(10326);s(17577);var i=s(56249),n=s(75698),a=s(66874),o=s(52386);function l({title:e="ไม่มีข้อมูล",description:t,action:s,image:l}){return r.jsx(i.Z,{size:"small",variant:"outlined",style:{borderRadius:o.H.cardRadiusLG},bodyStyle:{padding:20},children:r.jsx(n.Z,{image:l,description:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[r.jsx(a.default.Text,{strong:!0,children:e}),t?r.jsx(a.default.Text,{type:"secondary",children:t}):null]}),children:s})})}},80440:(e,t,s)=>{"use strict";s.d(t,{s:()=>n});var r=s(17577),i=s(19211);let n=()=>(0,r.useContext)(i.J)},3040:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\pos\shiftHistory\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9276,4421,8571,8842,108,8963,1399,4658,3849],()=>s(33971));module.exports=r})();