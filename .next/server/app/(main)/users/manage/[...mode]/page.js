(()=>{var e={};e.id=4802,e.ids=[4802],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},28539:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>l}),t(24379),t(29329),t(58522),t(61804),t(7629),t(11930),t(12523);var a=t(23191),s=t(88716),n=t(43315),o=t(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(r,i);let l=["",{children:["(main)",{children:["users",{children:["manage",{children:["[...mode]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,24379)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\users\\manage\\[...mode]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,29329)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\users\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],c=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\users\\manage\\[...mode]\\page.tsx"],d="/(main)/users/manage/[...mode]/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/users/manage/[...mode]/page",pathname:"/users/manage/[...mode]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},73849:(e,r,t)=>{Promise.resolve().then(t.bind(t,95274))},89984:(e,r,t)=>{Promise.resolve().then(t.bind(t,87516))},2643:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var n=t(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}let i=a.forwardRef((e,r)=>a.createElement(n.Z,o({},e,{ref:r,icon:s})))},30278:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};var n=t(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}let i=a.forwardRef((e,r)=>a.createElement(n.Z,o({},e,{ref:r,icon:s})))},95274:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(10326);t(17577);var s=t(18418),n=t(35047),o=t(67329),i=t(88196);let l=()=>{let e=(0,n.useRouter)(),r=(0,n.usePathname)(),t=[{key:"home",label:"หน้าแรก",icon:a.jsx(o.Z,{}),path:"/"}];return a.jsx(i.Z,{maxWidth:260,items:t.map(t=>({key:t.key,label:t.label,icon:t.icon,onClick:()=>e.push(t.path),active:r===t.path}))})};function c({children:e}){return a.jsx(a.Fragment,{children:(0,a.jsxs)(s.default,{style:{minHeight:"100%",background:"transparent"},children:[a.jsx(s.default.Content,{style:{background:"transparent"},children:e}),a.jsx(l,{})]})})}},87516:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>F});var a=t(10326),s=t(17577),n=t(66874),o=t(43359),i=t(46752),l=t(71935),c=t(55113),d=t(56249),u=t(92121),m=t(49909),p=t(75958),h=t(63459),g=t(2643),x=t(63191),b=t(9078),f=t(24895),j=t(30278),y=t(35047),v=t(77626),w=t.n(v);function _(){return a.jsx(w(),{id:"20cbc76f7af591fa",children:".user-form-card{max-width:600px;margin:0 auto}.form-actions{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;gap:12px;margin-top:24px}.user-manage-page .ant-form-item{}"})}t(81456);var P=t(63814),Z=t(78407),k=t(94001),E=t(26963),C=t(76892),T=t(52647),S=t(60578);let{Title:q}=n.default;function F({params:e}){let r=(0,y.useRouter)(),[t]=o.Z.useForm(),{user:n}=(0,k.a)(),v=n?.role==="Admin",w=n?.role==="Manager",[F,O]=(0,s.useState)(!1),[N,$]=(0,s.useState)(!1),[R,z]=(0,s.useState)([]),[H,I]=(0,s.useState)([]),[L,B]=(0,s.useState)(""),[M,U]=(0,s.useState)(!1),[X,W]=(0,s.useState)(!1),A=o.Z.useWatch("roles_id",t),D=o.Z.useWatch("branch_id",t),V=e.mode[0],G=e.mode[1]||null,J="edit"===V&&!!G,Y=J&&!!G&&G===n?.id;(0,s.useCallback)(async()=>{try{let e=await fetch("/api/roles/getAll");if(!e.ok)throw Error((0,S.t)("users.manage.loadRolesError"));let r=await e.json();z(r)}catch(e){console.error(e),i.ZP.error((0,S.t)("users.manage.loadRolesError"))}},[]),(0,s.useCallback)(async()=>{try{let e=await Z.x.getAll();I(e)}catch(e){console.error(e),i.ZP.error((0,S.t)("users.manage.loadBranchesError"))}},[]),(0,s.useCallback)(async()=>{if(G){O(!0);try{let e=await P.W.getUserById(G);t.setFieldsValue({username:e.username,name:e.name,roles_id:e.roles?.id||e.roles_id,branch_id:e.branch?.id||e.branch_id,is_active:e.is_active,is_use:e.is_use})}catch(e){console.error(e),i.ZP.error((0,S.t)("users.manage.loadUserError")),r.push("/users")}finally{O(!1)}}},[G,t,r]);let K=async e=>{$(!0);try{if(J&&G){let r={...e};r.password||delete r.password,w&&(delete r.roles_id,delete r.branch_id,Y&&(delete r.is_use,delete r.is_active)),await P.W.updateUser(G,r,void 0,L),i.ZP.success((0,S.t)("users.manage.updateSuccess"))}else{let r={...e};w&&(delete r.roles_id,delete r.branch_id),await P.W.createUser(r,void 0,L),i.ZP.success((0,S.t)("users.manage.createSuccess"))}r.push("/users")}catch(e){console.error(e),i.ZP.error(e.message||(J?(0,S.t)("users.manage.saveErrorUpdate"):(0,S.t)("users.manage.saveErrorCreate")))}finally{$(!1)}},Q=async()=>{if(G)try{await P.W.deleteUser(G,void 0,L),i.ZP.success((0,S.t)("users.manage.deleteSuccess")),r.push("/users")}catch(e){console.error(e),i.ZP.error((0,S.t)("users.manage.deleteError"))}},ee=R.find(e=>e.id===A),er=H.find(e=>e.id===D),et=n?.branch?`${n.branch.branch_name} (${n.branch.branch_code})`:n?.branch_id||"-";return(0,a.jsxs)(a.Fragment,{children:[a.jsx(T.Z,{title:(0,S.t)("users.headerTitle")}),a.jsx(E.Z,{children:a.jsx(C.Z,{children:a.jsx(a.Fragment,{children:a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"p-6 md:p-10 min-h-screen bg-gray-50 user-manage-page",children:[(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx(l.ZP,{type:"text",icon:a.jsx(g.Z,{}),onClick:()=>r.push("/users"),className:"mb-2 pl-0 hover:bg-transparent hover:text-blue-600",children:(0,S.t)("users.manage.backToList")}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx(q,{level:2,style:{margin:0},children:J?(0,S.t)("users.manage.headingEdit"):(0,S.t)("users.manage.headingCreate")}),J&&a.jsx(c.Z,{title:(0,S.t)("users.manage.deleteTitle"),description:(0,S.t)("users.manage.deleteDescription"),onConfirm:Q,okText:(0,S.t)("users.manage.deleteOk"),cancelText:(0,S.t)("users.manage.deleteCancel"),okButtonProps:{danger:!0},children:a.jsx(l.ZP,{danger:!0,icon:a.jsx(x.Z,{}),children:(0,S.t)("users.manage.deleteButton")})})]})]}),a.jsx(d.Z,{className:"shadow-sm rounded-2xl border-gray-100",style:{overflow:"visible"},children:F?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(u.Z,{size:"large"})}):(0,a.jsxs)(o.Z,{form:t,layout:"vertical",onFinish:K,requiredMark:"optional",autoComplete:"off",children:[a.jsx(o.Z.Item,{name:"username",label:(0,S.t)("users.manage.form.usernameLabel"),rules:[{required:!0,message:(0,S.t)("users.manage.form.usernameRequired")},{pattern:/^[a-zA-Z0-9\-_@.]*$/,message:(0,S.t)("users.manage.form.usernamePattern")}],children:a.jsx(m.default,{size:"large",placeholder:(0,S.t)("users.manage.form.usernamePlaceholder"),autoComplete:"off"})}),a.jsx(o.Z.Item,{name:"name",label:(0,S.t)("users.manage.form.nameLabel"),rules:[{required:!0,message:(0,S.t)("users.manage.form.nameRequired")}],children:a.jsx(m.default,{size:"large",placeholder:(0,S.t)("users.manage.form.namePlaceholder"),autoComplete:"off"})}),a.jsx(o.Z.Item,{name:"password",label:J?(0,S.t)("users.manage.form.passwordLabelEdit"):(0,S.t)("users.manage.form.passwordLabel"),rules:[{required:!J,message:(0,S.t)("users.manage.form.passwordRequired")},{pattern:/^[a-zA-Z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]*$/,message:(0,S.t)("users.manage.form.passwordPattern")}],children:a.jsx(m.default.Password,{size:"large",placeholder:(0,S.t)("users.manage.form.passwordPlaceholder"),autoComplete:"new-password"})}),a.jsx(o.Z.Item,{name:"roles_id",label:(0,S.t)("users.manage.form.roleLabel"),rules:[{required:v,message:(0,S.t)("users.manage.form.roleRequired")}],children:(0,a.jsxs)("div",{className:`ant-input ant-input-lg flex items-center justify-between ${v?"cursor-pointer":""}`,onClick:()=>v&&U(!0),style:{border:"1px solid #d9d9d9",borderRadius:8,padding:"7px 11px",height:48},children:[a.jsx("span",{className:ee?"text-black":"text-gray-400",children:v?ee?ee.display_name:(0,S.t)("users.manage.form.rolePlaceholder"):"Employee"}),a.jsx(b.Z,{className:"text-gray-400"})]})}),a.jsx(o.Z.Item,{name:"branch_id",label:(0,S.t)("users.manage.form.branchLabel"),rules:[{required:v,message:(0,S.t)("users.manage.form.branchRequired")}],children:(0,a.jsxs)("div",{className:`ant-input ant-input-lg flex items-center justify-between ${v?"cursor-pointer":""}`,onClick:()=>v&&W(!0),style:{border:"1px solid #d9d9d9",borderRadius:8,padding:"7px 11px",height:48},children:[a.jsx("span",{className:er?"text-black":"text-gray-400",children:v?er?`${er.branch_name} (${er.branch_code})`:(0,S.t)("users.manage.form.branchPlaceholder"):et}),a.jsx(b.Z,{className:"text-gray-400"})]})}),v&&a.jsx(p.Z,{title:(0,S.t)("users.manage.form.roleModalTitle"),open:M,onCancel:()=>U(!1),footer:null,centered:!0,zIndex:10001,children:a.jsx("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto p-1",children:R.map(e=>(0,a.jsxs)("div",{onClick:()=>{t.setFieldValue("roles_id",e.id),U(!1)},className:`p-3 border rounded-lg cursor-pointer flex justify-between items-center hover:bg-gray-50 transition-colors ${A===e.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[a.jsx("span",{className:A===e.id?"font-medium text-blue-600":"text-gray-700",children:e.display_name}),A===e.id&&a.jsx(f.Z,{className:"text-blue-600"})]},e.id))})}),v&&a.jsx(p.Z,{title:(0,S.t)("users.manage.form.branchModalTitle"),open:X,onCancel:()=>W(!1),footer:null,centered:!0,zIndex:10001,children:a.jsx("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto p-1",children:H.map(e=>(0,a.jsxs)("div",{onClick:()=>{t.setFieldValue("branch_id",e.id),W(!1)},className:`p-3 border rounded-lg cursor-pointer flex justify-between items-center hover:bg-gray-50 transition-colors ${D===e.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[(0,a.jsxs)("span",{className:D===e.id?"font-medium text-blue-600":"text-gray-700",children:[e.branch_name," (",e.branch_code,")"]}),D===e.id&&a.jsx(f.Z,{className:"text-blue-600"})]},e.id))})}),J&&(!w||!Y)&&(0,a.jsxs)("div",{className:"flex gap-8 mb-4",children:[a.jsx(o.Z.Item,{name:"is_active",label:(0,S.t)("users.manage.form.activeLabel"),valuePropName:"checked",children:a.jsx(h.Z,{})}),a.jsx(o.Z.Item,{name:"is_use",label:(0,S.t)("users.manage.form.useLabel"),valuePropName:"checked",children:a.jsx(h.Z,{})})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-50 mt-6",children:[a.jsx(l.ZP,{size:"large",onClick:()=>r.push("/users"),children:(0,S.t)("users.manage.cancel")}),a.jsx(l.ZP,{type:"primary",htmlType:"submit",size:"large",loading:N,icon:a.jsx(j.Z,{}),className:"bg-blue-600 hover:bg-blue-700",children:J?(0,S.t)("users.manage.updateSubmit"):(0,S.t)("users.manage.createSubmit")})]})]})})]}),a.jsx(_,{})]})})})})})]})}},88196:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var a=t(10326);t(17577);var s=t(66874),n=t(5591),o=t(3861),i=t(56249),l=t(11401),c=t(71935),d=t(83575);let{Text:u}=s.default;function m({items:e,maxWidth:r=440,bottomOffset:t=d.w}){let{token:s}=n.default.useToken(),m=!o.default.useBreakpoint().md,p={position:"fixed",left:"50%",transform:"translateX(-50%)",bottom:`calc(${t}px + env(safe-area-inset-bottom))`,width:"calc(100% - 24px)",maxWidth:r,zIndex:900};return a.jsx("div",{style:p,"aria-label":"Bottom navigation",children:a.jsx(i.Z,{size:"small",variant:"outlined",bodyStyle:{padding:8,display:"grid",gridTemplateColumns:`repeat(${e.length}, minmax(0, 1fr))`,gap:4},style:{borderRadius:m?18:22,borderColor:s.colorBorderSecondary,background:"rgba(255, 255, 255, 0.92)",backdropFilter:"blur(12px)",boxShadow:s.boxShadowSecondary},children:e.map(e=>{let r=!!e.active,t=r?s.colorPrimary:s.colorTextSecondary,n=r?s.colorPrimary:s.colorTextSecondary,o=a.jsx("span",{style:{fontSize:22,lineHeight:1,color:t},children:e.icon}),i=e.badgeDot||(e.badgeCount??0)>0?a.jsx(l.Z,{dot:e.badgeDot,count:e.badgeCount,size:"small",children:o}):o;return(0,a.jsxs)(c.ZP,{type:"text",disabled:e.disabled,"aria-label":e.ariaLabel??e.label,"aria-current":r?"page":void 0,onClick:e.onClick,style:{height:m?64:68,paddingInline:0,borderRadius:16,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,background:r?s.colorPrimaryBg:"transparent"},children:[i,a.jsx(u,{style:{fontSize:11,fontWeight:r?600:500,color:n,lineHeight:1},children:e.label})]},e.key)})})})}},52647:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(10326);t(17577);var s=t(2643),n=t(5591),o=t(3861),i=t(21020),l=t(71935),c=t(66874),d=t(52386);function u({title:e,subtitle:r,icon:t,onBack:u,actions:m,style:p}){let{token:h}=n.default.useToken(),g=o.default.useBreakpoint().md?d.H.pagePaddingXDesktop:d.H.pagePaddingXMobile;return a.jsx("div",{style:{padding:`${d.H.pagePaddingY}px ${g}px`,background:h.colorBgContainer,borderBottom:`1px solid ${h.colorBorderSecondary}`,...p},children:(0,a.jsxs)(i.Z,{align:"center",justify:"space-between",wrap:"wrap",gap:12,style:{maxWidth:d.H.pageMaxWidth,margin:"0 auto"},children:[(0,a.jsxs)(i.Z,{align:"center",gap:12,style:{minWidth:0},children:[u&&a.jsx(l.ZP,{type:"text","aria-label":"ย้อนกลับ",icon:a.jsx(s.Z,{}),onClick:u,style:{borderRadius:12,width:44,height:44}}),t&&a.jsx("div",{style:{width:44,height:44,borderRadius:14,display:"grid",placeItems:"center",background:h.colorFillTertiary,color:h.colorText},children:t}),(0,a.jsxs)("div",{style:{minWidth:0},children:[a.jsx(c.default.Title,{level:4,style:{margin:0},children:e}),r&&a.jsx(c.default.Text,{type:"secondary",children:r})]})]}),m&&a.jsx(i.Z,{gap:8,wrap:"wrap",children:m})]})})}},55075:(e,r,t)=>{"use strict";t.d(r,{E:()=>n,M:()=>s});var a=t(48571);let s=a.Ryn({id:a.Z_8(),branch_name:a.Z_8(),branch_code:a.Z_8(),address:a.Z_8().optional().nullable(),phone:a.Z_8().optional().nullable(),tax_id:a.Z_8().optional().nullable(),is_active:a.O72().default(!0),create_date:a.Z_8().or(a.hTZ()).transform(e=>new Date(e))}),n=a.IXX(s)},78407:(e,r,t)=>{"use strict";t.d(r,{x:()=>l});var a=t(40820),s=t(12529),n=t(55075),o=t(40577);let i=a.q.POS.BRANCH,l={getAll:async e=>{let r=(0,s.b)("GET",i),t={};e&&(t.Cookie=e);let a=await fetch(r,{cache:"no-store",credentials:"include",headers:t});if(!a.ok)throw Error("Failed to fetch branches");let l=await a.json();return n.E.parse((0,o.hH)(l))},getById:async(e,r)=>{let t=(0,s.b)("GET",`${i}/${e}`),a={};r&&(a.Cookie=r);let l=await fetch(t,{cache:"no-store",credentials:"include",headers:a});if(!l.ok)throw Error("Failed to fetch branch");let c=await l.json();return n.M.parse((0,o.hH)(c))},create:async(e,r,t)=>{let a=(0,s.b)("POST",i),n={"Content-Type":"application/json"};r&&(n.Cookie=r),t&&(n["X-CSRF-Token"]=t);let l=await fetch(a,{method:"POST",body:JSON.stringify(e),headers:n,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to create branch"))}return(0,o.hH)(await l.json())},update:async(e,r,t,a)=>{let n=(0,s.b)("PUT",`${i}/${e}`),l={"Content-Type":"application/json"};t&&(l.Cookie=t),a&&(l["X-CSRF-Token"]=a);let c=await fetch(n,{method:"PUT",body:JSON.stringify(r),headers:l,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to update branch"))}return(0,o.hH)(await c.json())},delete:async(e,r,t)=>{let a=(0,s.b)("DELETE",`${i}/${e}`),n={};r&&(n.Cookie=r),t&&(n["X-CSRF-Token"]=t);let l=await fetch(a,{method:"DELETE",headers:n,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to delete branch"))}}}},63814:(e,r,t)=>{"use strict";t.d(r,{W:()=>u});var a=t(12529),s=t(48571);let n=s.Ryn({id:s.Z_8(),roles_name:s.Z_8(),display_name:s.Z_8()});var o=t(55075);let i=s.Ryn({id:s.Z_8(),username:s.Z_8(),name:s.Z_8().optional().nullable(),roles_id:s.Z_8().optional().nullable(),roles:n.optional().nullable(),branch_id:s.Z_8().optional().nullable(),branch:o.M.optional().nullable(),create_date:s.Z_8().or(s.hTZ()).transform(e=>new Date(e)).optional(),last_login_at:s.Z_8().or(s.hTZ()).transform(e=>new Date(e)).optional().nullable(),is_use:s.O72().optional().default(!0),is_active:s.O72().optional().default(!1)}),l=s.IXX(i);var c=t(40577);let d="/users",u={getAllUsers:async(e,r)=>{let t=(0,a.b)("GET",d);r&&(t+=`?${r.toString()}`);let s={};e&&(s.Cookie=e);let n=await fetch(t,{headers:s,credentials:"include",cache:"no-store"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,c.i_)(e,"ไม่สามารถดึงข้อมูลผู้ใช้ได้"))}let o=await n.json();return l.parse((0,c.hH)(o))},getUserById:async(e,r)=>{let t=(0,a.b)("GET",`${d}/${e}`),s={};r&&(s.Cookie=r);let n=await fetch(t,{headers:s,credentials:"include",cache:"no-store"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,c.i_)(e,"ไม่สามารถดึงข้อมูลผู้ใช้ได้"))}let o=await n.json();return i.parse((0,c.hH)(o))},createUser:async(e,r,t)=>{let s=(0,a.b)("POST",d),n={"Content-Type":"application/json"};r&&(n.Cookie=r),t&&(n["X-CSRF-Token"]=t);let o=await fetch(s,{method:"POST",headers:n,body:JSON.stringify(e),credentials:"include"});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,c.i_)(e,"ไม่สามารถสร้างผู้ใช้ได้"))}return(0,c.hH)(await o.json())},updateUser:async(e,r,t,s)=>{let n=(0,a.b)("PUT",`${d}/${e}`),o={"Content-Type":"application/json"};t&&(o.Cookie=t),s&&(o["X-CSRF-Token"]=s);let i=await fetch(n,{method:"PUT",headers:o,body:JSON.stringify(r),credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,c.i_)(e,"ไม่สามารถอัปเดตผู้ใช้ได้"))}return(0,c.hH)(await i.json())},deleteUser:async(e,r,t)=>{let s=(0,a.b)("DELETE",`${d}/${e}`),n={};r&&(n.Cookie=r),t&&(n["X-CSRF-Token"]=t);let o=await fetch(s,{method:"DELETE",headers:n,credentials:"include"});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,c.i_)(e,"ไม่สามารถลบผู้ใช้ได้"))}}}},29329:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\users\layout.tsx#default`)},24379:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\users\manage\[...mode]\page.tsx#default`)}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[9276,4421,8571,8963,1399],()=>t(28539));module.exports=a})();