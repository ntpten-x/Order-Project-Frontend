(()=>{var e={};e.id=9386,e.ids=[9386],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},20054:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.Z,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>l}),r(92349),r(29329),r(58522),r(61804),r(7629),r(11930),r(12523);var a=r(23191),s=r(88716),n=r(43315),o=r(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let l=["",{children:["(main)",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92349)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\users\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,29329)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\users\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58522)),"E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61804)),"E:\\Project\\Order-Project-Frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"E:\\Project\\Order-Project-Frontend\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"E:\\Project\\Order-Project-Frontend\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"E:\\Project\\Order-Project-Frontend\\src\\app\\not-found.tsx"]}],d=["E:\\Project\\Order-Project-Frontend\\src\\app\\(main)\\users\\page.tsx"],c="/(main)/users/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},73849:(e,t,r)=>{Promise.resolve().then(r.bind(r,95274))},8293:(e,t,r)=>{Promise.resolve().then(r.bind(r,91309))},2643:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(17577);let s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var n=r(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let i=a.forwardRef((e,t)=>a.createElement(n.Z,o({},e,{ref:t,icon:s})))},95274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(10326);r(17577);var s=r(18418),n=r(35047),o=r(67329),i=r(88196);let l=()=>{let e=(0,n.useRouter)(),t=(0,n.usePathname)(),r=[{key:"home",label:"หน้าแรก",icon:a.jsx(o.Z,{}),path:"/"}];return a.jsx(i.Z,{maxWidth:260,items:r.map(r=>({key:r.key,label:r.label,icon:r.icon,onClick:()=>e.push(r.path),active:t===r.path}))})};function d({children:e}){return a.jsx(a.Fragment,{children:(0,a.jsxs)(s.default,{style:{minHeight:"100%",background:"transparent"},children:[a.jsx(s.default.Content,{style:{background:"transparent"},children:e}),a.jsx(l,{})]})})}},91309:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var a=r(10326),s=r(17577),n=r(75958),o=r(46752),i=r(64635),l=r(71935);let d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"};var c=r(74082);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let u=s.forwardRef((e,t)=>s.createElement(c.Z,p({},e,{ref:t,icon:d})));var x=r(35047),m=r(77626),y=r.n(m),f=r(66874),h=r(56249),g=r(81135),b=r(11401),j=r(6400),v=r(71209),k=r(61357),w=r(20331),Z=r(46024),_=r(63191),P=r(60578);let{Title:C,Text:z}=f.default,O={container:{minHeight:"100vh",background:"#f8f9fc",paddingBottom:40},userCard:e=>({borderRadius:20,border:"none",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",background:"#fff",boxShadow:e?"0 10px 30px rgba(37, 99, 235, 0.15)":"0 4px 20px rgba(0,0,0,0.05)",transform:e?"translateY(-4px)":"none",position:"relative"})},S=()=>a.jsx(y(),{id:"985ac2baae04cebc",children:"@-webkit-keyframes fadeInUp{from{opacity:0;-webkit-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeInUp{from{opacity:0;-moz-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeInUp{from{opacity:0;-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeInUp{from{opacity:0;-webkit-transform:translatey(20px);-moz-transform:translatey(20px);-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}@-webkit-keyframes float{0%{-webkit-transform:translatey(0px);transform:translatey(0px)}50%{-webkit-transform:translatey(-10px);transform:translatey(-10px)}100%{-webkit-transform:translatey(0px);transform:translatey(0px)}}@-moz-keyframes float{0%{-moz-transform:translatey(0px);transform:translatey(0px)}50%{-moz-transform:translatey(-10px);transform:translatey(-10px)}100%{-moz-transform:translatey(0px);transform:translatey(0px)}}@-o-keyframes float{0%{-o-transform:translatey(0px);transform:translatey(0px)}50%{-o-transform:translatey(-10px);transform:translatey(-10px)}100%{-o-transform:translatey(0px);transform:translatey(0px)}}@keyframes float{0%{-webkit-transform:translatey(0px);-moz-transform:translatey(0px);-o-transform:translatey(0px);transform:translatey(0px)}50%{-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}100%{-webkit-transform:translatey(0px);-moz-transform:translatey(0px);-o-transform:translatey(0px);transform:translatey(0px)}}.decorative-shape{position:absolute;background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.shape-1{width:300px;height:300px;right:-100px;top:-100px}.shape-2{width:150px;height:150px;left:10%;bottom:20px;-webkit-animation:float 6s ease-in-out infinite;-moz-animation:float 6s ease-in-out infinite;-o-animation:float 6s ease-in-out infinite;animation:float 6s ease-in-out infinite}.action-btn{opacity:.7;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.action-btn:hover{opacity:1;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}"}),T=({totalUsers:e,activeUsers:t,onlineUsers:r})=>(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginTop:-40,marginBottom:32,position:"relative",zIndex:2,maxWidth:1200,marginLeft:"auto",marginRight:"auto",padding:"0 24px",justifyContent:"center"},children:[a.jsx(h.Z,{variant:"borderless",style:{borderRadius:16,boxShadow:"0 10px 30px rgba(0,0,0,0.08)"},children:a.jsx(g.Z,{title:a.jsx(z,{type:"secondary",children:(0,P.t)("users.stats.total")}),value:e,prefix:a.jsx(u,{style:{color:"#3b82f6",background:"#eff6ff",padding:8,borderRadius:"50%"}}),styles:{content:{fontWeight:700}}})}),a.jsx(h.Z,{variant:"borderless",style:{borderRadius:16,boxShadow:"0 10px 30px rgba(0,0,0,0.08)"},children:a.jsx(g.Z,{title:a.jsx(z,{type:"secondary",children:(0,P.t)("users.stats.active")}),value:t,styles:{content:{color:"#10b981",fontWeight:700}},prefix:a.jsx(b.Z,{status:"processing",color:"#10b981"})})}),a.jsx(h.Z,{variant:"borderless",style:{borderRadius:16,boxShadow:"0 10px 30px rgba(0,0,0,0.08)"},children:a.jsx(g.Z,{title:a.jsx(z,{type:"secondary",children:(0,P.t)("users.stats.online")}),value:r,styles:{content:{color:"#f59e0b",fontWeight:700}},prefix:a.jsx(w.Z,{style:{color:"#f59e0b",background:"#fffbeb",padding:8,borderRadius:"50%"}})})})]}),E=({user:e,onEdit:t,onDelete:r})=>{let s=e.roles?.roles_name||"";return(0,a.jsxs)(h.Z,{hoverable:!0,style:O.userCard(e.is_active||!1),styles:{body:{padding:20}},actions:[a.jsx(j.Z,{title:(0,P.t)("users.card.edit"),children:a.jsx(l.ZP,{type:"text",icon:a.jsx(Z.Z,{style:{color:"#3b82f6"}}),onClick:()=>t(e),children:(0,P.t)("users.card.edit")})},"edit"),a.jsx(j.Z,{title:(0,P.t)("users.card.delete"),children:a.jsx(l.ZP,{type:"text",danger:!0,icon:a.jsx(_.Z,{}),onClick:()=>r(e),children:(0,P.t)("users.card.delete")})},"delete")],children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:16,marginBottom:16},children:[a.jsx(v.Z,{size:64,style:{backgroundColor:"Admin"===s?"#f59e0b":"Manager"===s?"#eb2f96":"#3b82f6",fontSize:24,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",border:e.is_active?"3px solid #10b981":"3px solid transparent",transition:"all 0.3s ease"},icon:a.jsx(w.Z,{})}),a.jsx("div",{style:{flex:1},children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,a.jsxs)("div",{children:[a.jsx(C,{level:4,style:{margin:0,marginBottom:4,color:"#1f2937"},children:e.name||e.username}),(0,a.jsxs)("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[a.jsx(k.Z,{color:"Admin"===s?"gold":"Manager"===s?"magenta":"blue",style:{borderRadius:12,border:"none",padding:"0 10px",margin:0},children:e.roles?.display_name||e.roles?.roles_name||"N/A"}),e.branch&&a.jsx(k.Z,{color:"cyan",style:{borderRadius:12,border:"none",padding:"0 10px",margin:0},children:e.branch.branch_name})]})]}),a.jsx(j.Z,{title:e.is_active?(0,P.t)("users.card.active"):(0,P.t)("users.card.inactive"),children:e.is_active?a.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:"#10b981",boxShadow:"0 0 0 3px rgba(16, 185, 129, 0.2)"}}):a.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:"#d1d5db"}})})]})})]}),(0,a.jsxs)("div",{style:{background:"#f9fafb",padding:12,borderRadius:12},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[a.jsx(z,{type:"secondary",style:{fontSize:12},children:(0,P.t)("users.card.active")}),e.is_active?(0,a.jsxs)(k.Z,{color:"#10b981",style:{margin:0,borderRadius:12,border:"none",padding:"0 10px",display:"flex",alignItems:"center",gap:6},children:[a.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"#fff",boxShadow:"0 0 8px rgba(255,255,255,0.8)"}}),a.jsx("span",{style:{fontWeight:600},children:(0,P.t)("users.card.active")})]}):a.jsx(k.Z,{style:{margin:0,borderRadius:12,border:"none",background:"#f3f4f6",color:"#9ca3af"},children:(0,P.t)("users.card.inactive")})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[a.jsx(z,{type:"secondary",style:{fontSize:12},children:(0,P.t)("users.card.canUse")}),a.jsx(b.Z,{status:e.is_use?"success":"error",text:a.jsx("span",{style:{fontSize:12},children:e.is_use?'{t("users.card.canUse")}':'{t("users.card.cannotUse")}'})})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx(z,{type:"secondary",style:{fontSize:12},children:(0,P.t)("users.card.lastLogin")}),a.jsx(z,{style:{fontSize:12,fontWeight:500},children:e.last_login_at?new Date(e.last_login_at).toLocaleDateString("th-TH"):"-"})]})]})]})};var R=r(80440),U=r(59746),q=r(37938),I=r(94001),D=r(92121);r(81456);var M=r(63814);r(83179);var B=r(26963),H=r(76892),W=r(18978),F=r(52647),$=r(36231);function A(){let e=(0,x.useRouter)(),[t,r]=(0,s.useState)([]),{socket:d}=(0,R.s)(),{execute:c}=(0,U.J)(),{showLoading:p,hideLoading:m}=(0,q.x)(),{user:y,loading:f}=(0,I.a)(),[h,g]=(0,s.useState)(""),b=(0,s.useCallback)(async()=>{c(async()=>{r(await M.W.getAllUsers())},"กำลังโหลดข้อมูลผู้ใช้...")},[c]),j=()=>{p(),e.push("/users/manage/add"),setTimeout(()=>m(),1e3)},v=t=>{e.push(`/users/manage/edit/${t.id}`)},k=e=>{n.Z.confirm({title:"ยืนยันการลบผู้ใช้",content:`คุณต้องการลบผู้ใช้ "${e.name||e.username}" หรือไม่?`,okText:"ลบ",okType:"danger",cancelText:"ยกเลิก",centered:!0,onOk:async()=>{await c(async()=>{await M.W.deleteUser(e.id,void 0,h),o.ZP.success(`ลบผู้ใช้ "${e.name||e.username}" สำเร็จ`)},"กำลังลบผู้ใช้งาน...")}})};if(f||!y||!["Admin","Manager"].includes(y.role))return a.jsx("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5"},children:a.jsx(D.Z,{size:"large"})});let w=t.filter(e=>e.is_active).length,Z=t.filter(e=>e.roles?.roles_name==="Admin").length;return(0,a.jsxs)("div",{style:O.container,children:[a.jsx(S,{}),a.jsx(F.Z,{title:(0,P.t)("users.title"),subtitle:(0,P.t)("users.subtitle",{count:t.length}),icon:a.jsx(u,{}),actions:(0,a.jsxs)(i.Z,{size:8,wrap:!0,children:[a.jsx(l.ZP,{onClick:b,children:"รีเฟรช"}),a.jsx(l.ZP,{type:"primary",onClick:j,children:"เพิ่มผู้ใช้"})]})}),a.jsx(B.Z,{children:(0,a.jsxs)(W.Z,{children:[a.jsx(T,{totalUsers:t.length,activeUsers:w,onlineUsers:Z}),a.jsx(H.Z,{title:"รายการผู้ใช้",extra:a.jsx("span",{style:{fontWeight:600},children:t.length}),children:t.length>0?a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:24,justifyContent:"center"},children:t.map((e,t)=>a.jsx("div",{style:{animation:"fadeInUp 0.6s ease-out forwards",animationDelay:`${50*t}ms`,opacity:0},children:a.jsx(E,{user:e,onEdit:v,onDelete:k})},e.id))}):a.jsx($.Z,{title:(0,P.t)("users.empty"),action:a.jsx(l.ZP,{type:"primary",onClick:j,children:(0,P.t)("users.add")})})})]})})]})}},88196:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var a=r(10326);r(17577);var s=r(66874),n=r(5591),o=r(3861),i=r(56249),l=r(11401),d=r(71935),c=r(83575);let{Text:p}=s.default;function u({items:e,maxWidth:t=440,bottomOffset:r=c.w}){let{token:s}=n.default.useToken(),u=!o.default.useBreakpoint().md,x={position:"fixed",left:"50%",transform:"translateX(-50%)",bottom:`calc(${r}px + env(safe-area-inset-bottom))`,width:"calc(100% - 24px)",maxWidth:t,zIndex:900};return a.jsx("div",{style:x,"aria-label":"Bottom navigation",children:a.jsx(i.Z,{size:"small",variant:"outlined",bodyStyle:{padding:8,display:"grid",gridTemplateColumns:`repeat(${e.length}, minmax(0, 1fr))`,gap:4},style:{borderRadius:u?18:22,borderColor:s.colorBorderSecondary,background:"rgba(255, 255, 255, 0.92)",backdropFilter:"blur(12px)",boxShadow:s.boxShadowSecondary},children:e.map(e=>{let t=!!e.active,r=t?s.colorPrimary:s.colorTextSecondary,n=t?s.colorPrimary:s.colorTextSecondary,o=a.jsx("span",{style:{fontSize:22,lineHeight:1,color:r},children:e.icon}),i=e.badgeDot||(e.badgeCount??0)>0?a.jsx(l.Z,{dot:e.badgeDot,count:e.badgeCount,size:"small",children:o}):o;return(0,a.jsxs)(d.ZP,{type:"text",disabled:e.disabled,"aria-label":e.ariaLabel??e.label,"aria-current":t?"page":void 0,onClick:e.onClick,style:{height:u?64:68,paddingInline:0,borderRadius:16,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,background:t?s.colorPrimaryBg:"transparent"},children:[i,a.jsx(p,{style:{fontSize:11,fontWeight:t?600:500,color:n,lineHeight:1},children:e.label})]},e.key)})})})}},52647:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var a=r(10326);r(17577);var s=r(2643),n=r(5591),o=r(3861),i=r(21020),l=r(71935),d=r(66874),c=r(52386);function p({title:e,subtitle:t,icon:r,onBack:p,actions:u,style:x}){let{token:m}=n.default.useToken(),y=o.default.useBreakpoint().md?c.H.pagePaddingXDesktop:c.H.pagePaddingXMobile;return a.jsx("div",{style:{padding:`${c.H.pagePaddingY}px ${y}px`,background:m.colorBgContainer,borderBottom:`1px solid ${m.colorBorderSecondary}`,...x},children:(0,a.jsxs)(i.Z,{align:"center",justify:"space-between",wrap:"wrap",gap:12,style:{maxWidth:c.H.pageMaxWidth,margin:"0 auto"},children:[(0,a.jsxs)(i.Z,{align:"center",gap:12,style:{minWidth:0},children:[p&&a.jsx(l.ZP,{type:"text","aria-label":"ย้อนกลับ",icon:a.jsx(s.Z,{}),onClick:p,style:{borderRadius:12,width:44,height:44}}),r&&a.jsx("div",{style:{width:44,height:44,borderRadius:14,display:"grid",placeItems:"center",background:m.colorFillTertiary,color:m.colorText},children:r}),(0,a.jsxs)("div",{style:{minWidth:0},children:[a.jsx(d.default.Title,{level:4,style:{margin:0},children:e}),t&&a.jsx(d.default.Text,{type:"secondary",children:t})]})]}),u&&a.jsx(i.Z,{gap:8,wrap:"wrap",children:u})]})})}},18978:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(10326);r(17577);var s=r(21020),n=r(52386);function o({children:e,gap:t=n.H.sectionGap,style:r}){return a.jsx(s.Z,{vertical:!0,gap:t,style:r,children:e})}},36231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(10326);r(17577);var s=r(56249),n=r(75698),o=r(66874),i=r(52386);function l({title:e="ไม่มีข้อมูล",description:t,action:r,image:l}){return a.jsx(s.Z,{size:"small",variant:"outlined",style:{borderRadius:i.H.cardRadiusLG},bodyStyle:{padding:20},children:a.jsx(n.Z,{image:l,description:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[a.jsx(o.default.Text,{strong:!0,children:e}),t?a.jsx(o.default.Text,{type:"secondary",children:t}):null]}),children:r})})}},59746:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var a=r(17577),s=r(75958),n=r(37938);let o=()=>{let{showLoading:e,hideLoading:t}=(0,n.x)();return{execute:(0,a.useCallback)(async(r,a="กำลังดำเนินการ...",n,o="เกิดข้อผิดพลาด")=>{try{return e(a,"async"),await r()}catch(t){console.error("Async action error:",t);let e=o;"string"==typeof t?e=t:t instanceof Error?e=t.message:"object"==typeof t&&null!==t&&(e=t.response?.data?.message??t.message??(()=>{try{return JSON.stringify(t)}catch{return"เกิดข้อผิดพลาดที่ไม่ทราบสาเหตุ (Unknown Error)"}})()),s.Z.error({title:"ข้อผิดพลาด",content:e});return}finally{t("async")}},[e,t])}}},80440:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var a=r(17577),s=r(19211);let n=()=>(0,a.useContext)(s.J)},55075:(e,t,r)=>{"use strict";r.d(t,{E:()=>n,M:()=>s});var a=r(48571);let s=a.Ryn({id:a.Z_8(),branch_name:a.Z_8(),branch_code:a.Z_8(),address:a.Z_8().optional().nullable(),phone:a.Z_8().optional().nullable(),tax_id:a.Z_8().optional().nullable(),is_active:a.O72().default(!0),create_date:a.Z_8().or(a.hTZ()).transform(e=>new Date(e))}),n=a.IXX(s)},63814:(e,t,r)=>{"use strict";r.d(t,{W:()=>p});var a=r(12529),s=r(48571);let n=s.Ryn({id:s.Z_8(),roles_name:s.Z_8(),display_name:s.Z_8()});var o=r(55075);let i=s.Ryn({id:s.Z_8(),username:s.Z_8(),name:s.Z_8().optional().nullable(),roles_id:s.Z_8().optional().nullable(),roles:n.optional().nullable(),branch_id:s.Z_8().optional().nullable(),branch:o.M.optional().nullable(),create_date:s.Z_8().or(s.hTZ()).transform(e=>new Date(e)).optional(),last_login_at:s.Z_8().or(s.hTZ()).transform(e=>new Date(e)).optional().nullable(),is_use:s.O72().optional().default(!0),is_active:s.O72().optional().default(!1)}),l=s.IXX(i);var d=r(40577);let c="/users",p={getAllUsers:async(e,t)=>{let r=(0,a.b)("GET",c);t&&(r+=`?${t.toString()}`);let s={};e&&(s.Cookie=e);let n=await fetch(r,{headers:s,credentials:"include",cache:"no-store"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,d.i_)(e,"ไม่สามารถดึงข้อมูลผู้ใช้ได้"))}let o=await n.json();return l.parse((0,d.hH)(o))},getUserById:async(e,t)=>{let r=(0,a.b)("GET",`${c}/${e}`),s={};t&&(s.Cookie=t);let n=await fetch(r,{headers:s,credentials:"include",cache:"no-store"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,d.i_)(e,"ไม่สามารถดึงข้อมูลผู้ใช้ได้"))}let o=await n.json();return i.parse((0,d.hH)(o))},createUser:async(e,t,r)=>{let s=(0,a.b)("POST",c),n={"Content-Type":"application/json"};t&&(n.Cookie=t),r&&(n["X-CSRF-Token"]=r);let o=await fetch(s,{method:"POST",headers:n,body:JSON.stringify(e),credentials:"include"});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,d.i_)(e,"ไม่สามารถสร้างผู้ใช้ได้"))}return(0,d.hH)(await o.json())},updateUser:async(e,t,r,s)=>{let n=(0,a.b)("PUT",`${c}/${e}`),o={"Content-Type":"application/json"};r&&(o.Cookie=r),s&&(o["X-CSRF-Token"]=s);let i=await fetch(n,{method:"PUT",headers:o,body:JSON.stringify(t),credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,d.i_)(e,"ไม่สามารถอัปเดตผู้ใช้ได้"))}return(0,d.hH)(await i.json())},deleteUser:async(e,t,r)=>{let s=(0,a.b)("DELETE",`${c}/${e}`),n={};t&&(n.Cookie=t),r&&(n["X-CSRF-Token"]=r);let o=await fetch(s,{method:"DELETE",headers:n,credentials:"include"});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.errors?.map(e=>e.message).join(", ")||(0,d.i_)(e,"ไม่สามารถลบผู้ใช้ได้"))}}}},83179:(e,t,r)=>{"use strict";r.d(t,{b:()=>a,g:()=>s});let a={system:{announcement:"system:announcement"},users:{create:"users:create",update:"users:update",delete:"users:delete",status:"users:update-status"},roles:{create:"roles:create",update:"roles:update",delete:"roles:delete"},branches:{create:"branches:create",update:"branches:update",delete:"branches:delete"},products:{create:"products:create",update:"products:update",delete:"products:delete"},productsUnit:{create:"productsUnit:create",update:"productsUnit:update",delete:"productsUnit:delete"},categories:{create:"category:create",update:"category:update",delete:"category:delete"},tables:{create:"tables:create",update:"tables:update",delete:"tables:delete"},orders:{create:"orders:create",update:"orders:update",delete:"orders:delete"},payments:{create:"payments:create",update:"payments:update",delete:"payments:delete"},discounts:{create:"discounts:create",update:"discounts:update",delete:"discounts:delete"},delivery:{create:"delivery:create",update:"delivery:update",delete:"delivery:delete"},shifts:{update:"shifts:update"},orderQueue:{added:"order-queue:added",updated:"order-queue:updated",removed:"order-queue:removed",reordered:"order-queue:reordered"},ingredients:{create:"ingredients:create",update:"ingredients:update",delete:"ingredients:delete"},ingredientsUnit:{create:"ingredientsUnit:create",update:"ingredientsUnit:update",delete:"ingredientsUnit:delete"},stock:{update:"stock:update"},stockOrders:{create:"stock:orders:create",update:"stock:orders:update",status:"stock:orders:status",delete:"stock:orders:delete",detailUpdate:"stock:orders:detail:update"},paymentAccounts:{create:"payment-accounts:create",update:"payment-accounts:update",delete:"payment-accounts:delete"},paymentMethods:{create:"paymentMethod:create",update:"paymentMethod:update",delete:"paymentMethod:delete"},shopProfile:{update:"shopProfile:update"},salesOrderItem:{create:"salesOrderItem:create",update:"salesOrderItem:update",delete:"salesOrderItem:delete"},salesOrderDetail:{create:"salesOrderDetail:create",update:"salesOrderDetail:update",delete:"salesOrderDetail:delete"}},s={stockOrdersUpdated:"orders_updated"}},29329:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\users\layout.tsx#default`)},92349:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\users\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,4421,8571,8963,1399],()=>r(20054));module.exports=a})();