exports.id=1399,exports.ids=[1399],exports.modules={30060:(e,t,a)=>{Promise.resolve().then(a.bind(a,45873))},45873:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var o=a(10326);a(17577);var r=a(18418),i=a(33540),n=a(84616);function l({children:e}){return(0,n.DR)(),o.jsx(i.Z,{children:o.jsx(r.default,{style:{minHeight:"100%",background:"transparent"},children:o.jsx(r.default.Content,{style:{background:"transparent"},children:e})})})}},33540:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l,j:()=>c});var o=a(10326),r=a(17577),i=a.n(r);let n=(0,r.createContext)(void 0),l=({children:e})=>{let[t,a]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=localStorage.getItem("shopping_cart");if(e)try{a(JSON.parse(e))}catch(e){console.error("Failed to parse cart from local storage",e)}},[]),(0,r.useEffect)(()=>{localStorage.setItem("shopping_cart",JSON.stringify(t))},[t]);let l=(0,r.useCallback)(e=>{a(t=>t.find(t=>t.ingredient.id===e.id)?t.map(t=>t.ingredient.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{ingredient:e,quantity:1}])},[]),c=(0,r.useCallback)(e=>{a(t=>t.filter(t=>t.ingredient.id!==e))},[]),s=(0,r.useCallback)((e,t)=>{if(t<=0){c(e);return}a(a=>a.map(a=>a.ingredient.id===e?{...a,quantity:t}:a))},[c]),d=(0,r.useCallback)((e,t)=>{a(a=>a.map(a=>a.ingredient.id===e?{...a,note:t}:a))},[]),u=(0,r.useCallback)(()=>{a([])},[]),h=t.reduce((e,t)=>e+t.quantity,0),p=i().useMemo(()=>({items:t,addToCart:l,removeFromCart:c,updateQuantity:s,updateItemNote:d,clearCart:u,itemCount:h}),[t,l,c,s,d,u,h]);return o.jsx(n.Provider,{value:p,children:e})},c=()=>{let e=(0,r.useContext)(n);if(!e)throw Error("useCart must be used within a CartProvider");return e}},84616:(e,t,a)=>{"use strict";a.d(t,{DR:()=>r,mk:()=>n,yV:()=>i});var o=a(44976);function r(){(0,o.NL)()}function i(){(0,o.NL)()}function n(){(0,o.NL)()}a(17577),a(26859),a(47374),a(51562),a(52249)},51562:(e,t,a)=>{"use strict";a.d(t,{G:()=>n});var o=a(12529),r=a(40577);let i="/pos/category",n={findAll:async(e,t)=>{let a=(0,o.b)("GET",i);t&&(a+=`?${t.toString()}`);let n={};e&&(n.Cookie=e);let l=await fetch(a,{cache:"no-store",credentials:"include",headers:n});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,r.i_)(e,"Failed to fetch categories"))}let c=await l.json(),s=(0,r.hH)(c);if(Array.isArray(s))return s;throw Error("Invalid categories response format")},findOne:async(e,t)=>{let a=(0,o.b)("GET",`${i}/${e}`),n={};t&&(n.Cookie=t);let l=await fetch(a,{cache:"no-store",credentials:"include",headers:n});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,r.i_)(e,"Failed to fetch category"))}return(0,r.hH)(await l.json())},findOneByName:async(e,t)=>{let a=(0,o.b)("GET",`${i}/name/${e}`),n={};t&&(n.Cookie=t);let l=await fetch(a,{cache:"no-store",credentials:"include",headers:n});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,r.i_)(e,"Failed to fetch category by name"))}return(0,r.hH)(await l.json())},create:async(e,t,a)=>{let n=(0,o.b)("POST",i),l={"Content-Type":"application/json"};t&&(l.Cookie=t),a&&(l["X-CSRF-Token"]=a);let c=await fetch(n,{method:"POST",headers:l,body:JSON.stringify(e),credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error((0,r.i_)(e,"Failed to create category"))}return(0,r.hH)(await c.json())},update:async(e,t,a,n)=>{let l=(0,o.b)("PUT",`${i}/${e}`),c={"Content-Type":"application/json"};a&&(c.Cookie=a),n&&(c["X-CSRF-Token"]=n);let s=await fetch(l,{method:"PUT",headers:c,body:JSON.stringify(t),credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error((0,r.i_)(e,"Failed to update category"))}return(0,r.hH)(await s.json())},delete:async(e,t,a)=>{let n=(0,o.b)("DELETE",`${i}/${e}`),l={};t&&(l.Cookie=t),a&&(l["X-CSRF-Token"]=a);let c=await fetch(n,{method:"DELETE",headers:l,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error((0,r.i_)(e,"Failed to delete category"))}}}},52249:(e,t,a)=>{"use strict";a.d(t,{e:()=>c});var o=a(12529),r=a(40820),i=a(33357);let n=r.q.POS.ORDER_QUEUE,l=(e,t="application/json")=>{let a={};return t&&(a["Content-Type"]=t),e&&(a.Cookie=e),a},c={getAll:async(e,t)=>{let a=new URLSearchParams;t&&a.append("status",t);let r=a.toString()?`${n}?${a.toString()}`:n,i=(0,o.b)("GET",r),c=l(e,""),s=await fetch(i,{cache:"no-store",headers:c,credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถดึงข้อมูลคิวได้")}let d=await s.json();return d.success&&Array.isArray(d.data)?d.data:Array.isArray(d)?d:[]},addToQueue:async(e,t)=>{let a=(0,o.b)("POST",n),r=l(t),c=await (0,i.P)();c&&(r["X-CSRF-Token"]=c);let s=await fetch(a,{method:"POST",headers:r,credentials:"include",body:JSON.stringify({orderId:e.orderId,priority:e.priority||"Normal"})});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถเพิ่มออเดอร์เข้าคิวได้")}let d=await s.json();return d.success&&d.data?d.data:d},updateStatus:async(e,t,a)=>{let r=(0,o.b)("PATCH",`${n}/${e}/status`),c=l(a),s=await (0,i.P)();s&&(c["X-CSRF-Token"]=s);let d=await fetch(r,{method:"PATCH",headers:c,credentials:"include",body:JSON.stringify(t)});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถอัปเดตสถานะได้")}let u=await d.json();return u.success&&u.data?u.data:u},removeFromQueue:async(e,t)=>{let a=(0,o.b)("DELETE",`${n}/${e}`),r=l(t,""),c=await (0,i.P)();c&&(r["X-CSRF-Token"]=c);let s=await fetch(a,{method:"DELETE",headers:r,credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถลบออกจากคิวได้")}},reorderQueue:async e=>{let t=(0,o.b)("POST",`${n}/reorder`),a=l(e),r=await (0,i.P)();r&&(a["X-CSRF-Token"]=r);let c=await fetch(t,{method:"POST",headers:a,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถจัดเรียงคิวใหม่ได้")}}}},26859:(e,t,a)=>{"use strict";a.d(t,{x:()=>g});var o=a(48571),r=a(12529),i=a(40820),n=a(13976);let l=o.Ryn({id:o.Z_8(),username:o.Z_8()}).partial().nullable(),c=o.Ryn({id:o.Z_8(),display_name:o.Z_8()}).partial().nullable(),s=o.Ryn({id:o.Z_8(),display_name:o.Z_8(),img_url:o.Z_8().nullable(),price:o.oQ2.number(),category:c.optional()}).partial().nullable(),d=o.Ryn({id:o.Z_8().optional(),detail_name:o.Z_8(),extra_price:o.oQ2.number()}).partial(),u=o.Ryn({id:o.Z_8(),order_id:o.Z_8(),product_id:o.Z_8(),product_name:o.Z_8().optional(),quantity:o.oQ2.number(),price:o.oQ2.number(),total_price:o.oQ2.number(),discount_amount:o.oQ2.number().optional().default(0),notes:o.Z_8().nullable().optional(),status:o.jbo(n.i).optional(),product:s.optional(),details:o.IXX(d).optional()}),h=o.Ryn({id:o.Z_8(),order_no:o.Z_8(),order_type:o.jbo(n.m),table_id:o.Z_8().nullable().optional(),delivery_id:o.Z_8().nullable().optional(),delivery_code:o.Z_8().nullable().optional(),sub_total:o.oQ2.number(),discount_id:o.Z_8().nullable().optional(),discount_amount:o.oQ2.number(),vat:o.oQ2.number(),total_amount:o.oQ2.number(),received_amount:o.oQ2.number(),change_amount:o.oQ2.number(),status:o.jbo(n.i),created_by_id:o.Z_8().nullable().optional(),create_date:o.Z_8(),update_date:o.Z_8(),items:o.IXX(u).optional(),created_by:l.optional(),table:o.YjB().optional(),delivery:o.YjB().optional(),discount:o.YjB().optional(),payments:o.IXX(o.YjB()).optional()}),p=o.Ryn({data:o.IXX(h),total:o.oQ2.number(),page:o.oQ2.number(),last_page:o.oQ2.number().optional()}),y=o.Ryn({table_name:o.Z_8().nullable().optional(),delivery_name:o.Z_8().nullable().optional()}).partial().nullable(),m=o.Ryn({id:o.Z_8(),order_no:o.Z_8(),order_type:o.jbo(n.m),status:o.jbo(n.i),create_date:o.Z_8(),total_amount:o.oQ2.number(),delivery_code:o.Z_8().nullable().optional(),table_id:o.Z_8().nullable().optional(),delivery_id:o.Z_8().nullable().optional(),table:y.optional(),delivery:y.optional(),items_summary:o.IMB(o.Z_8(),o.oQ2.number()).optional(),items_count:o.oQ2.number().optional()}),w=o.Ryn({data:o.IXX(m),total:o.oQ2.number(),page:o.oQ2.number(),last_page:o.oQ2.number().optional()});var _=a(40577);let f=i.q.POS.ORDERS,b=(e,t="application/json")=>{let a={};return t&&(a["Content-Type"]=t),e&&(a.Cookie=e),a},g={getAll:async(e,t=1,a=50,i,n,l)=>{let c=new URLSearchParams({page:t.toString(),limit:a.toString(),...i&&{status:i},...n&&{type:n},...l&&{q:l}}),s=`${f}?${c.toString()}`,d=(0,r.b)("GET",s),u=b(e,""),h=await fetch(d,{cache:"no-store",headers:u,credentials:"include"});if(!h.ok){let e=await h.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถดึงข้อมูลออเดอร์ได้"))}let y=await h.json();try{return p.parse((0,_.XO)(y))}catch(e){throw console.error("Zod Validation Error in ordersService.getAll:",e),e instanceof o.jmq&&console.error("Zod Issues:",e.issues),e}},getAllSummary:async(e,t=1,a=50,i,n,l)=>{let c=new URLSearchParams({page:t.toString(),limit:a.toString(),...i&&{status:i},...n&&{type:n},...l&&{q:l}}),s=`${f}/summary?${c.toString()}`,d=(0,r.b)("GET",s),u=b(e,""),h=await fetch(d,{cache:"no-store",headers:u,credentials:"include"});if(!h.ok){let e=await h.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถดึงข้อมูลออเดอร์ได้"))}let p=await h.json();try{return w.parse((0,_.XO)(p))}catch(e){throw console.error("Zod Validation Error in ordersService.getAllSummary:",e),e instanceof o.jmq&&console.error("Zod Issues:",e.issues),e}},getStats:async e=>{let t=(0,r.b)("GET",i.q.POS.CHANNELS.STATS),a=b(e,""),o=await fetch(t,{cache:"no-store",headers:a,credentials:"include"});if(!o.ok){let e=await o.text();console.error("Order Stats Backend Error:",e);let t=await JSON.parse(e).catch(()=>({}));throw Error((0,_.i_)(t,"ไม่สามารถดึงข้อมูลสถิติได้"))}let n=await o.json();return(0,_.hH)(n)},getById:async(e,t)=>{let a=(0,r.b)("GET",`${f}/${e}`),i=b(t,""),n=await fetch(a,{cache:"no-store",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถดึงข้อมูลออเดอร์ได้"))}let l=await n.json();try{return h.parse((0,_.hH)(l))}catch(e){throw console.error("Zod Validation Error in ordersService.getById:",e),e instanceof o.jmq&&console.error("Zod Issues:",e.issues),e}},create:async(e,t,a)=>{let o=(0,r.b)("POST",`${f}`),i=b(t);a&&(i["X-CSRF-Token"]=a);let n=await fetch(o,{method:"POST",headers:i,credentials:"include",body:JSON.stringify(e)});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถสร้างออเดอร์ได้"))}return(0,_.hH)(await n.json())},update:async(e,t,a,o)=>{let i=(0,r.b)("PUT",`${f}/${e}`),n=b(a);o&&(n["X-CSRF-Token"]=o);let l=await fetch(i,{method:"PUT",headers:n,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถแก้ไขออเดอร์ได้"))}return(0,_.hH)(await l.json())},delete:async(e,t,a)=>{let o=(0,r.b)("DELETE",`${f}/${e}`),i=b(t,"");a&&(i["X-CSRF-Token"]=a);let n=await fetch(o,{method:"DELETE",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถลบออเดอร์ได้"))}},updateItemStatus:async(e,t,a,o)=>{let i=(0,r.b)("PATCH",`${f}/items/${e}/status`),n=b(a);o&&(n["X-CSRF-Token"]=o);let l=await fetch(i,{method:"PATCH",headers:n,credentials:"include",body:JSON.stringify({status:t})});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถอัปเดตสถานะรายการได้"))}},getItems:async(e,t)=>{let a=e?`?status=${e}`:"",o=(0,r.b)("GET",`${f}/items${a}`),i=b(t,""),n=await fetch(o,{cache:"no-store",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถดึงข้อมูลรายการได้"))}return(0,_.hH)(await n.json())},addItem:async(e,t,a,o)=>{let i=(0,r.b)("POST",`${f}/${e}/items`),n=b(a);o&&(n["X-CSRF-Token"]=o);let l=await fetch(i,{method:"POST",headers:n,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถเพิ่มรายการได้"))}return(0,_.hH)(await l.json())},updateItem:async(e,t,a,o)=>{let i=(0,r.b)("PUT",`${f}/items/${e}`),n=b(a,"application/json");o&&(n["X-CSRF-Token"]=o);let l=await fetch(i,{method:"PUT",headers:n,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถแก้ไขรายการได้"))}return(0,_.hH)(await l.json())},deleteItem:async(e,t,a)=>{let o=(0,r.b)("DELETE",`${f}/items/${e}`),i=b(t,"");a&&(i["X-CSRF-Token"]=a);let n=await fetch(o,{method:"DELETE",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,_.i_)(e,"ไม่สามารถลบรายการได้"))}return(0,_.hH)(await n.json())},updateStatus:async(e,t,a)=>{let o={"Content-Type":"application/json"};a&&(o["X-CSRF-Token"]=a);let i=(0,r.b)("PUT",`${f}/${e}`);if(!(await fetch(i,{method:"PUT",headers:o,body:JSON.stringify({status:t}),credentials:"include"})).ok)throw Error("Failed to update status")}}},47374:(e,t,a)=>{"use strict";a.d(t,{R:()=>d});var o=a(12529),r=a(40820),i=a(48571);let n=i.Ryn({id:i.Z_8(),product_name:i.Z_8(),display_name:i.Z_8(),description:i.Z_8().optional().or(i.Z_8()),price:i.Rxh().or(i.Z_8().transform(e=>Number(e))),price_delivery:i.Rxh().or(i.Z_8().transform(e=>Number(e))).optional(),category_id:i.Z_8(),unit_id:i.Z_8(),img_url:i.Z_8().nullable().optional(),create_date:i.Z_8().or(i.hTZ()).transform(e=>new Date(e)),update_date:i.Z_8().or(i.hTZ()).transform(e=>new Date(e)),is_active:i.O72().optional().default(!0),category:i.YjB().optional(),unit:i.YjB().optional()}).transform(e=>({...e,price_delivery:e.price_delivery??e.price})),l=i.Ryn({data:i.IXX(n),total:i.Rxh(),page:i.Rxh(),last_page:i.Rxh()});var c=a(40577);let s=r.q.POS.PRODUCTS,d={findAll:async(e=1,t=50,a,r)=>{let i=(0,o.b)("GET",s),n=new URLSearchParams(r||"");n.append("page",e.toString()),n.append("limit",t.toString()),i+=`?${n.toString()}`;let d={};a&&(d.Cookie=a);let u=await fetch(i,{cache:"no-store",credentials:"include",headers:d});if(!u.ok){let e=await u.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to fetch products"))}let h=await u.json(),p=(0,c.XO)(h);return l.parse(p)},findOne:async(e,t)=>{let a=(0,o.b)("GET",`${s}/${e}`),r={};t&&(r.Cookie=t);let i=await fetch(a,{cache:"no-store",credentials:"include",headers:r});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to fetch product"))}let l=await i.json();return n.parse((0,c.hH)(l))},findOneByName:async(e,t)=>{let a=(0,o.b)("GET",`${s}/name/${e}`),r={};t&&(r.Cookie=t);let i=await fetch(a,{cache:"no-store",credentials:"include",headers:r});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to fetch product by name"))}let l=await i.json();return n.parse((0,c.hH)(l))},create:async(e,t,a)=>{let r=(0,o.b)("POST",s),i={"Content-Type":"application/json"};t&&(i.Cookie=t),a&&(i["X-CSRF-Token"]=a);let n=await fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to create product"))}let l=await n.json();return(0,c.hH)(l)},update:async(e,t,a,r)=>{let i=(0,o.b)("PUT",`${s}/${e}`),n={"Content-Type":"application/json"};a&&(n.Cookie=a),r&&(n["X-CSRF-Token"]=r);let l=await fetch(i,{method:"PUT",headers:n,body:JSON.stringify(t),credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to update product"))}let d=await l.json();return(0,c.hH)(d)},delete:async(e,t,a)=>{let r=(0,o.b)("DELETE",`${s}/${e}`),i={};t&&(i.Cookie=t),a&&(i["X-CSRF-Token"]=a);let n=await fetch(r,{method:"DELETE",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to delete product"))}}}},13976:(e,t,a)=>{"use strict";var o,r;a.d(t,{i:()=>r,m:()=>o}),function(e){e.DineIn="DineIn",e.TakeAway="TakeAway",e.Delivery="Delivery"}(o||(o={})),function(e){e.Pending="Pending",e.Cooking="Cooking",e.Served="Served",e.WaitingForPayment="WaitingForPayment",e.Paid="Paid",e.Completed="Completed",e.Cancelled="Cancelled"}(r||(r={}))},58522:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});let o=(0,a(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\layout.tsx#default`)}};