exports.id=1399,exports.ids=[1399],exports.modules={30060:(e,t,a)=>{Promise.resolve().then(a.bind(a,45873))},45873:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(10326);a(17577);var o=a(18418),i=a(33540),n=a(84616);function l({children:e}){return(0,n.DR)(),r.jsx(i.Z,{children:r.jsx(o.default,{style:{minHeight:"100%",background:"transparent"},children:r.jsx(o.default.Content,{style:{background:"transparent"},children:e})})})}},33540:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l,j:()=>c});var r=a(10326),o=a(17577),i=a.n(o);let n=(0,o.createContext)(void 0),l=({children:e})=>{let[t,a]=(0,o.useState)([]);(0,o.useEffect)(()=>{let e=localStorage.getItem("shopping_cart");if(e)try{a(JSON.parse(e))}catch(e){console.error("Failed to parse cart from local storage",e)}},[]),(0,o.useEffect)(()=>{localStorage.setItem("shopping_cart",JSON.stringify(t))},[t]);let l=(0,o.useCallback)(e=>{a(t=>t.find(t=>t.ingredient.id===e.id)?t.map(t=>t.ingredient.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{ingredient:e,quantity:1}])},[]),c=(0,o.useCallback)(e=>{a(t=>t.filter(t=>t.ingredient.id!==e))},[]),s=(0,o.useCallback)((e,t)=>{if(t<=0){c(e);return}a(a=>a.map(a=>a.ingredient.id===e?{...a,quantity:t}:a))},[c]),d=(0,o.useCallback)((e,t)=>{a(a=>a.map(a=>a.ingredient.id===e?{...a,note:t}:a))},[]),u=(0,o.useCallback)(()=>{a([])},[]),h=t.reduce((e,t)=>e+t.quantity,0),p=i().useMemo(()=>({items:t,addToCart:l,removeFromCart:c,updateQuantity:s,updateItemNote:d,clearCart:u,itemCount:h}),[t,l,c,s,d,u,h]);return r.jsx(n.Provider,{value:p,children:e})},c=()=>{let e=(0,o.useContext)(n);if(!e)throw Error("useCart must be used within a CartProvider");return e}},84616:(e,t,a)=>{"use strict";a.d(t,{DR:()=>o,mk:()=>n,yV:()=>i});var r=a(44976);function o(){(0,r.NL)()}function i(){(0,r.NL)()}function n(){(0,r.NL)()}a(17577),a(26859),a(47374),a(51562),a(52249)},51562:(e,t,a)=>{"use strict";a.d(t,{G:()=>n});var r=a(12529),o=a(40577);let i="/pos/category",n={findAll:async(e,t)=>{let a=(0,r.b)("GET",i);t&&(a+=`?${t.toString()}`);let n={};e&&(n.Cookie=e);let l=await fetch(a,{cache:"no-store",credentials:"include",headers:n});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to fetch categories"))}let c=await l.json(),s=(0,o.hH)(c);if(Array.isArray(s))return s;throw Error("Invalid categories response format")},findOne:async(e,t)=>{let a=(0,r.b)("GET",`${i}/${e}`),n={};t&&(n.Cookie=t);let l=await fetch(a,{cache:"no-store",credentials:"include",headers:n});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to fetch category"))}return(0,o.hH)(await l.json())},findOneByName:async(e,t)=>{let a=(0,r.b)("GET",`${i}/name/${e}`),n={};t&&(n.Cookie=t);let l=await fetch(a,{cache:"no-store",credentials:"include",headers:n});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to fetch category by name"))}return(0,o.hH)(await l.json())},create:async(e,t,a)=>{let n=(0,r.b)("POST",i),l={"Content-Type":"application/json"};t&&(l.Cookie=t),a&&(l["X-CSRF-Token"]=a);let c=await fetch(n,{method:"POST",headers:l,body:JSON.stringify(e),credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to create category"))}return(0,o.hH)(await c.json())},update:async(e,t,a,n)=>{let l=(0,r.b)("PUT",`${i}/${e}`),c={"Content-Type":"application/json"};a&&(c.Cookie=a),n&&(c["X-CSRF-Token"]=n);let s=await fetch(l,{method:"PUT",headers:c,body:JSON.stringify(t),credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to update category"))}return(0,o.hH)(await s.json())},delete:async(e,t,a)=>{let n=(0,r.b)("DELETE",`${i}/${e}`),l={};t&&(l.Cookie=t),a&&(l["X-CSRF-Token"]=a);let c=await fetch(n,{method:"DELETE",headers:l,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to delete category"))}}}},52249:(e,t,a)=>{"use strict";a.d(t,{e:()=>c});var r=a(12529),o=a(40820),i=a(33357);let n=o.q.POS.ORDER_QUEUE,l=(e,t="application/json")=>{let a={};return t&&(a["Content-Type"]=t),e&&(a.Cookie=e),a},c={getAll:async(e,t)=>{let a=new URLSearchParams;t&&a.append("status",t);let o=a.toString()?`${n}?${a.toString()}`:n,i=(0,r.b)("GET",o),c=l(e,""),s=await fetch(i,{cache:"no-store",headers:c,credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถดึงข้อมูลคิวได้")}let d=await s.json();return d.success&&Array.isArray(d.data)?d.data:Array.isArray(d)?d:[]},addToQueue:async(e,t)=>{let a=(0,r.b)("POST",n),o=l(t),c=await (0,i.P)();c&&(o["X-CSRF-Token"]=c);let s=await fetch(a,{method:"POST",headers:o,credentials:"include",body:JSON.stringify({orderId:e.orderId,priority:e.priority||"Normal"})});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถเพิ่มออเดอร์เข้าคิวได้")}let d=await s.json();return d.success&&d.data?d.data:d},updateStatus:async(e,t,a)=>{let o=(0,r.b)("PATCH",`${n}/${e}/status`),c=l(a),s=await (0,i.P)();s&&(c["X-CSRF-Token"]=s);let d=await fetch(o,{method:"PATCH",headers:c,credentials:"include",body:JSON.stringify(t)});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถอัปเดตสถานะได้")}let u=await d.json();return u.success&&u.data?u.data:u},removeFromQueue:async(e,t)=>{let a=(0,r.b)("DELETE",`${n}/${e}`),o=l(t,""),c=await (0,i.P)();c&&(o["X-CSRF-Token"]=c);let s=await fetch(a,{method:"DELETE",headers:o,credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถลบออกจากคิวได้")}},reorderQueue:async e=>{let t=(0,r.b)("POST",`${n}/reorder`),a=l(e),o=await (0,i.P)();o&&(a["X-CSRF-Token"]=o);let c=await fetch(t,{method:"POST",headers:a,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถจัดเรียงคิวใหม่ได้")}}}},26859:(e,t,a)=>{"use strict";a.d(t,{x:()=>g});var r=a(48571),o=a(12529),i=a(40820),n=a(13976);let l=r.Ryn({id:r.Z_8(),username:r.Z_8()}).partial().nullable(),c=r.Ryn({id:r.Z_8(),display_name:r.Z_8()}).partial().nullable(),s=r.Ryn({id:r.Z_8(),display_name:r.Z_8(),img_url:r.Z_8().nullable(),price:r.oQ2.number(),category:c.optional()}).partial().nullable(),d=r.Ryn({id:r.Z_8().optional(),detail_name:r.Z_8(),extra_price:r.oQ2.number()}).partial(),u=r.Ryn({id:r.Z_8(),order_id:r.Z_8(),product_id:r.Z_8(),product_name:r.Z_8().optional(),quantity:r.oQ2.number(),price:r.oQ2.number(),total_price:r.oQ2.number(),discount_amount:r.oQ2.number().optional().default(0),notes:r.Z_8().nullable().optional(),status:r.jbo(n.i).optional(),product:s.optional(),details:r.IXX(d).optional()}),h=r.Ryn({id:r.Z_8(),order_no:r.Z_8(),order_type:r.jbo(n.m),table_id:r.Z_8().nullable().optional(),delivery_id:r.Z_8().nullable().optional(),delivery_code:r.Z_8().nullable().optional(),sub_total:r.oQ2.number(),discount_id:r.Z_8().nullable().optional(),discount_amount:r.oQ2.number(),vat:r.oQ2.number(),total_amount:r.oQ2.number(),received_amount:r.oQ2.number(),change_amount:r.oQ2.number(),status:r.jbo(n.i),created_by_id:r.Z_8().nullable().optional(),create_date:r.Z_8(),update_date:r.Z_8(),items:r.IXX(u).optional(),created_by:l.optional(),table:r.YjB().optional(),delivery:r.YjB().optional(),discount:r.YjB().optional(),payments:r.IXX(r.YjB()).optional()}),p=r.Ryn({data:r.IXX(h),total:r.oQ2.number(),page:r.oQ2.number(),last_page:r.oQ2.number().optional()}),y=r.Ryn({table_name:r.Z_8().nullable().optional(),delivery_name:r.Z_8().nullable().optional()}).partial().nullable(),m=r.Ryn({id:r.Z_8(),order_no:r.Z_8(),order_type:r.jbo(n.m),status:r.jbo(n.i),create_date:r.Z_8(),total_amount:r.oQ2.number(),delivery_code:r.Z_8().nullable().optional(),table_id:r.Z_8().nullable().optional(),delivery_id:r.Z_8().nullable().optional(),table:y.optional(),delivery:y.optional(),items_summary:r.IMB(r.Z_8(),r.oQ2.number()).optional(),items_count:r.oQ2.number().optional()}),w=r.Ryn({data:r.IXX(m),total:r.oQ2.number(),page:r.oQ2.number(),last_page:r.oQ2.number().optional()});var f=a(40577);let _=i.q.POS.ORDERS,b=(e,t="application/json")=>{let a={};return t&&(a["Content-Type"]=t),e&&(a.Cookie=e),a},g={getAll:async(e,t=1,a=50,i,n,l)=>{let c=new URLSearchParams({page:t.toString(),limit:a.toString(),...i&&{status:i},...n&&{type:n},...l&&{q:l}}),s=`${_}?${c.toString()}`,d=(0,o.b)("GET",s),u=b(e,""),h=await fetch(d,{cache:"no-store",headers:u,credentials:"include"});if(!h.ok){let e=await h.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถดึงข้อมูลออเดอร์ได้"))}let y=await h.json();try{return p.parse((0,f.XO)(y))}catch(e){throw console.error("Zod Validation Error in ordersService.getAll:",e),e instanceof r.jmq&&console.error("Zod Issues:",e.issues),e}},getAllSummary:async(e,t=1,a=50,i,n,l)=>{let c=new URLSearchParams({page:t.toString(),limit:a.toString(),...i&&{status:i},...n&&{type:n},...l&&{q:l}}),s=`${_}/summary?${c.toString()}`,d=(0,o.b)("GET",s),u=b(e,""),h=await fetch(d,{cache:"no-store",headers:u,credentials:"include"});if(!h.ok){let e=await h.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถดึงข้อมูลออเดอร์ได้"))}let p=await h.json();try{return w.parse((0,f.XO)(p))}catch(e){throw console.error("Zod Validation Error in ordersService.getAllSummary:",e),e instanceof r.jmq&&console.error("Zod Issues:",e.issues),e}},getStats:async e=>{let t=(0,o.b)("GET",i.q.POS.CHANNELS.STATS),a=b(e,""),r=await fetch(t,{cache:"no-store",headers:a,credentials:"include"});if(!r.ok){let e=await r.text();console.error("Order Stats Backend Error:",e);let t=await JSON.parse(e).catch(()=>({}));throw Error((0,f.i_)(t,"ไม่สามารถดึงข้อมูลสถิติได้"))}let n=await r.json();return(0,f.hH)(n)},getById:async(e,t)=>{let a=(0,o.b)("GET",`${_}/${e}`),i=b(t,""),n=await fetch(a,{cache:"no-store",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถดึงข้อมูลออเดอร์ได้"))}let l=await n.json();try{let e=(0,f.hH)(l);if(Array.isArray(e)){if(0===e.length)throw Error("Order not found");return h.parse(e[0])}return h.parse(e)}catch(e){throw console.error("Zod Validation Error in ordersService.getById:",e),e instanceof r.jmq&&console.error("Zod Issues:",e.issues),e}},create:async(e,t,a)=>{let r=(0,o.b)("POST",`${_}`),i=b(t);a&&(i["X-CSRF-Token"]=a);let n=await fetch(r,{method:"POST",headers:i,credentials:"include",body:JSON.stringify(e)});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถสร้างออเดอร์ได้"))}return(0,f.hH)(await n.json())},update:async(e,t,a,r)=>{let i=(0,o.b)("PUT",`${_}/${e}`),n=b(a);r&&(n["X-CSRF-Token"]=r);let l=await fetch(i,{method:"PUT",headers:n,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถแก้ไขออเดอร์ได้"))}return(0,f.hH)(await l.json())},delete:async(e,t,a)=>{let r=(0,o.b)("DELETE",`${_}/${e}`),i=b(t,"");a&&(i["X-CSRF-Token"]=a);let n=await fetch(r,{method:"DELETE",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถลบออเดอร์ได้"))}},updateItemStatus:async(e,t,a,r)=>{let i=(0,o.b)("PATCH",`${_}/items/${e}/status`),n=b(a);r&&(n["X-CSRF-Token"]=r);let l=await fetch(i,{method:"PATCH",headers:n,credentials:"include",body:JSON.stringify({status:t})});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถอัปเดตสถานะรายการได้"))}},getItems:async(e,t)=>{let a=e?`?status=${e}`:"",r=(0,o.b)("GET",`${_}/items${a}`),i=b(t,""),n=await fetch(r,{cache:"no-store",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถดึงข้อมูลรายการได้"))}let l=(0,f.hH)(await n.json());if(Array.isArray(l))return l;if(l&&"object"==typeof l&&"data"in l){let e=l.data;if(Array.isArray(e))return e}return l},addItem:async(e,t,a,r)=>{let i=(0,o.b)("POST",`${_}/${e}/items`),n=b(a);r&&(n["X-CSRF-Token"]=r);let l=await fetch(i,{method:"POST",headers:n,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถเพิ่มรายการได้"))}return(0,f.hH)(await l.json())},updateItem:async(e,t,a,r)=>{let i=(0,o.b)("PUT",`${_}/items/${e}`),n=b(a,"application/json");r&&(n["X-CSRF-Token"]=r);let l=await fetch(i,{method:"PUT",headers:n,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถแก้ไขรายการได้"))}return(0,f.hH)(await l.json())},deleteItem:async(e,t,a)=>{let r=(0,o.b)("DELETE",`${_}/items/${e}`),i=b(t,"");a&&(i["X-CSRF-Token"]=a);let n=await fetch(r,{method:"DELETE",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,f.i_)(e,"ไม่สามารถลบรายการได้"))}return(0,f.hH)(await n.json())},updateStatus:async(e,t,a)=>{let r={"Content-Type":"application/json"};a&&(r["X-CSRF-Token"]=a);let i=(0,o.b)("PUT",`${_}/${e}`);if(!(await fetch(i,{method:"PUT",headers:r,body:JSON.stringify({status:t}),credentials:"include"})).ok)throw Error("Failed to update status")}}},47374:(e,t,a)=>{"use strict";a.d(t,{R:()=>d});var r=a(12529),o=a(40820),i=a(48571);let n=i.Ryn({id:i.Z_8(),product_name:i.Z_8(),display_name:i.Z_8(),description:i.Z_8().optional().or(i.Z_8()),price:i.Rxh().or(i.Z_8().transform(e=>Number(e))),price_delivery:i.Rxh().or(i.Z_8().transform(e=>Number(e))).optional(),category_id:i.Z_8(),unit_id:i.Z_8(),img_url:i.Z_8().nullable().optional(),create_date:i.Z_8().or(i.hTZ()).transform(e=>new Date(e)),update_date:i.Z_8().or(i.hTZ()).transform(e=>new Date(e)),is_active:i.O72().optional().default(!0),category:i.YjB().optional(),unit:i.YjB().optional()}).transform(e=>({...e,price_delivery:e.price_delivery??e.price})),l=i.Ryn({data:i.IXX(n),total:i.Rxh(),page:i.Rxh(),last_page:i.Rxh()});var c=a(40577);let s=o.q.POS.PRODUCTS,d={findAll:async(e=1,t=50,a,o)=>{let i=(0,r.b)("GET",s),n=new URLSearchParams(o||"");n.append("page",e.toString()),n.append("limit",t.toString()),i+=`?${n.toString()}`;let d={};a&&(d.Cookie=a);let u=await fetch(i,{cache:"no-store",credentials:"include",headers:d});if(!u.ok){let e=await u.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to fetch products"))}let h=await u.json(),p=(0,c.XO)(h);return l.parse(p)},findOne:async(e,t)=>{let a=(0,r.b)("GET",`${s}/${e}`),o={};t&&(o.Cookie=t);let i=await fetch(a,{cache:"no-store",credentials:"include",headers:o});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to fetch product"))}let l=await i.json();return n.parse((0,c.hH)(l))},findOneByName:async(e,t)=>{let a=(0,r.b)("GET",`${s}/name/${e}`),o={};t&&(o.Cookie=t);let i=await fetch(a,{cache:"no-store",credentials:"include",headers:o});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to fetch product by name"))}let l=await i.json();return n.parse((0,c.hH)(l))},create:async(e,t,a)=>{let o=(0,r.b)("POST",s),i={"Content-Type":"application/json"};t&&(i.Cookie=t),a&&(i["X-CSRF-Token"]=a);let n=await fetch(o,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to create product"))}let l=await n.json();return(0,c.hH)(l)},update:async(e,t,a,o)=>{let i=(0,r.b)("PUT",`${s}/${e}`),n={"Content-Type":"application/json"};a&&(n.Cookie=a),o&&(n["X-CSRF-Token"]=o);let l=await fetch(i,{method:"PUT",headers:n,body:JSON.stringify(t),credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to update product"))}let d=await l.json();return(0,c.hH)(d)},delete:async(e,t,a)=>{let o=(0,r.b)("DELETE",`${s}/${e}`),i={};t&&(i.Cookie=t),a&&(i["X-CSRF-Token"]=a);let n=await fetch(o,{method:"DELETE",headers:i,credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error((0,c.i_)(e,"Failed to delete product"))}}}},13976:(e,t,a)=>{"use strict";var r,o;a.d(t,{i:()=>o,m:()=>r}),function(e){e.DineIn="DineIn",e.TakeAway="TakeAway",e.Delivery="Delivery"}(r||(r={})),function(e){e.Pending="Pending",e.Cooking="Cooking",e.Served="Served",e.WaitingForPayment="WaitingForPayment",e.Paid="Paid",e.Completed="Completed",e.Cancelled="Cancelled"}(o||(o={}))},58522:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\layout.tsx#default`)}};