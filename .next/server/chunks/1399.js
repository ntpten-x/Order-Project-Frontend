exports.id=1399,exports.ids=[1399],exports.modules={30060:(e,t,a)=>{Promise.resolve().then(a.bind(a,45873))},45873:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(10326);a(17577);var o=a(33540),n=a(84616);function i({children:e}){return(0,n.DR)(),r.jsx(o.CartProvider,{children:r.jsx("div",{className:"min-h-screen pb-24 relative",children:e})})}},33540:(e,t,a)=>{"use strict";a.d(t,{CartProvider:()=>l,j:()=>s});var r=a(10326),o=a(17577),n=a.n(o);let i=(0,o.createContext)(void 0),l=({children:e})=>{let[t,a]=(0,o.useState)([]);(0,o.useEffect)(()=>{let e=localStorage.getItem("shopping_cart");if(e)try{a(JSON.parse(e))}catch(e){console.error("Failed to parse cart from local storage",e)}},[]),(0,o.useEffect)(()=>{localStorage.setItem("shopping_cart",JSON.stringify(t))},[t]);let l=(0,o.useCallback)(e=>{a(t=>t.find(t=>t.ingredient.id===e.id)?t.map(t=>t.ingredient.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{ingredient:e,quantity:1}])},[]),s=(0,o.useCallback)(e=>{a(t=>t.filter(t=>t.ingredient.id!==e))},[]),c=(0,o.useCallback)((e,t)=>{if(t<=0){s(e);return}a(a=>a.map(a=>a.ingredient.id===e?{...a,quantity:t}:a))},[s]),d=(0,o.useCallback)((e,t)=>{a(a=>a.map(a=>a.ingredient.id===e?{...a,note:t}:a))},[]),u=(0,o.useCallback)(()=>{a([])},[]),m=t.reduce((e,t)=>e+t.quantity,0),h=n().useMemo(()=>({items:t,addToCart:l,removeFromCart:s,updateQuantity:c,updateItemNote:d,clearCart:u,itemCount:m}),[t,l,s,c,d,u,m]);return r.jsx(i.Provider,{value:h,children:e})},s=()=>{let e=(0,o.useContext)(i);if(!e)throw Error("useCart must be used within a CartProvider");return e}},84616:(e,t,a)=>{"use strict";a.d(t,{DR:()=>o,mk:()=>i,yV:()=>n});var r=a(44976);function o(){(0,r.NL)()}function n(){(0,r.NL)()}function i(){(0,r.NL)()}a(17577),a(26859),a(47374),a(51562),a(52249)},51562:(e,t,a)=>{"use strict";a.d(t,{G:()=>n});var r=a(12529);let o="/pos/category",n={findAll:async(e,t)=>{let a=(0,r.b)("GET",o);t&&(a+=`?${t.toString()}`);let n={};e&&(n.Cookie=e);let i=await fetch(a,{cache:"no-store",credentials:"include",headers:n});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch categories")}let l=await i.json();if(Array.isArray(l))return l;if(l?.success&&Array.isArray(l.data))return l.data;throw Error("Invalid categories response format")},findOne:async(e,t)=>{let a=(0,r.b)("GET",`${o}/${e}`),n={};t&&(n.Cookie=t);let i=await fetch(a,{cache:"no-store",credentials:"include",headers:n});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch category")}let l=await i.json();return l?.success&&l.data?l.data:l},findOneByName:async(e,t)=>{let a=(0,r.b)("GET",`${o}/name/${e}`),n={};t&&(n.Cookie=t);let i=await fetch(a,{cache:"no-store",credentials:"include",headers:n});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch category by name")}let l=await i.json();return l?.success&&l.data?l.data:l},create:async(e,t,a)=>{let n=(0,r.b)("POST",o),i={"Content-Type":"application/json"};t&&(i.Cookie=t),a&&(i["X-CSRF-Token"]=a);let l=await fetch(n,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to create category")}return l.json()},update:async(e,t,a,n)=>{let i=(0,r.b)("PUT",`${o}/${e}`),l={"Content-Type":"application/json"};a&&(l.Cookie=a),n&&(l["X-CSRF-Token"]=n);let s=await fetch(i,{method:"PUT",headers:l,body:JSON.stringify(t),credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to update category")}return s.json()},delete:async(e,t,a)=>{let n=(0,r.b)("DELETE",`${o}/${e}`),i={};t&&(i.Cookie=t),a&&(i["X-CSRF-Token"]=a);let l=await fetch(n,{method:"DELETE",headers:i,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to delete category")}}}},52249:(e,t,a)=>{"use strict";a.d(t,{e:()=>s});var r=a(12529),o=a(40820),n=a(33357);let i=o.q.POS.ORDER_QUEUE,l=(e,t="application/json")=>{let a={};return t&&(a["Content-Type"]=t),e&&(a.Cookie=e),a},s={getAll:async(e,t)=>{let a=new URLSearchParams;t&&a.append("status",t);let o=a.toString()?`${i}?${a.toString()}`:i,n=(0,r.b)("GET",o),s=l(e,""),c=await fetch(n,{cache:"no-store",headers:s,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถดึงข้อมูลคิวได้")}let d=await c.json();return d.success&&Array.isArray(d.data)?d.data:Array.isArray(d)?d:[]},addToQueue:async(e,t)=>{let a=(0,r.b)("POST",i),o=l(t),s=await (0,n.P)();s&&(o["X-CSRF-Token"]=s);let c=await fetch(a,{method:"POST",headers:o,credentials:"include",body:JSON.stringify({orderId:e.orderId,priority:e.priority||"Normal"})});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถเพิ่มออเดอร์เข้าคิวได้")}let d=await c.json();return d.success&&d.data?d.data:d},updateStatus:async(e,t,a)=>{let o=(0,r.b)("PATCH",`${i}/${e}/status`),s=l(a),c=await (0,n.P)();c&&(s["X-CSRF-Token"]=c);let d=await fetch(o,{method:"PATCH",headers:s,credentials:"include",body:JSON.stringify(t)});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถอัปเดตสถานะได้")}let u=await d.json();return u.success&&u.data?u.data:u},removeFromQueue:async(e,t)=>{let a=(0,r.b)("DELETE",`${i}/${e}`),o=l(t,""),s=await (0,n.P)();s&&(o["X-CSRF-Token"]=s);let c=await fetch(a,{method:"DELETE",headers:o,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถลบออกจากคิวได้")}},reorderQueue:async e=>{let t=(0,r.b)("POST",`${i}/reorder`),a=l(e),o=await (0,n.P)();o&&(a["X-CSRF-Token"]=o);let s=await fetch(t,{method:"POST",headers:a,credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถจัดเรียงคิวใหม่ได้")}}}},26859:(e,t,a)=>{"use strict";a.d(t,{x:()=>b});var r=a(48571),o=a(12529),n=a(40820),i=a(13976);let l=r.Ryn({id:r.Z_8(),username:r.Z_8()}).partial().nullable(),s=r.Ryn({id:r.Z_8(),display_name:r.Z_8()}).partial().nullable(),c=r.Ryn({id:r.Z_8(),display_name:r.Z_8(),img_url:r.Z_8().nullable(),price:r.oQ2.number(),category:s.optional()}).partial().nullable(),d=r.Ryn({id:r.Z_8().optional(),detail_name:r.Z_8(),extra_price:r.oQ2.number()}).partial(),u=r.Ryn({id:r.Z_8(),order_id:r.Z_8(),product_id:r.Z_8(),product_name:r.Z_8().optional(),quantity:r.oQ2.number(),price:r.oQ2.number(),total_price:r.oQ2.number(),discount_amount:r.oQ2.number().optional().default(0),notes:r.Z_8().nullable().optional(),status:r.jbo(i.i).optional(),product:c.optional(),details:r.IXX(d).optional()}),m=r.Ryn({id:r.Z_8(),order_no:r.Z_8(),order_type:r.jbo(i.m),table_id:r.Z_8().nullable().optional(),delivery_id:r.Z_8().nullable().optional(),delivery_code:r.Z_8().nullable().optional(),sub_total:r.oQ2.number(),discount_id:r.Z_8().nullable().optional(),discount_amount:r.oQ2.number(),vat:r.oQ2.number(),total_amount:r.oQ2.number(),received_amount:r.oQ2.number(),change_amount:r.oQ2.number(),status:r.jbo(i.i),created_by_id:r.Z_8().nullable().optional(),create_date:r.Z_8(),update_date:r.Z_8(),items:r.IXX(u).optional(),created_by:l.optional(),table:r.YjB().optional(),delivery:r.YjB().optional(),discount:r.YjB().optional(),payments:r.IXX(r.YjB()).optional()}),h=r.Ryn({data:r.IXX(m),total:r.oQ2.number(),page:r.oQ2.number(),last_page:r.oQ2.number().optional()}),p=r.Ryn({table_name:r.Z_8().nullable().optional(),delivery_name:r.Z_8().nullable().optional()}).partial().nullable(),y=r.Ryn({id:r.Z_8(),order_no:r.Z_8(),order_type:r.jbo(i.m),status:r.jbo(i.i),create_date:r.Z_8(),total_amount:r.oQ2.number(),delivery_code:r.Z_8().nullable().optional(),table_id:r.Z_8().nullable().optional(),delivery_id:r.Z_8().nullable().optional(),table:p.optional(),delivery:p.optional(),items_summary:r.IMB(r.Z_8(),r.oQ2.number()).optional(),items_count:r.oQ2.number().optional()}),w=r.Ryn({data:r.IXX(y),total:r.oQ2.number(),page:r.oQ2.number(),last_page:r.oQ2.number().optional()}),f=n.q.POS.ORDERS,g=(e,t="application/json")=>{let a={};return t&&(a["Content-Type"]=t),e&&(a.Cookie=e),a},b={getAll:async(e,t=1,a=50,n,i,l)=>{let s=new URLSearchParams({page:t.toString(),limit:a.toString(),...n&&{status:n},...i&&{type:i},...l&&{q:l}}),c=`${f}?${s.toString()}`,d=(0,o.b)("GET",c),u=g(e,""),m=await fetch(d,{cache:"no-store",headers:u,credentials:"include"});if(!m.ok){let e=await m.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลออเดอร์ได้")}let p=await m.json();try{return h.parse(p)}catch(e){throw console.error("Zod Validation Error in ordersService.getAll:",e),e instanceof r.jmq&&console.error("Zod Issues:",e.issues),e}},getAllSummary:async(e,t=1,a=50,n,i,l)=>{let s=new URLSearchParams({page:t.toString(),limit:a.toString(),...n&&{status:n},...i&&{type:i},...l&&{q:l}}),c=`${f}/summary?${s.toString()}`,d=(0,o.b)("GET",c),u=g(e,""),m=await fetch(d,{cache:"no-store",headers:u,credentials:"include"});if(!m.ok){let e=await m.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลออเดอร์ได้")}let h=await m.json();try{return w.parse(h)}catch(e){throw console.error("Zod Validation Error in ordersService.getAllSummary:",e),e instanceof r.jmq&&console.error("Zod Issues:",e.issues),e}},getStats:async e=>{let t=(0,o.b)("GET",n.q.POS.CHANNELS.STATS),a=g(e,""),r=await fetch(t,{cache:"no-store",headers:a,credentials:"include"});if(!r.ok){let e=await r.text();console.error("Order Stats Backend Error:",e);let t=await JSON.parse(e).catch(()=>({}));throw Error(t.error||t.message||"ไม่สามารถดึงข้อมูลสถิติได้")}return await r.json()},getById:async(e,t)=>{let a=(0,o.b)("GET",`${f}/${e}`),n=g(t,""),i=await fetch(a,{cache:"no-store",headers:n,credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลออเดอร์ได้")}let l=await i.json();try{return m.parse(l)}catch(e){throw console.error("Zod Validation Error in ordersService.getById:",e),e instanceof r.jmq&&console.error("Zod Issues:",e.issues),e}},create:async(e,t,a)=>{let r=(0,o.b)("POST",`${f}`),n=g(t);a&&(n["X-CSRF-Token"]=a);let i=await fetch(r,{method:"POST",headers:n,credentials:"include",body:JSON.stringify(e)});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถสร้างออเดอร์ได้")}return i.json()},update:async(e,t,a,r)=>{let n=(0,o.b)("PUT",`${f}/${e}`),i=g(a);r&&(i["X-CSRF-Token"]=r);let l=await fetch(n,{method:"PUT",headers:i,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถแก้ไขออเดอร์ได้")}return l.json()},delete:async(e,t,a)=>{let r=(0,o.b)("DELETE",`${f}/${e}`),n=g(t,"");a&&(n["X-CSRF-Token"]=a);let i=await fetch(r,{method:"DELETE",headers:n,credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถลบออเดอร์ได้")}},updateItemStatus:async(e,t,a,r)=>{let n=(0,o.b)("PATCH",`${f}/items/${e}/status`),i=g(a);r&&(i["X-CSRF-Token"]=r);let l=await fetch(n,{method:"PATCH",headers:i,credentials:"include",body:JSON.stringify({status:t})});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถอัปเดตสถานะรายการได้")}},getItems:async(e,t)=>{let a=e?`?status=${e}`:"",r=(0,o.b)("GET",`${f}/items${a}`),n=g(t,""),i=await fetch(r,{cache:"no-store",headers:n,credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลรายการได้")}return i.json()},addItem:async(e,t,a,r)=>{let n=(0,o.b)("POST",`${f}/${e}/items`),i=g(a);r&&(i["X-CSRF-Token"]=r);let l=await fetch(n,{method:"POST",headers:i,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถเพิ่มรายการได้")}return l.json()},updateItem:async(e,t,a,r)=>{let n=(0,o.b)("PUT",`${f}/items/${e}`),i=g(a,"application/json");r&&(i["X-CSRF-Token"]=r);let l=await fetch(n,{method:"PUT",headers:i,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถแก้ไขรายการได้")}return l.json()},deleteItem:async(e,t,a)=>{let r=(0,o.b)("DELETE",`${f}/items/${e}`),n=g(t,"");a&&(n["X-CSRF-Token"]=a);let i=await fetch(r,{method:"DELETE",headers:n,credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถลบรายการได้")}return i.json()},updateStatus:async(e,t,a)=>{let r={"Content-Type":"application/json"};a&&(r["X-CSRF-Token"]=a);let n=(0,o.b)("PUT",`${f}/${e}`);if(!(await fetch(n,{method:"PUT",headers:r,body:JSON.stringify({status:t}),credentials:"include"})).ok)throw Error("Failed to update status")}}},47374:(e,t,a)=>{"use strict";a.d(t,{R:()=>c});var r=a(12529),o=a(40820),n=a(48571);let i=n.Ryn({id:n.Z_8(),product_name:n.Z_8(),display_name:n.Z_8(),description:n.Z_8().optional().or(n.Z_8()),price:n.Rxh().or(n.Z_8().transform(e=>Number(e))),category_id:n.Z_8(),unit_id:n.Z_8(),img_url:n.Z_8().nullable().optional(),create_date:n.Z_8().or(n.hTZ()).transform(e=>new Date(e)),update_date:n.Z_8().or(n.hTZ()).transform(e=>new Date(e)),is_active:n.O72().optional().default(!0),category:n.YjB().optional(),unit:n.YjB().optional()}),l=n.Ryn({data:n.IXX(i),total:n.Rxh(),page:n.Rxh(),last_page:n.Rxh()}),s=o.q.POS.PRODUCTS,c={findAll:async(e=1,t=50,a,o)=>{let n,i=(0,r.b)("GET",s),c=new URLSearchParams(o||"");c.append("page",e.toString()),c.append("limit",t.toString()),i+=`?${c.toString()}`;let d={};a&&(d.Cookie=a);let u=await fetch(i,{cache:"no-store",credentials:"include",headers:d});if(!u.ok){let e=await u.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch products")}let m=await u.json();if(m.success&&m.data&&m.meta)n={data:m.data,total:m.meta.total||0,page:m.meta.page||e,last_page:m.meta.totalPages||Math.ceil((m.meta.total||0)/t)};else if(m.data&&"number"==typeof m.total)n=m;else throw Error("Invalid response format from backend");return l.parse(n)},findOne:async(e,t)=>{let a=(0,r.b)("GET",`${s}/${e}`),o={};t&&(o.Cookie=t);let n=await fetch(a,{cache:"no-store",credentials:"include",headers:o});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch product")}let l=await n.json();return i.parse(l)},findOneByName:async(e,t)=>{let a=(0,r.b)("GET",`${s}/name/${e}`),o={};t&&(o.Cookie=t);let n=await fetch(a,{cache:"no-store",credentials:"include",headers:o});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to fetch product by name")}let l=await n.json();return i.parse(l)},create:async(e,t,a)=>{let o=(0,r.b)("POST",s),n={"Content-Type":"application/json"};t&&(n.Cookie=t),a&&(n["X-CSRF-Token"]=a);let i=await fetch(o,{method:"POST",headers:n,body:JSON.stringify(e),credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to create product")}return i.json()},update:async(e,t,a,o)=>{let n=(0,r.b)("PUT",`${s}/${e}`),i={"Content-Type":"application/json"};a&&(i.Cookie=a),o&&(i["X-CSRF-Token"]=o);let l=await fetch(n,{method:"PUT",headers:i,body:JSON.stringify(t),credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to update product")}return l.json()},delete:async(e,t,a)=>{let o=(0,r.b)("DELETE",`${s}/${e}`),n={};t&&(n.Cookie=t),a&&(n["X-CSRF-Token"]=a);let i=await fetch(o,{method:"DELETE",headers:n,credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"Failed to delete product")}}}},13976:(e,t,a)=>{"use strict";var r,o;a.d(t,{i:()=>o,m:()=>r}),function(e){e.DineIn="DineIn",e.TakeAway="TakeAway",e.Delivery="Delivery"}(r||(r={})),function(e){e.Pending="Pending",e.Cooking="Cooking",e.Served="Served",e.WaitingForPayment="WaitingForPayment",e.Paid="Paid",e.Completed="Completed",e.Cancelled="Cancelled"}(o||(o={}))},58522:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\(main)\layout.tsx#default`)}};