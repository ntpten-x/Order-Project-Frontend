"use strict";exports.id=689,exports.ids=[689],exports.modules={60689:(e,t,a)=>{a.d(t,{promotionsService:()=>n});var r=a(12529),s=a(40820),o=a(33357);let i=s.q.POS.PROMOTIONS,c=(e,t="application/json")=>{let a={};return t&&(a["Content-Type"]=t),e&&(a.Cookie=e),a},n={getAll:async(e,t)=>{let a=new URLSearchParams;void 0!==t&&a.append("isActive",t.toString());let s=a.toString()?`${i}?${a.toString()}`:i,o=(0,r.b)("GET",s),n=c(e,""),l=await fetch(o,{cache:"no-store",headers:n,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถดึงข้อมูลโปรโมชันได้")}let d=await l.json();return d.success&&Array.isArray(d.data)?d.data:Array.isArray(d)?d:[]},getActivePromotions:async e=>{let t=(0,r.b)("GET",`${i}/active`),a=c(e,""),s=await fetch(t,{cache:"no-store",headers:a,credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถดึงข้อมูลโปรโมชันได้")}let o=await s.json();return o.success&&Array.isArray(o.data)?o.data:Array.isArray(o)?o:[]},getById:async(e,t)=>{let a=(0,r.b)("GET",`${i}/getById/${e}`),s=c(t,""),o=await fetch(a,{cache:"no-store",headers:s,credentials:"include"});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถดึงข้อมูลโปรโมชันได้")}let n=await o.json();return n.success&&n.data?n.data:n},create:async(e,t)=>{let a=(0,r.b)("POST",`${i}/create`),s=c(t),n=await (0,o.P)();n&&(s["X-CSRF-Token"]=n);let l=await fetch(a,{method:"POST",headers:s,credentials:"include",body:JSON.stringify(e)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถสร้างโปรโมชันได้")}let d=await l.json();return d.success&&d.data?d.data:d},update:async(e,t,a)=>{let s=(0,r.b)("PUT",`${i}/update/${e}`),n=c(a),l=await (0,o.P)();l&&(n["X-CSRF-Token"]=l);let d=await fetch(s,{method:"PUT",headers:n,credentials:"include",body:JSON.stringify(t)});if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถอัปเดตโปรโมชันได้")}let w=await d.json();return w.success&&w.data?w.data:w},delete:async(e,t)=>{let a=(0,r.b)("DELETE",`${i}/delete/${e}`),s=c(t,""),n=await (0,o.P)();n&&(s["X-CSRF-Token"]=n);let l=await fetch(a,{method:"DELETE",headers:s,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถลบโปรโมชันได้")}},validatePromotion:async(e,t)=>{let a=(0,r.b)("POST",`${i}/validate`),s=c(t),o=await fetch(a,{method:"POST",headers:s,credentials:"include",body:JSON.stringify(e)});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถตรวจสอบโปรโมชันได้")}let n=await o.json();return n.success&&n.data?n.data:n},applyPromotion:async(e,t)=>{let a=(0,r.b)("POST",`${i}/apply`),s=c(t),n=await (0,o.P)();n&&(s["X-CSRF-Token"]=n);let l=await fetch(a,{method:"POST",headers:s,credentials:"include",body:JSON.stringify({code:e})});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error?.message||e.message||"ไม่สามารถใช้โปรโมชันได้")}let d=await l.json();return d.success&&d.data?d.data:d}}}};