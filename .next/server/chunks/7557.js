"use strict";exports.id=7557,exports.ids=[7557],exports.modules={2643:(e,a,r)=>{r.d(a,{Z:()=>s});var t=r(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var o=r(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}let s=t.forwardRef((e,a)=>t.createElement(o.Z,n({},e,{ref:a,icon:i})))},61758:(e,a,r)=>{r.d(a,{Z:()=>s});var t=r(17577);let i={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"};var o=r(74082);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}let s=t.forwardRef((e,a)=>t.createElement(o.Z,n({},e,{ref:a,icon:i})))},11834:(e,a,r)=>{r.d(a,{Z:()=>M});var t=r(10326),i=r(77626),o=r.n(i),n=r(17577),s=r(46226),d=r(58184),l=r(46752),p=r(97458),c=r(61357),m=r(71935),y=r(92121),f=r(43778),x=r(75698),b=r(11401),g=r(90218),h=r(75958),u=r(49909),k=r(31916),j=r(62938),w=r(38572),v=r(72380),z=r(46024),S=r(63191),D=r(2643),N=r(61758),C=r(49965),F=r(35047),Z=r(63196),_=r(37938),B=r(44976),I=r(20108),$=r(3341),R=r(19211),E=r(47374),P=r(93312);let W={primary:"#3B82F6",primaryDark:"#2563EB",primaryLight:"#EFF6FF",primaryBorder:"#BFDBFE",success:"#10B981",successLight:"#ECFDF5",warning:"#F59E0B",warningLight:"#FFFBEB",warningBorder:"#FDE68A",text:"#1E293B",textSecondary:"#64748B",background:"#F8FAFC",white:"#FFFFFF"},T={productName:{fontSize:15,fontWeight:600,lineHeight:1.4},productPrice:{fontSize:18,fontWeight:700},cartItemName:{fontSize:14,fontWeight:600}},L={container:{minHeight:"100vh",background:W.background,display:"flex",flexDirection:"column",paddingBottom:100},header:{background:"linear-gradient(145deg, #3B82F6 0%, #60A5FA 50%, #93C5FD 100%)",padding:"20px 24px",boxShadow:"0 4px 20px rgba(59, 130, 246, 0.15)",position:"sticky",top:0,zIndex:100,borderRadius:"0 0 24px 24px"},headerContent:{maxWidth:1400,margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",gap:16},headerLeft:{display:"flex",alignItems:"center",gap:14,flex:1,minWidth:0},headerBackButton:{display:"flex",alignItems:"center",justifyContent:"center",width:42,height:42,borderRadius:14,background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"#fff",cursor:"pointer",transition:"all 0.2s ease"},headerIconWrapper:{width:48,height:48,borderRadius:16,background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center"},headerInfo:{flex:1,minWidth:0},headerTitle:{color:"#fff",fontSize:22,fontWeight:700,margin:0,lineHeight:1.2,textShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},headerSubtitle:{color:"rgba(255, 255, 255, 0.9)",fontSize:14,marginTop:4,fontWeight:500},headerActions:{display:"flex",alignItems:"center",gap:10},categoryBar:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",padding:"14px 24px",borderBottom:"1px solid rgba(226, 232, 240, 0.8)",position:"sticky",top:84,zIndex:99,overflowX:"auto",whiteSpace:"nowrap"},categoryScroll:{maxWidth:1400,margin:"0 auto",display:"flex",gap:10},content:{maxWidth:1400,margin:"0 auto",padding:"24px",flex:1,width:"100%"},productGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:20},productCard:{background:W.white,borderRadius:20,overflow:"hidden",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",border:"1px solid rgba(226, 232, 240, 0.8)",position:"relative"},productImage:{width:"100%",height:160,position:"relative",overflow:"hidden",background:`linear-gradient(135deg, ${W.primaryLight} 0%, #DBEAFE 100%)`},productInfo:{padding:16},productName:{...T.productName,color:W.text,marginBottom:6,display:"block"},productCategory:{fontSize:11,color:W.textSecondary,marginBottom:10},productFooter:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:14,paddingTop:12,borderTop:"1px solid #F1F5F9"},productPrice:{...T.productPrice,color:W.primary},addButton:{background:`linear-gradient(135deg, ${W.success} 0%, #059669 100%)`,color:"#fff",border:"none",borderRadius:12,padding:"10px 16px",fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:6,boxShadow:`0 4px 12px ${W.success}40`},paginationContainer:{display:"flex",justifyContent:"center",marginTop:32,padding:"24px 0"},floatingCartButton:{width:64,height:64,borderRadius:20,background:`linear-gradient(145deg, ${W.primary} 0%, ${W.primaryDark} 100%)`,boxShadow:`0 8px 24px ${W.primary}50`,display:"flex",alignItems:"center",justifyContent:"center",border:"3px solid #fff"},loadingContainer:{textAlign:"center",padding:80,background:"#fff",borderRadius:24,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)"},emptyContainer:{textAlign:"center",padding:80,background:"#fff",borderRadius:24,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)"}};T.cartItemName,W.text,W.textSecondary,W.warningLight,W.warningBorder;let A=()=>t.jsx(o(),{id:"efceaaedb43f8b20",dynamic:[W.primaryBorder,W.primary,W.primary,W.primary,W.primary],children:`.pos-product-card{-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}.pos-product-card:hover{-webkit-transform:translatey(-6px);-moz-transform:translatey(-6px);-ms-transform:translatey(-6px);-o-transform:translatey(-6px);transform:translatey(-6px);-webkit-box-shadow:0 12px 32px rgba(0,0,0,.1);-moz-box-shadow:0 12px 32px rgba(0,0,0,.1);box-shadow:0 12px 32px rgba(0,0,0,.1);border-color:${W.primaryBorder}}.pos-product-card:active{-webkit-transform:translatey(-2px)scale(.99);-moz-transform:translatey(-2px)scale(.99);-ms-transform:translatey(-2px)scale(.99);-o-transform:translatey(-2px)scale(.99);transform:translatey(-2px)scale(.99)}.pos-add-button:hover{background:-webkit-linear-gradient(315deg,#059669 0%,#047857 100%);background:-moz-linear-gradient(315deg,#059669 0%,#047857 100%);background:-o-linear-gradient(315deg,#059669 0%,#047857 100%);background:linear-gradient(135deg,#059669 0%,#047857 100%);-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05);-webkit-box-shadow:0 6px 16px rgba(16,185,129,.5);-moz-box-shadow:0 6px 16px rgba(16,185,129,.5);box-shadow:0 6px 16px rgba(16,185,129,.5)}.pos-add-button:active{-webkit-transform:scale(.98);-moz-transform:scale(.98);-ms-transform:scale(.98);-o-transform:scale(.98);transform:scale(.98)}@-webkit-keyframes pos-fade-in{from{opacity:0;-webkit-transform:translatey(16px);transform:translatey(16px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes pos-fade-in{from{opacity:0;-moz-transform:translatey(16px);transform:translatey(16px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes pos-fade-in{from{opacity:0;-o-transform:translatey(16px);transform:translatey(16px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes pos-fade-in{from{opacity:0;-webkit-transform:translatey(16px);-moz-transform:translatey(16px);-o-transform:translatey(16px);transform:translatey(16px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.pos-fade-in{-webkit-animation:pos-fade-in.4s ease-out forwards;-moz-animation:pos-fade-in.4s ease-out forwards;-o-animation:pos-fade-in.4s ease-out forwards;animation:pos-fade-in.4s ease-out forwards}.pos-delay-1{-webkit-animation-delay:.05s;-moz-animation-delay:.05s;-o-animation-delay:.05s;animation-delay:.05s;opacity:0}.pos-delay-2{-webkit-animation-delay:.1s;-moz-animation-delay:.1s;-o-animation-delay:.1s;animation-delay:.1s;opacity:0}.pos-delay-3{-webkit-animation-delay:.15s;-moz-animation-delay:.15s;-o-animation-delay:.15s;animation-delay:.15s;opacity:0}.pos-delay-4{-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s;opacity:0}.pos-category-bar::-webkit-scrollbar{height:4px}.pos-category-bar::-webkit-scrollbar-track{background:transparent}.pos-category-bar::-webkit-scrollbar-thumb{background:#CBD5E1;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.pos-category-btn{-webkit-border-radius:12px!important;-moz-border-radius:12px!important;border-radius:12px!important;font-weight:600!important;height:42px!important;padding:0 20px!important;border:1.5px solid#E2E8F0!important;-webkit-transition:all.2s ease!important;-moz-transition:all.2s ease!important;-o-transition:all.2s ease!important;transition:all.2s ease!important}.pos-category-btn:hover{border-color:${W.primary}!important;color:${W.primary}!important}.pos-header-back:hover{background:rgba(255,255,255,.3)!important;-webkit-transform:translatex(-2px);-moz-transform:translatex(-2px);-ms-transform:translatex(-2px);-o-transform:translatex(-2px);transform:translatex(-2px)}.pos-floating-btn-container{position:fixed!important;bottom:32px!important;right:32px!important;z-index:1000!important;-webkit-transition:all.3s cubic-bezier(.175,.885,.32,1.275);-moz-transition:all.3s cubic-bezier(.175,.885,.32,1.275);-o-transition:all.3s cubic-bezier(.175,.885,.32,1.275);transition:all.3s cubic-bezier(.175,.885,.32,1.275)}@-webkit-keyframes pos-pulse{0%,100%{-webkit-box-shadow:0 8px 24px ${W.primary}50;box-shadow:0 8px 24px ${W.primary}50}50%{-webkit-box-shadow:0 12px 32px ${W.primary}70;box-shadow:0 12px 32px ${W.primary}70}}@-moz-keyframes pos-pulse{0%,100%{-moz-box-shadow:0 8px 24px ${W.primary}50;box-shadow:0 8px 24px ${W.primary}50}50%{-moz-box-shadow:0 12px 32px ${W.primary}70;box-shadow:0 12px 32px ${W.primary}70}}@-o-keyframes pos-pulse{0%,100%{box-shadow:0 8px 24px ${W.primary}50}50%{box-shadow:0 12px 32px ${W.primary}70}}@keyframes pos-pulse{0%,100%{-webkit-box-shadow:0 8px 24px ${W.primary}50;-moz-box-shadow:0 8px 24px ${W.primary}50;box-shadow:0 8px 24px ${W.primary}50}50%{-webkit-box-shadow:0 12px 32px ${W.primary}70;-moz-box-shadow:0 12px 32px ${W.primary}70;box-shadow:0 12px 32px ${W.primary}70}}.pos-cart-pulse{-webkit-animation:pos-pulse 2s ease-in-out infinite;-moz-animation:pos-pulse 2s ease-in-out infinite;-o-animation:pos-pulse 2s ease-in-out infinite;animation:pos-pulse 2s ease-in-out infinite}@media(max-width:768px){.pos-header-mobile{padding:16px 16px 20px!important;-webkit-border-radius:0 0 20px 20px!important;-moz-border-radius:0 0 20px 20px!important;border-radius:0 0 20px 20px!important}.pos-header-title-mobile{font-size:18px!important}.pos-header-subtitle-mobile{font-size:12px!important}.pos-category-bar-mobile{padding:12px 16px!important;top:76px!important}.pos-content-mobile{padding:16px!important}.pos-product-grid-mobile{grid-template-columns:repeat(2,1fr)!important;gap:14px!important}.pos-product-image-mobile{height:130px!important}.pos-product-info-mobile{padding:12px!important}.pos-product-name-mobile{font-size:13px!important;line-height:1.3!important}.pos-product-price-mobile{font-size:15px!important}.pos-add-button-mobile{padding:8px 12px!important;font-size:11px!important;-webkit-border-radius:10px!important;-moz-border-radius:10px!important;border-radius:10px!important}.pos-floating-btn-container{bottom:100px!important;right:20px!important}.pos-product-card{min-height:220px}.pos-category-btn{height:38px!important;padding:0 16px!important;font-size:13px!important}}@media(max-width:480px){.pos-product-grid-mobile{gap:10px!important}.pos-product-image-mobile{height:110px!important}.pos-product-info-mobile{padding:10px!important}.pos-product-footer-mobile{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-moz-box-orient:vertical!important;-moz-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;gap:10px!important;-webkit-box-align:stretch!important;-webkit-align-items:stretch!important;-moz-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.pos-add-button-mobile{width:100%!important;-webkit-box-pack:center!important;-webkit-justify-content:center!important;-moz-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}}@media(min-width:1200px){.pos-product-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr))!important;gap:24px!important}}@media(min-width:1600px){.pos-product-grid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))!important}}@media(hover:none){.pos-product-card:active{-webkit-transform:scale(.98)!important;-moz-transform:scale(.98)!important;-ms-transform:scale(.98)!important;-o-transform:scale(.98)!important;transform:scale(.98)!important}.pos-product-card:hover{-webkit-transform:none!important;-moz-transform:none!important;-ms-transform:none!important;-o-transform:none!important;transform:none!important;-webkit-box-shadow:0 4px 16px rgba(0,0,0,.04)!important;-moz-box-shadow:0 4px 16px rgba(0,0,0,.04)!important;box-shadow:0 4px 16px rgba(0,0,0,.04)!important}}`});var O=r(49227);let{Title:H,Text:q}=d.default;function M({title:e,subtitle:a,icon:r,onConfirmOrder:i}){let{isLoading:d}=(0,_.x)(),k=(0,F.useRouter)(),[T,M]=(0,n.useState)(1),[G,K]=(0,n.useState)(void 0),{data:J=[]}=(0,P.L)(),{products:X,isLoading:Y,total:Q}=function(e=1,a=20,r){let{socket:t}=(0,n.useContext)(R.J);(0,B.NL)();let{data:i,error:o,isLoading:s,refetch:d}=(0,I.a)({queryKey:["products",e,a,r||"all"],queryFn:async()=>{let t=new URLSearchParams;return r&&t.append("category_id",r),await E.R.findAll(e,a,void 0,t)},placeholderData:$.Wk,staleTime:2e3});return{products:i?.data||[],total:i?.total||0,currentPage:i?.page||1,lastPage:i?.last_page||1,isLoading:s,isError:o,mutate:d}}(T,20,G),[V,ee]=(0,n.useState)(!1),[ea,er]=(0,n.useState)(!1),[et,ei]=(0,n.useState)(!1),{cartItems:eo,addToCart:en,removeFromCart:es,updateQuantity:ed,updateItemNote:el,clearCart:ep,updateItemDetails:ec,getTotalItems:em,getSubtotal:ey,getFinalPrice:ef}=(0,Z.j)(),[ex,eb]=(0,n.useState)(!1),[eg,eh]=(0,n.useState)(null),[eu,ek]=(0,n.useState)(""),[ej,ew]=(0,n.useState)(!1),[ev,ez]=(0,n.useState)(null),eS=(e,a,r)=>{ez({id:e,name:a,details:r||[]}),ew(!0)},eD=(e,a,r)=>{eh({id:e,name:a,note:r}),ek(r||""),eb(!0)},eN=e=>{en(e),l.ZP.success(`เพิ่ม ${e.display_name} ลงตะกร้าแล้ว`)},eC=async()=>{try{ei(!0),await i(),er(!1),ee(!1)}catch(e){console.error(e)}finally{ei(!1)}};return(0,t.jsxs)(t.Fragment,{children:[t.jsx(A,{}),t.jsx(o(),{id:"8fdb6b8ea2f4641f",dynamic:[W.primary,W.primaryDark],children:`.cart-action-btn{-webkit-border-radius:10px!important;-moz-border-radius:10px!important;border-radius:10px!important;height:32px!important;font-size:12px!important;font-weight:600!important}.cart-action-btn:hover{-webkit-transform:scale(1.02);-moz-transform:scale(1.02);-ms-transform:scale(1.02);-o-transform:scale(1.02);transform:scale(1.02)}.pos-cart-drawer .ant-drawer-header{padding:20px 24px!important;border-bottom:1px solid#F1F5F9!important}.pos-cart-drawer .ant-drawer-body{padding:0 24px!important}.pos-cart-drawer .ant-drawer-footer{padding:16px 24px!important;border-top:1px solid#F1F5F9!important}.pos-checkout-drawer .ant-drawer-header{background:-webkit-linear-gradient(305deg,${W.primary} 0%,${W.primaryDark} 100%);background:-moz-linear-gradient(305deg,${W.primary} 0%,${W.primaryDark} 100%);background:-o-linear-gradient(305deg,${W.primary} 0%,${W.primaryDark} 100%);background:linear-gradient(145deg,${W.primary} 0%,${W.primaryDark} 100%);padding:20px 24px!important}.pos-checkout-drawer .ant-drawer-header-title{color:#fff!important}.pos-checkout-drawer .ant-drawer-close{color:#fff!important}@media(max-width:768px){.pos-cart-drawer .ant-drawer-content-wrapper{max-width:100%!important}}`}),(0,t.jsxs)("div",{style:L.container,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx("header",{style:L.header,role:"banner",className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" pos-header-mobile",children:t.jsx("div",{style:L.headerContent,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:(0,t.jsxs)("div",{style:L.headerLeft,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx("button",{style:L.headerBackButton,onClick:()=>k.back(),"aria-label":"กลับ",className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" pos-header-back",children:t.jsx(D.Z,{style:{fontSize:18}})}),t.jsx("div",{style:L.headerIconWrapper,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:r}),(0,t.jsxs)("div",{style:L.headerInfo,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(H,{level:4,style:L.headerTitle,className:"pos-header-title-mobile",children:e}),t.jsx(q,{style:L.headerSubtitle,className:"pos-header-subtitle-mobile",children:a})]})]})})}),t.jsx("nav",{style:L.categoryBar,role:"navigation","aria-label":"ตัวกรองหมวดหมู่",className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" pos-category-bar pos-category-bar-mobile",children:(0,t.jsxs)("div",{style:L.categoryScroll,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(m.ZP,{type:G?"text":"primary",onClick:()=>{K(void 0),M(1)},className:"pos-category-btn",style:{background:G?"white":W.primary,borderColor:G?"#E2E8F0":W.primary,color:G?"#64748B":"#fff",border:G?"1px solid #E2E8F0":`1px solid ${W.primary}`,fontWeight:G?400:600,boxShadow:G?"none":"0 4px 12px rgba(79, 70, 229, 0.2)",height:36,padding:"0 20px",borderRadius:18,transition:"all 0.3s ease"},children:"ทั้งหมด"}),J.map(e=>t.jsx(m.ZP,{type:G===e.id?"primary":"text",onClick:()=>{K(e.id),M(1)},className:"pos-category-btn",style:{background:G===e.id?W.primary:"white",borderColor:G===e.id?W.primary:"#E2E8F0",color:G===e.id?"#fff":"#64748B",border:G===e.id?`1px solid ${W.primary}`:"1px solid #E2E8F0",fontWeight:G===e.id?600:400,boxShadow:G===e.id?"0 4px 12px rgba(79, 70, 229, 0.2)":"none",height:36,padding:"0 20px",borderRadius:18,transition:"all 0.3s ease"},children:e.display_name},e.id))]})}),t.jsx("main",{style:L.content,role:"main",className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" pos-content-mobile",children:Y&&!d?(0,t.jsxs)("div",{style:L.loadingContainer,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(y.Z,{size:"large"}),t.jsx(q,{style:{display:"block",marginTop:16,color:W.textSecondary},children:"กำลังโหลดสินค้า..."})]}):X.length>0?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{style:L.productGrid,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" pos-product-grid pos-product-grid-mobile",children:X.map((e,a)=>(0,t.jsxs)("article",{style:L.productCard,onClick:()=>eN(e),role:"button",tabIndex:0,"aria-label":`เพิ่ม ${e.display_name} ลงตะกร้า`,onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),eN(e))},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" "+`pos-product-card pos-fade-in pos-delay-${a%4+1}`,children:[t.jsx("div",{style:L.productImage,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" pos-product-image-mobile",children:(0,O.dU)(e)?t.jsx(s.default,{alt:e.product_name,src:e.img_url,fill:!0,style:{objectFit:"cover"},sizes:"(max-width: 768px) 50vw, 220px"}):t.jsx("div",{style:{width:"100%",height:"100%",background:`linear-gradient(135deg, ${W.primaryLight} 0%, #DBEAFE 100%)`,display:"flex",justifyContent:"center",alignItems:"center"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:t.jsx(j.Z,{style:{fontSize:48,color:W.primary,opacity:.4}})})}),(0,t.jsxs)("div",{style:L.productInfo,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" pos-product-info-mobile",children:[t.jsx(q,{ellipsis:!0,style:L.productName,className:"pos-product-name-mobile",children:e.display_name}),t.jsx(c.Z,{color:"blue",style:{fontSize:10,marginBottom:0,borderRadius:6,border:"none",background:W.primaryLight,color:W.primary},children:(0,O.r6)(e)}),(0,t.jsxs)("div",{style:L.productFooter,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" pos-product-footer-mobile",children:[t.jsx(q,{style:L.productPrice,className:"pos-product-price-mobile",children:(0,O.T4)(Number(e.price))}),t.jsx(m.ZP,{type:"primary",size:"small",icon:t.jsx(v.Z,{}),className:"pos-add-button pos-add-button-mobile",style:L.addButton,onClick:a=>{a.stopPropagation(),eN(e)},children:"เพิ่ม"})]})]})]},e.id))}),t.jsx("div",{style:L.paginationContainer,className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:t.jsx(f.Z,{current:T,total:Q,pageSize:20,onChange:e=>M(e),showSizeChanger:!1,showTotal:e=>`ทั้งหมด ${e} รายการ`})})]}):t.jsx("div",{style:{background:"#fff",borderRadius:24,padding:"80px 24px",textAlign:"center",boxShadow:"0 4px 24px rgba(0,0,0,0.04)"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:t.jsx(x.Z,{image:x.Z.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:120},description:(0,t.jsxs)("div",{style:{marginTop:20},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(H,{level:4,style:{marginBottom:8,color:W.text},children:"ยังไม่มีข้อมูลสินค้า"}),t.jsx(q,{type:"secondary",style:{fontSize:15},children:"กรุณาเพิ่มสินค้าก่อนใช้งาน"})]}),children:t.jsx(m.ZP,{type:"primary",size:"large",icon:t.jsx(j.Z,{}),style:{height:52,padding:"0 40px",borderRadius:16,fontSize:16,fontWeight:600,marginTop:20,background:`linear-gradient(135deg, ${W.primary} 0%, ${W.primaryDark} 100%)`,border:"none",boxShadow:`0 8px 20px ${W.primary}40`},onClick:()=>k.push("/pos/products"),children:"ไปหน้าจัดการสินค้า"})})})}),t.jsx("div",{className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])+" pos-floating-btn-container",children:t.jsx(b.Z,{count:em(),size:"default",offset:[-5,5],children:t.jsx(m.ZP,{type:"primary",shape:"circle",size:"large",icon:t.jsx(N.Z,{style:{fontSize:26}}),onClick:()=>ee(!0),style:L.floatingCartButton,className:em()>0?"pos-cart-pulse":"","aria-label":`ตะกร้าสินค้า ${em()} รายการ`})})}),t.jsx(g.Z,{title:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx("div",{style:{width:40,height:40,background:"#ecfdf5",borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:t.jsx(N.Z,{style:{fontSize:20,color:"#10b981"}})}),(0,t.jsxs)("div",{className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(q,{style:{fontSize:18,fontWeight:700,color:"#1e293b",display:"block",lineHeight:1.2},children:"ตะกร้าสินค้า"}),(0,t.jsxs)(q,{type:"secondary",style:{fontSize:12,fontWeight:500},children:[eo.length," รายการ"]})]})]}),placement:"right",onClose:()=>ee(!1),open:V,width:420,styles:{body:{padding:"16px 20px",background:"#f8fafc"},header:{padding:"20px",borderBottom:"1px solid #f1f5f9"},footer:{padding:"20px",borderTop:"1px solid #e2e8f0",background:"white"}},footer:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[(0,t.jsxs)(q,{type:"secondary",style:{fontSize:15},children:["ยอดรวม (",eo.length," รายการ)"]}),(0,t.jsxs)(q,{style:{fontWeight:600,fontSize:16},children:["฿",ey().toLocaleString()]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(q,{style:{fontSize:16,fontWeight:700,color:"#1e293b"},children:"ยอดสุทธิ"}),t.jsx("div",{style:{textAlign:"right"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:(0,t.jsxs)(H,{level:2,style:{margin:0,color:"#10b981",lineHeight:1},children:["฿",ef().toLocaleString()]})})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:8},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(m.ZP,{size:"large",danger:!0,icon:t.jsx(S.Z,{}),onClick:ep,disabled:0===eo.length,style:{borderRadius:12,height:48,fontWeight:600,border:"none",background:"#fef2f2",color:"#ef4444"},children:"ล้างตะกร้า"}),t.jsx(m.ZP,{type:"primary",size:"large",onClick:()=>{if(0===eo.length){l.ZP.warning("กรุณาเพิ่มสินค้าลงตะกร้าก่อน");return}er(!0)},disabled:0===eo.length,style:{borderRadius:12,height:48,fontWeight:700,background:"#10b981",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.4)"},children:"ชำระเงิน"})]})]}),children:eo.length>0?t.jsx(p.Z,{dataSource:eo,renderItem:e=>{let a=Number(e.product.price),r=e.discount||0,i=Math.max(0,a*e.quantity-r);return t.jsx(p.Z.Item,{style:{padding:"12px",marginBottom:"12px",background:"#fff",borderRadius:"16px",border:"none",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},className:"cart-item-hover",children:(0,t.jsxs)("div",{style:{display:"flex",gap:12,width:"100%"},children:[t.jsx("div",{style:{flexShrink:0},children:e.product.img_url?t.jsx("div",{style:{width:72,height:72,borderRadius:12,overflow:"hidden",border:"1px solid #f1f5f9"},children:t.jsx("img",{src:e.product.img_url,alt:e.product.display_name||e.product.product_name,style:{width:"100%",height:"100%",objectFit:"cover"}})}):t.jsx("div",{style:{width:72,height:72,borderRadius:12,background:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #f1f5f9"},children:t.jsx(j.Z,{style:{fontSize:24,color:"#94a3b8"}})})}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,t.jsxs)("div",{style:{flex:1},children:[t.jsx(q,{style:{fontWeight:600,fontSize:15,color:"#1e293b",display:"block",lineHeight:1.2,marginBottom:4},children:e.product.display_name||e.product.product_name}),t.jsx(c.Z,{style:{border:"none",background:"#f1f5f9",color:"#64748b",fontSize:11,padding:"0 6px",margin:0,borderRadius:6},children:e.product.category?.display_name||"ทั่วไป"})]}),(0,t.jsxs)(q,{style:{fontWeight:700,fontSize:16,color:"#10b981",whiteSpace:"nowrap",marginLeft:8},children:["฿",i.toLocaleString()]})]}),e.details&&e.details.length>0&&t.jsx("div",{style:{marginTop:6,marginBottom:4},children:e.details.map((e,a)=>(0,t.jsxs)(q,{style:{display:"block",fontSize:12,color:"#10b981",lineHeight:1.4},children:["+ ",e.detail_name," ",(0,t.jsxs)("span",{style:{opacity:.8},children:["(+฿",e.extra_price,")"]})]},a))}),e.notes&&t.jsx("div",{style:{marginTop:4,background:"#fef2f2",padding:"2px 6px",borderRadius:4,display:"inline-block",border:"1px solid #fecaca"},children:(0,t.jsxs)(q,{style:{fontSize:11,color:"#ef4444"},children:["\uD83D\uDCDD ",e.notes]})}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:8},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",background:"#f8fafc",borderRadius:8,padding:"2px",border:"1px solid #e2e8f0"},children:[t.jsx(m.ZP,{type:"text",size:"small",icon:t.jsx(w.Z,{style:{fontSize:10}}),onClick:()=>ed(e.cart_item_id,e.quantity-1),style:{width:24,height:24,borderRadius:6,background:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"}}),t.jsx(q,{style:{margin:"0 8px",fontWeight:600,minWidth:16,textAlign:"center",fontSize:13},children:e.quantity}),t.jsx(m.ZP,{type:"text",size:"small",icon:t.jsx(v.Z,{style:{fontSize:10}}),onClick:()=>ed(e.cart_item_id,e.quantity+1),style:{width:24,height:24,borderRadius:6,background:"#10b981",color:"white"}})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:4},children:[t.jsx(m.ZP,{type:"text",icon:t.jsx(z.Z,{}),size:"small",onClick:()=>{eD(e.cart_item_id,e.product.display_name,e.notes||"")},style:{color:"#64748b",background:"#f1f5f9",borderRadius:6,width:28,height:28}}),t.jsx(m.ZP,{type:"text",icon:t.jsx(v.Z,{}),size:"small",onClick:()=>{eS(e.cart_item_id,e.product.display_name,e.details)},style:{color:"#10b981",background:"#ecfdf5",borderRadius:6,width:28,height:28}}),t.jsx(m.ZP,{type:"text",danger:!0,icon:t.jsx(S.Z,{}),size:"small",onClick:()=>es(e.cart_item_id),style:{background:"#fef2f2",borderRadius:6,width:28,height:28}})]})]})]})]})},e.cart_item_id)},split:!1}):(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.5},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(N.Z,{style:{fontSize:64,color:"#cbd5e1",marginBottom:16}}),t.jsx(q,{style:{color:"#64748b",fontSize:16},children:"ไม่มีสินค้าในตะกร้า"}),t.jsx(q,{style:{color:"#94a3b8",fontSize:14},children:"เลือกสินค้าจากเมนูเพื่อเพิ่มลงตะกร้า"})]})}),V&&t.jsx(g.Z,{title:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,color:"#fff"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(N.Z,{style:{fontSize:20}}),t.jsx("span",{style:{fontWeight:700,fontSize:18},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:"สรุปรายการออเดอร์"})]}),width:420,open:ea,onClose:()=>er(!1),className:"pos-checkout-drawer",closeIcon:t.jsx(C.Z,{style:{color:"#fff"}}),footer:t.jsx("div",{style:{padding:"8px 0"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:t.jsx(m.ZP,{type:"primary",block:!0,size:"large",loading:et,onClick:eC,style:{background:`linear-gradient(135deg, ${W.success} 0%, #059669 100%)`,border:"none",height:56,fontWeight:700,fontSize:18,borderRadius:14,boxShadow:`0 8px 20px ${W.success}40`},children:"ยืนยันการสั่งออเดอร์"})}),children:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:24,padding:"24px 0"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[(0,t.jsxs)("section",{className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(H,{level:5,style:{marginBottom:16,color:W.text},children:"รายการที่สั่ง"}),t.jsx(p.Z,{itemLayout:"horizontal",dataSource:eo,renderItem:e=>(0,t.jsxs)("div",{style:{display:"flex",gap:12,padding:"14px 0",borderBottom:"1px dashed #E2E8F0"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx("div",{style:{width:44,height:44,borderRadius:10,overflow:"hidden",flexShrink:0,border:"1px solid #E2E8F0"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:e.product.img_url?t.jsx("img",{src:e.product.img_url,alt:e.product.display_name,style:{width:"100%",height:"100%",objectFit:"cover"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]])}):t.jsx("div",{style:{width:"100%",height:"100%",background:W.primaryLight,display:"flex",alignItems:"center",justifyContent:"center"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:t.jsx(j.Z,{style:{fontSize:16,color:W.primary,opacity:.5}})})}),t.jsx("div",{style:{flex:1,minWidth:0},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[(0,t.jsxs)("div",{style:{flex:1,minWidth:0},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(q,{strong:!0,style:{fontSize:14,display:"block",marginBottom:4},children:e.product.display_name}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:2},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(q,{type:"secondary",style:{fontSize:12},children:"ราคาอาหาร"}),t.jsx(q,{type:"secondary",style:{fontSize:12},children:(0,O.T4)(Number(e.product.price))})]}),e.details&&e.details.map((e,a)=>(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[(0,t.jsxs)(q,{style:{fontSize:12,color:W.success},children:["+ ",e.detail_name]}),t.jsx(q,{style:{fontSize:12,color:W.success},children:(0,O.T4)(Number(e.extra_price))})]},a)),t.jsx("div",{style:{marginTop:4},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:(0,t.jsxs)(q,{style:{fontSize:12,fontWeight:700,color:"#B45309"},children:["จำนวน : ☓ ",e.quantity]})})]}),e.notes&&t.jsx("div",{style:{marginTop:8,padding:"6px 10px",background:"#fef2f2",borderRadius:8,borderLeft:"3px solid #ef4444"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:(0,t.jsxs)(q,{italic:!0,style:{fontSize:12,color:"#ef4444"},children:["โน๊ต: ",e.notes]})})]}),t.jsx(q,{strong:!0,style:{fontSize:15,marginLeft:12,color:W.primary},children:(0,O.T4)((Number(e.product.price)+(e.details||[]).reduce((e,a)=>e+Number(a.extra_price),0))*e.quantity)})]})})]},e.cart_item_id)})]}),(0,t.jsxs)("section",{style:{background:"#F8FAFC",padding:16,borderRadius:14,border:"1px solid #E2E8F0"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(q,{strong:!0,style:{fontSize:14,marginBottom:12,display:"block",color:W.textSecondary},children:"สรุปตามหมวดหมู่"}),(()=>{let e={};return eo.forEach(a=>{let r=a.product.category?.display_name||"อื่นๆ";e[r]=(e[r]||0)+a.quantity}),Object.entries(e).map(([e,a])=>(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(q,{type:"secondary",style:{fontSize:13},children:e}),(0,t.jsxs)(q,{strong:!0,style:{fontSize:13},children:[a," รายการ"]})]},e))})()]}),(0,t.jsxs)("section",{style:{background:"#fff",padding:"20px",borderTop:"2px solid #E2E8F0"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(q,{type:"secondary",style:{fontSize:15},children:"รวมจำนวนทั้งหมด"}),(0,t.jsxs)(q,{strong:!0,style:{fontSize:15},children:[em()," รายการ"]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(q,{style:{fontSize:20,fontWeight:700,color:W.text},children:"ยอดรวมสุทธิ"}),t.jsx(q,{style:{fontSize:32,fontWeight:800,color:W.primary},children:(0,O.T4)(ef())})]})]})]})}),t.jsx(h.Z,{title:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx("div",{style:{width:36,height:36,borderRadius:10,background:W.warningLight,display:"flex",alignItems:"center",justifyContent:"center"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:t.jsx(z.Z,{style:{color:W.warning,fontSize:16}})}),(0,t.jsxs)("span",{className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:["ระบุรายละเอียด: ",eg?.name]})]}),open:ex,onOk:()=>{eg&&(el(eg.id,eu),eb(!1),eh(null),l.ZP.success("บันทึกโน๊ตเรียบร้อยแล้ว"))},onCancel:()=>{eb(!1),eh(null)},okText:"บันทึก",cancelText:"ยกเลิก",centered:!0,okButtonProps:{style:{background:W.primary,borderRadius:10,height:42}},cancelButtonProps:{style:{borderRadius:10,height:42}},children:(0,t.jsxs)("div",{style:{padding:"16px 0"},className:o().dynamic([["8fdb6b8ea2f4641f",[W.primary,W.primaryDark]]]),children:[t.jsx(q,{style:{display:"block",marginBottom:10,color:W.textSecondary},children:"รายละเอียด / หมายเหตุ"}),t.jsx(u.default.TextArea,{rows:4,value:eu,onChange:e=>ek(e.target.value),placeholder:"เช่น ไม่ใส่ผัก, หวานน้อย, แยกน้ำ...",maxLength:200,showCount:!0,style:{borderRadius:10}})]})}),t.jsx(U,{item:ev,isOpen:ej,onClose:()=>{ew(!1),ez(null)},onSave:e=>{ev&&ec(ev.id,e)}})]})]})}function U({item:e,isOpen:a,onClose:r,onSave:i}){let[o,s]=(0,n.useState)([]),d=e=>{s(o.filter((a,r)=>r!==e))},l=(e,a,r)=>{let t=[...o];t[e]={...t[e],[a]:r},s(t)};return t.jsx(h.Z,{title:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsx("div",{style:{width:36,height:36,borderRadius:10,background:W.successLight,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(v.Z,{style:{color:W.success,fontSize:16}})}),(0,t.jsxs)("span",{children:["รายละเอียดเพิ่มเติม: ",e?.name]})]}),open:a,onCancel:r,footer:[t.jsx(m.ZP,{onClick:r,style:{borderRadius:10,height:42},children:"ยกเลิก"},"cancel"),t.jsx(m.ZP,{type:"primary",onClick:()=>{i(o.filter(e=>""!==e.detail_name.trim())),r()},style:{background:W.success,borderRadius:10,height:42},children:"บันทึก"},"save")],width:520,centered:!0,children:(0,t.jsxs)("div",{style:{padding:"16px 0"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[t.jsx(q,{strong:!0,style:{color:W.textSecondary},children:"รายการเพิ่มเติม"}),t.jsx(m.ZP,{type:"dashed",size:"small",icon:t.jsx(v.Z,{}),onClick:()=>{s([...o,{detail_name:"",extra_price:0}])},style:{borderRadius:8},children:"เพิ่มรายการ"})]}),0===o.length?(0,t.jsxs)("div",{style:{textAlign:"center",padding:"32px",background:"#F8FAFC",borderRadius:12,color:W.textSecondary},children:[t.jsx(v.Z,{style:{fontSize:24,marginBottom:8,opacity:.4}}),t.jsx("div",{children:"ไม่มีรายการเพิ่มเติม"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:o.map((e,a)=>(0,t.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[t.jsx(u.default,{placeholder:"ชื่อรายการ",value:e.detail_name,onChange:e=>l(a,"detail_name",e.target.value),style:{flex:2,borderRadius:8,height:42}}),t.jsx(k.Z,{placeholder:"ราคา",value:e.extra_price,onChange:e=>l(a,"extra_price",e||0),style:{flex:1,height:42},inputMode:"decimal",controls:!1,min:0,precision:2,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,""),onKeyDown:a=>{/^[0-9]$/.test(a.key)||["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter","."].includes(a.key)||a.preventDefault(),"."===a.key&&e.extra_price.toString().includes(".")&&a.preventDefault()}}),t.jsx(m.ZP,{danger:!0,type:"text",icon:t.jsx(S.Z,{}),onClick:()=>d(a),style:{borderRadius:8,height:42,width:42}})]},a))})]})})}},93312:(e,a,r)=>{r.d(a,{L:()=>s});var t=r(20108),i=r(51562),o=r(69711);let n="pos:categories";function s(){return(0,t.a)({queryKey:["categories"],queryFn:async()=>{let e=await i.G.findAll();return e?.length&&(0,o.v)(n,e),e},initialData:()=>(0,o.t)(n,3e5)||void 0,staleTime:3e5,refetchOnWindowFocus:!1,retry:1})}},10985:(e,a,r)=>{var t;r.d(a,{c:()=>t}),function(e){e.Available="Available",e.Unavailable="Unavailable"}(t||(t={}))},2504:(e,a,r)=>{r.d(a,{NE:()=>l,Th:()=>s,Do:()=>p,Yx:()=>c,Zu:()=>m,Oi:()=>d,W9:()=>o,Tf:()=>n});var t=r(10985),i=r(13976);function o(e){let a={total:e.length,available:0,occupied:0,inactive:0};return e.forEach(e=>{e.is_active?e.status===t.c.Available?a.available++:a.occupied++:a.inactive++}),a}function n(e){return[...e].sort((e,a)=>{let r=parseInt(e.table_name.replace(/\D/g,"")),t=parseInt(a.table_name.replace(/\D/g,""));return isNaN(r)||isNaN(t)?e.table_name.localeCompare(a.table_name):r-t})}function s(e){return e.filter(e=>e.is_active)}function d(e){return e.is_active?"WaitingForPayment"===e.active_order_status?"waitingForPayment":e.status===t.c.Available?"available":"occupied":"inactive"}function l(e){return e?({Pending:"กำลังดำเนินการ",Cooking:"กำลังปรุง",Served:"เสิร์ฟแล้ว",WaitingForOrder:"รอรับออเดอร์",WaitingForPayment:"รอชำระเงิน",Paid:"ชำระเงินแล้ว",Completed:"เสร็จสมบูรณ์",Cancelled:"ยกเลิก"})[e]||e:""}function p(e){return e.reduce((e,a)=>(e.total++,a.status===i.i.Pending&&e.pending++,a.status===i.i.Cooking&&e.cooking++,a.status===i.i.Served&&e.served++,e),{total:0,pending:0,cooking:0,served:0})}function c(e){switch(e.status){case i.i.Pending:case i.i.Cooking:return"occupied";case i.i.Served:return"waitingForPayment";case i.i.Paid:return"available";default:return"inactive"}}let m=e=>{switch(e){case i.m.DineIn:case"DineIn":return"/pos/channels/dine-in";case i.m.TakeAway:case"TakeAway":return"/pos/channels/takeaway";case i.m.Delivery:case"Delivery":return"/pos/channels/delivery";default:return"/pos/orders"}}},69711:(e,a,r)=>{r.d(a,{t:()=>i,v:()=>o});let t=()=>!1,i=(e,a)=>{if(!t())return null;try{let r=window.localStorage.getItem(e);if(!r)return null;let t=JSON.parse(r);if(!t?.ts||Date.now()-t.ts>a)return null;return t.data??null}catch{return null}},o=(e,a)=>{if(t())try{let r={ts:Date.now(),data:a};window.localStorage.setItem(e,JSON.stringify(r))}catch{}}},49227:(e,a,r)=>{function t(e){return`฿${e.toLocaleString("th-TH",{minimumFractionDigits:0,maximumFractionDigits:2})}`}function i(e){return e.category?.display_name||"ไม่มีหมวดหมู่"}function o(e){return!!e.img_url&&e.img_url.length>0}r.d(a,{T4:()=>t,dU:()=>o,r6:()=>i})}};