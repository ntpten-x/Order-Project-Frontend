"use strict";exports.id=2090,exports.ids=[2090],exports.modules={2643:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};var n=a(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let c=r.forwardRef((e,t)=>r.createElement(n.Z,o({},e,{ref:t,icon:i})))},12226:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var n=a(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let c=r.forwardRef((e,t)=>r.createElement(n.Z,o({},e,{ref:t,icon:i})))},74215:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(17577);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"qrcode",theme:"outlined"};var n=a(74082);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let c=r.forwardRef((e,t)=>r.createElement(n.Z,o({},e,{ref:t,icon:i})))},26902:(e,t,a)=>{a.d(t,{H:()=>x});var r=a(10326),i=a(77626),n=a.n(i),o=a(17577),c=a(66874),s=a(54547),d=a(92121);let l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 1156 0zm152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}}]},name:"lock",theme:"filled"};var p=a(74082);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let g=o.forwardRef((e,t)=>o.createElement(p.Z,f({},e,{ref:t,icon:l})));var h=a(39275);let{Text:b,Title:m}=c.default,x=({message:e,tone:t="secondary"})=>(0,r.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 access-guard-container",children:[r.jsx(s.ZP,{theme:{token:{colorPrimary:"#3b82f6"}},children:(0,r.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 content-wrapper",children:["danger"===t?r.jsx("div",{className:"jsx-e041fd1637d3b0f2 icon-circle danger",children:r.jsx(g,{style:{fontSize:32,color:"#ef4444"}})}):r.jsx("div",{className:"jsx-e041fd1637d3b0f2 spinner-wrapper",children:r.jsx(d.Z,{indicator:r.jsx(h.Z,{style:{fontSize:40},spin:!0})})}),(0,r.jsxs)("div",{className:"jsx-e041fd1637d3b0f2 text-content",children:[r.jsx(m,{level:4,style:{margin:0,color:"#1e293b"},children:"danger"===t?"Access Denied":"Loading"}),r.jsx(b,{type:t,style:{fontSize:16},children:e})]})]})}),r.jsx(n(),{id:"e041fd1637d3b0f2",children:".access-guard-container.jsx-e041fd1637d3b0f2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:100vh;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:#f8fafc}.content-wrapper.jsx-e041fd1637d3b0f2{background:white;padding:40px;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;-webkit-box-shadow:0 20px 40px rgba(0,0,0,.05);-moz-box-shadow:0 20px 40px rgba(0,0,0,.05);box-shadow:0 20px 40px rgba(0,0,0,.05);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:24px;text-align:center;min-width:320px;-webkit-animation:fadeIn.5s ease-out;-moz-animation:fadeIn.5s ease-out;-o-animation:fadeIn.5s ease-out;animation:fadeIn.5s ease-out}.icon-circle.jsx-e041fd1637d3b0f2{width:80px;height:80px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff1f2}.spinner-wrapper.jsx-e041fd1637d3b0f2{padding:20px}.text-content.jsx-e041fd1637d3b0f2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:8px}@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})},52647:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(10326);a(17577);var i=a(2643),n=a(5591),o=a(3861),c=a(21020),s=a(71935),d=a(66874),l=a(52386);function p({title:e,subtitle:t,icon:a,onBack:p,actions:f,style:g}){let{token:h}=n.default.useToken(),b=o.default.useBreakpoint().md?l.H.pagePaddingXDesktop:l.H.pagePaddingXMobile;return r.jsx("div",{style:{padding:`${l.H.pagePaddingY}px ${b}px`,background:h.colorBgContainer,borderBottom:`1px solid ${h.colorBorderSecondary}`,...g},children:(0,r.jsxs)(c.Z,{align:"center",justify:"space-between",wrap:"wrap",gap:12,style:{maxWidth:l.H.pageMaxWidth,margin:"0 auto"},children:[(0,r.jsxs)(c.Z,{align:"center",gap:12,style:{minWidth:0},children:[p&&r.jsx(s.ZP,{type:"text","aria-label":"ย้อนกลับ",icon:r.jsx(i.Z,{}),onClick:p,style:{borderRadius:12,width:44,height:44}}),a&&r.jsx("div",{style:{width:44,height:44,borderRadius:14,display:"grid",placeItems:"center",background:h.colorFillTertiary,color:h.colorText},children:a}),(0,r.jsxs)("div",{style:{minWidth:0},children:[r.jsx(d.default.Title,{level:4,style:{margin:0},children:e}),t&&r.jsx(d.default.Text,{type:"secondary",children:t})]})]}),f&&r.jsx(c.Z,{gap:8,wrap:"wrap",children:f})]})})}},2175:(e,t,a)=>{a.d(t,{p:()=>o});var r=a(12529),i=a(40577);let n="/pos/payment-accounts",o={getBasePath:e=>{let t=(0,r.b)("GET",`${n}/accounts`);return e?`${t}?shopId=${e}`:t},getByShopId:async(e,t)=>{let a=(0,r.b)("GET",`${n}/accounts`);e&&(a+=`?shopId=${e}`);let o={};t&&(o.Cookie=t);let c=await fetch(a,{cache:"no-store",credentials:"include",headers:o});if(!c.ok){let e=await c.json().catch(()=>({})),t=Error((0,i.i_)(e,"Failed to fetch accounts"));throw t.status=c.status,t}return(0,i.hH)(await c.json())},create:async(e,t,a,o)=>{let c=(0,r.b)("POST",`${n}/accounts`);t&&(c+=`?shopId=${t}`);let s={"Content-Type":"application/json"};a&&(s.Cookie=a),o&&(s["X-CSRF-Token"]=o);let d=await fetch(c,{method:"POST",headers:s,body:JSON.stringify(e),credentials:"include"});if(!d.ok){let e=await d.json().catch(()=>({})),t=Error((0,i.i_)(e,"Failed to create account"));throw t.status=d.status,t}return(0,i.hH)(await d.json())},update:async(e,t,a,o,c)=>{let s=(0,r.b)("PUT",`${n}/accounts/${e}`);a&&(s+=`?shopId=${a}`);let d={"Content-Type":"application/json"};o&&(d.Cookie=o),c&&(d["X-CSRF-Token"]=c);let l=await fetch(s,{method:"PUT",headers:d,body:JSON.stringify(t),credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({})),t=Error((0,i.i_)(e,"Failed to update account"));throw t.status=l.status,t}return(0,i.hH)(await l.json())},activate:async(e,t,a,o)=>{let c=(0,r.b)("PATCH",`${n}/accounts/${e}/activate`);t&&(c+=`?shopId=${t}`);let s={"Content-Type":"application/json"};a&&(s.Cookie=a),o&&(s["X-CSRF-Token"]=o);let d=await fetch(c,{method:"PATCH",headers:s,body:JSON.stringify({}),credentials:"include"});if(!d.ok){let e=await d.json().catch(()=>({})),t=Error((0,i.i_)(e,"Failed to activate account"));throw t.status=d.status,t}return(0,i.hH)(await d.json())},delete:async(e,t,a,o)=>{let c=(0,r.b)("DELETE",`${n}/accounts/${e}`);t&&(c+=`?shopId=${t}`);let s={};a&&(s.Cookie=a),o&&(s["X-CSRF-Token"]=o);let d=await fetch(c,{method:"DELETE",headers:s,credentials:"include"});if(!d.ok){let e=await d.json().catch(()=>({})),t=Error((0,i.i_)(e,"Failed to delete account"));throw t.status=d.status,t}}}},93922:(e,t,a)=>{a.d(t,{Np:()=>o,X1:()=>r,ax:()=>n,hS:()=>i});let r={primary:"#6366F1",primaryLight:"#EEF2FF",primaryDark:"#4F46E5",success:"#10B981",successLight:"#ECFDF5",warning:"#F59E0B",warningLight:"#FFFBEB",error:"#EF4444",errorLight:"#FEF2F2",info:"#3B82F6",infoLight:"#EFF6FF",background:"#F8FAFC",cardBg:"#FFFFFF",border:"#E2E8F0",borderLight:"#F1F5F9",text:"#1E293B",textSecondary:"#64748B",textMuted:"#94A3B8",textInverse:"#FFFFFF",dineIn:"#3B82F6",takeaway:"#10B981",delivery:"#8B5CF6",kitchen:"#F97316",shift:"#10B981",kitchenBg:"#0F172A",kitchenCard:"rgba(30, 41, 59, 0.8)",kitchenBorder:"rgba(255, 255, 255, 0.1)"},i={dineIn:{primary:"#3B82F6",light:"#EFF6FF",border:"#BFDBFE",gradient:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",iconBg:"rgba(59, 130, 246, 0.1)"},takeaway:{primary:"#10B981",light:"#ECFDF5",border:"#A7F3D0",gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",iconBg:"rgba(16, 185, 129, 0.1)"},delivery:{primary:"#8B5CF6",light:"#F5F3FF",border:"#DDD6FE",gradient:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",iconBg:"rgba(139, 92, 246, 0.1)"}},n={available:{primary:"#10B981",light:"#ECFDF5",border:"#A7F3D0",gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",text:"#065F46"},occupied:{primary:"#F59E0B",light:"#FFFBEB",border:"#FCD34D",gradient:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",text:"#92400E"},inactive:{primary:"#94A3B8",light:"#F8FAFC",border:"#CBD5E1",gradient:"linear-gradient(135deg, #94A3B8 0%, #64748B 100%)",text:"#475569"},waitingForPayment:{primary:"#3B82F6",light:"#EFF6FF",border:"#BFDBFE",gradient:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",text:"#1E40AF"}},o={container:{minHeight:"100vh",background:r.background,fontFamily:"var(--font-sans), 'Sarabun', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",paddingBottom:100},header:{background:`linear-gradient(135deg, ${r.primary} 0%, ${r.primaryDark} 100%)`,padding:"16px 16px 48px",position:"relative",borderBottomLeftRadius:20,borderBottomRightRadius:20,overflow:"hidden"},heroHeader:{background:`linear-gradient(135deg, ${r.primary} 0%, ${r.primaryDark} 100%)`,padding:"24px 20px 56px",position:"relative",borderBottomLeftRadius:24,borderBottomRightRadius:24,boxShadow:"0 4px 20px rgba(99, 102, 241, 0.2)",marginBottom:-40,zIndex:1,overflow:"hidden"},contentWrapper:{maxWidth:1200,margin:"-32px auto 0",padding:"0 16px",position:"relative",zIndex:10},card:{borderRadius:16,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.04)",border:`1px solid ${r.border}`,overflow:"hidden",background:r.cardBg},itemCard:{marginBottom:8,borderRadius:12,border:`1px solid ${r.borderLight}`,transition:"all 0.2s ease",background:r.cardBg},kitchenContainer:{minHeight:"100vh",background:r.kitchenBg,padding:"16px 16px 100px",color:"#F8FAFC",fontFamily:"var(--font-sans), 'Sarabun', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"},kitchenGlassCard:{background:r.kitchenCard,backdropFilter:"blur(12px)",border:`1px solid ${r.kitchenBorder}`,borderRadius:16,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",overflow:"hidden"},kitchenHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,flexWrap:"wrap",gap:12},sectionTitle:{display:"flex",alignItems:"center",gap:10,marginBottom:16,fontSize:16,fontWeight:600,color:r.text}}},7670:(e,t,a)=>{a.d(t,{e:()=>o});var r=a(17577),i=a(35047),n=a(94001);function o({allowedRoles:e,requiredRole:t="Admin",redirectUnauthenticated:a="/login",redirectUnauthorized:o="/pos",unauthorizedMessage:c="คุณไม่มีสิทธิ์เข้าถึงหน้านี้"}={}){(0,i.useRouter)();let{user:s,loading:d}=(0,n.a)(),l=(0,r.useMemo)(()=>e&&e.length>0?e:t?[t]:void 0,[e,t]),p=(0,r.useMemo)(()=>(function(e,t,a){if(t)return"checking";if(!e)return"unauthenticated";if(a&&a.length>0){var r;let t="Admin"===(r=e.role)||"Manager"===r||"Employee"===r?r:null;if(!t||!(a.includes(t)||"Admin"===t))return"unauthorized"}return"authorized"})(s,d,l),[s,d,l]);return(0,r.useRef)(!1),{status:p,isAuthorized:"authorized"===p,isChecking:"checking"===p,user:s}}}};