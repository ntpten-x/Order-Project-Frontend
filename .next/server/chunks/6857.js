exports.id=6857,exports.ids=[6857],exports.modules={58359:()=>{},93739:()=>{},32178:(e,t,r)=>{Promise.resolve().then(r.bind(r,65618))},37739:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},88979:(e,t,r)=>{Promise.resolve().then(r.bind(r,24462)),Promise.resolve().then(r.bind(r,94685)),Promise.resolve().then(r.bind(r,94001)),Promise.resolve().then(r.bind(r,37938)),Promise.resolve().then(r.bind(r,19211)),Promise.resolve().then(r.bind(r,15639)),Promise.resolve().then(r.bind(r,59829))},58419:(e,t,r)=>{Promise.resolve().then(r.bind(r,16507))},6302:(e,t,r)=>{Promise.resolve().then(r.bind(r,1125))},96870:(e,t,r)=>{Promise.resolve().then(r.bind(r,83846))},16507:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(10326);r(17577);var o=r(19117),n=r(71935),a=r(35047);function i({error:e,reset:t}){let r=(0,a.useRouter)();return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-4",children:s.jsx(o.ZP,{status:"500",title:"เกิดข้อผิดพลาดบางอย่าง",subTitle:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{children:"ขออภัย เราไม่สามารถดำเนินการตามคำขอของคุณได้ในขณะนี้"}),s.jsx("p",{className:"text-gray-400 text-sm font-mono bg-gray-100 p-2 rounded",children:e.message||"Unknown error"})]}),extra:[s.jsx(n.ZP,{onClick:()=>r.push("/"),size:"large",children:"กลับสู่หน้าหลัก"},"console"),s.jsx(n.ZP,{type:"primary",onClick:t,size:"large",className:"bg-emerald-500 hover:bg-emerald-600",children:"ลองใหม่อีกครั้ง"},"retry")]})})}},1125:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(10326),o=r(52298),n=r.n(o),a=r(54547),i=r(19117),l=r(71935),d=r(61037);function c({error:e,reset:t}){return s.jsx("html",{lang:"th",children:s.jsx("body",{className:n().className,children:s.jsx(a.ZP,{locale:d.Z,children:s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-4",children:s.jsx(i.ZP,{status:"500",title:"เกิดข้อผิดพลาดร้ายแรง",subTitle:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{children:"ระบบไม่สามารถโหลดหน้าเว็บได้ กรุณาลองใหม่อีกครั้ง"}),e.digest&&(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["Digest: ",e.digest]})]}),extra:s.jsx(l.ZP,{type:"primary",onClick:()=>t(),size:"large",className:"bg-emerald-500",style:{backgroundColor:"#10b981",borderColor:"#10b981"},children:"รีโหลดหน้าเว็บ"})})})})})})}r(23824)},83846:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(10326);r(17577);var o=r(19117),n=r(71935),a=r(35047);function i(){let e=(0,a.useRouter)();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx(o.ZP,{status:"404",title:"404",subTitle:"ขออภัย ไม่พบหน้าที่คุณต้องการ",extra:s.jsx(n.ZP,{type:"primary",onClick:()=>e.push("/"),children:"กลับสู่หน้าหลัก"})})})}},24462:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var s=r(10326);r(17577);var o=r(18418),n=r(58184),a=r(64635),i=r(71209),l=r(52145),d=r(11401),c=r(20331),u=r(91377),x=r(91759),p=r(9297),h=r(9078),g=r(94001),f=r(35047);let{Header:b}=o.default,{Text:y}=n.default,m=()=>{let{user:e,logout:t}=(0,g.a)(),r=(0,f.usePathname)();if(!e||"/login"===r)return null;let o=[{key:"profile",label:s.jsx("div",{style:{padding:"12px 8px",minWidth:"240px"},children:(0,s.jsxs)(a.Z,{align:"center",size:16,children:[s.jsx(i.Z,{size:56,icon:s.jsx(c.Z,{}),style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"}}),(0,s.jsxs)("div",{children:[s.jsx(y,{strong:!0,style:{fontSize:"16px",display:"block",marginBottom:"2px"},children:e?.name||e?.username||"Guest"}),s.jsx(y,{type:"secondary",style:{fontSize:"13px"},children:e?.name?e.username:e?.display_name||"ไม่ได้กำหนดสิทธิ์"})]})]})}),disabled:!0},{type:"divider"},{key:"settings",icon:s.jsx(u.Z,{}),label:"การตั้งค่า",style:{padding:"10px 16px"}},{type:"divider"},{key:"logout",icon:s.jsx(x.Z,{}),label:"ออกจากระบบ",danger:!0,style:{padding:"10px 16px"},onClick:t}];return(0,s.jsxs)(b,{style:{position:"fixed",top:0,width:"100%",zIndex:1e3,height:"64px",padding:"0 16px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,s.jsxs)(a.Z,{size:12,align:"center",children:[s.jsx("div",{style:{width:"40px",height:"40px",background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(10px)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 12px 24px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.1)"},children:s.jsx(p.Z,{style:{fontSize:"20px",color:"#fff"}})}),s.jsx(y,{strong:!0,className:"app-title",style:{fontSize:"20px",color:"#fff",margin:0,fontWeight:700,letterSpacing:"0.5px",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"Order App"})]}),e&&s.jsx(l.Z,{menu:{items:o},trigger:["click"],placement:"bottomRight",children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"6px 12px",borderRadius:"24px",background:"rgba(255, 255, 255, 0.18)",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.25)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"180px"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.28)",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 20px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.18)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},children:[s.jsx(d.Z,{dot:!0,status:"success",offset:[-5,38],styles:{indicator:{width:"12px",height:"12px",boxShadow:"0 0 0 2px rgba(255, 255, 255, 0.5)"}},children:s.jsx(i.Z,{size:36,icon:s.jsx(c.Z,{}),style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"2px solid rgba(255, 255, 255, 0.9)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"}})}),s.jsx(h.Z,{style:{fontSize:"10px",color:"#fff",transition:"transform 0.3s ease"}})]})})]})}},94685:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(10326),o=r(35047),n=r(17577),a=r(37938);let i=({children:e})=>{let t=(0,o.usePathname)(),{resetLoading:r}=(0,a.x)();(0,n.useEffect)(()=>{r()},[t,r]);let i="/login"===t;return s.jsx("main",{style:{paddingTop:i?"0":"64px"},children:e})}},40820:(e,t,r)=>{"use strict";r.d(t,{q:()=>o,v:()=>s});let s="/api",o={AUTH:{LOGIN:"/auth/login",ME:"/auth/me",CSRF:"/csrf"},POS:{PRODUCTS:"/pos/products",ORDERS:"/pos/orders",TABLES:"/pos/tables",DISCOUNTS:"/pos/discounts",DELIVERY:"/pos/delivery",PAYMENT_METHODS:"/pos/paymentMethod",PAYMENTS:"/pos/payments",CATEGORY:"/pos/category",SHIFTS:{BASE:"/pos/shifts",CURRENT:"/pos/shifts/current",OPEN:"/pos/shifts/open",CLOSE:"/pos/shifts/close"},DASHBOARD:{SALES:"/pos/dashboard/sales",TOP_ITEMS:"/pos/dashboard/top-items"},CHANNELS:{STATS:"/pos/orders/stats"},SHOP_PROFILE:"/pos/shopProfile",SALES_ORDER_ITEMS:"/pos/salesOrderItem",SALES_ORDER_DETAILS:"/pos/salesOrderDetail",PRODUCTS_UNIT:"/pos/productsUnit",PAYMENT_DETAILS:"/pos/paymentDetails",BRANCH:"/branches"}}},94001:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>u,a:()=>x});var s=r(10326),o=r(17577),n=r(35047),a=r(81456),i=r(3548),l=r(92121),d=r(37938);let c=(0,o.createContext)(void 0),u=({children:e})=>{let[t,r]=(0,o.useState)(null),[u,x]=(0,o.useState)(!0),p=(0,n.useRouter)(),h=(0,n.usePathname)(),g=async()=>{try{let e=await a.O.getMe("");r(e)}catch{r(null)}finally{x(!1)}};(0,o.useEffect)(()=>{g()},[]);let{showLoading:f,hideLoading:b}=(0,d.x)();(0,o.useEffect)(()=>{u||t||"/login"===h||p.push("/login")},[t,u,h,p]);let y=async e=>{try{f("กำลังเข้าสู่ระบบ...");let t=await a.O.getCsrfToken(),{token:s,...o}=await a.O.login(e,t);r(o),p.push("/")}catch(e){throw e}finally{b()}},m=async()=>{try{f("กำลังออกจากระบบ..."),await a.O.logout(""),i.x.clearQueue(),r(null),p.push("/login")}catch(e){console.error("Logout error:",e)}finally{b()}};return u?s.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-white",children:s.jsx(l.Z,{size:"large"})}):t||"/login"===h?s.jsx(c.Provider,{value:{user:t,loading:u,login:y,logout:m,checkAuth:g},children:e}):null},x=()=>{let e=(0,o.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},19211:(e,t,r)=>{"use strict";r.d(t,{J:()=>i,SocketProvider:()=>l});var s=r(10326),o=r(17577),n=r(80057),a=r(94001);let i=(0,o.createContext)({socket:null,isConnected:!1}),l=({children:e})=>{let[t,r]=(0,o.useState)(null),[l,d]=(0,o.useState)(!1),{user:c}=(0,a.a)();return(0,o.useEffect)(()=>{if(!c){t&&(t.disconnect(),r(null),d(!1));return}let e=(0,n.io)("http://localhost:3000",{transports:["websocket"],withCredentials:!0,auth:void 0});return e.on("connect",()=>{console.log("Socket Connected:",e.id),d(!0)}),e.on("disconnect",()=>{console.log("Socket Disconnected"),d(!1)}),r(e),()=>{e.disconnect()}},[c]),s.jsx(i.Provider,{value:{socket:t,isConnected:l},children:e})}},37938:(e,t,r)=>{"use strict";r.d(t,{GlobalLoadingProvider:()=>l,O:()=>c,x:()=>d});var s=r(10326),o=r(17577),n=r(92121);let a=(0,o.createContext)(void 0),i=(0,o.createContext)(void 0),l=({children:e})=>{let[t,r]=(0,o.useState)({}),[l,d]=(0,o.useState)(void 0),c=(0,o.useCallback)((e,t="default")=>{r(e=>({...e,[t]:(e[t]||0)+1})),e&&d(e)},[]),u=(0,o.useCallback)((e="default")=>{r(t=>{if(!t[e])return t;let r={...t};return r[e]-=1,r[e]<=0&&delete r[e],r})},[]),x=(0,o.useCallback)(()=>{r({}),d(void 0)},[]),p=Object.keys(t).length>0,h=(0,o.useMemo)(()=>({isLoading:p,loadingMessage:l}),[p,l]),g=(0,o.useMemo)(()=>({showLoading:c,hideLoading:u,resetLoading:x}),[c,u,x]);return s.jsx(i.Provider,{value:g,children:(0,s.jsxs)(a.Provider,{value:h,children:[e,p&&s.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto bg-black/10 backdrop-blur-[1px]",children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,background:"rgba(255, 255, 255, 0.9)",padding:"20px 40px",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[s.jsx(n.Z,{size:"large"}),l&&s.jsx("div",{style:{fontSize:14,color:"#1f1f1f",fontWeight:500},children:l})]})})]})})};function d(){let e=(0,o.useContext)(a),t=(0,o.useContext)(i);if(!e||!t)throw Error("useGlobalLoading must be used within a GlobalLoadingProvider");return(0,o.useMemo)(()=>({...e,...t}),[e,t])}function c(){let e=(0,o.useContext)(i);if(!e)throw Error("useGlobalLoadingDispatch must be used within a GlobalLoadingProvider");return e}},15639:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(10326),o=r(17577),n=r.n(o),a=r(82113),i=r(35047),l=r(54547),d=r(35509);let c={token:{fontSize:16,colorPrimary:"#4F46E5",borderRadius:12,controlHeight:44,fontFamily:"var(--font-inter), sans-serif",colorTextHeading:"#111827",colorText:"#374151"},components:{Button:{controlHeight:48,borderRadius:12,algorithm:!0,fontSize:16,fontWeight:600},Input:{controlHeight:48,borderRadius:12},Card:{borderRadiusLG:20,boxShadowTertiary:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},Typography:{lineHeightHeading1:1.2,lineHeightHeading2:1.3},Layout:{headerBg:"rgba(255, 255, 255, 0.8)",bodyBg:"#ffffff"}}},u=({children:e})=>{let t=n().useMemo(()=>(0,a.Df)(),[]),[r,u]=(0,o.useState)(!1);return(0,i.useServerInsertedHTML)(()=>{if(!r)return u(!0),s.jsx("style",{id:"antd",dangerouslySetInnerHTML:{__html:(0,a.EN)(t,!0)}})}),s.jsx(a.V9,{cache:t,children:s.jsx(l.ZP,{theme:c,children:s.jsx(d.Z,{children:e})})})}},12529:(e,t,r)=>{"use strict";function s(e,t){return({GET:`${o.API_BASE_URL}${t}`,POST:`${o.API_BASE_URL}${t}`,PUT:`${o.API_BASE_URL}${t}`,DELETE:`${o.API_BASE_URL}${t}`,PATCH:`${o.API_BASE_URL}${t}`})[e]}r.d(t,{b:()=>s});let o={get API_BASE_URL(){return"http://localhost:3000"}}},59829:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(10326),o=r(23193),n=r(77710),a=r(54618),i=r(44976),l=r(17577),d=r(37938);let c=()=>{let e=(0,o.y)(),t=(0,n.B)(),{showLoading:r,hideLoading:s}=(0,d.x)(),a=(0,l.useRef)(!1),i=e+t>0;return(0,l.useEffect)(()=>{if(i&&!a.current){a.current=!0,r("กำลังโหลดข้อมูล...","query");return}!i&&a.current&&(a.current=!1,s("query"))},[i,r,s]),null};function u({children:e}){let[t]=(0,l.useState)(()=>new a.S({defaultOptions:{queries:{staleTime:6e4,retry:1,refetchOnWindowFocus:!1}}}));return(0,s.jsxs)(i.aH,{client:t,children:[s.jsx(c,{}),e]})}},81456:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var s=r(40820),o=r(12529);let n={login:async(e,t,r)=>{try{let n=(0,o.b)("POST",s.q.AUTH.LOGIN),a={"Content-Type":"application/json"};t&&(a["X-CSRF-Token"]=t),r&&(a.Cookie=r);let i=await fetch(n,{method:"POST",headers:a,credentials:"include",body:JSON.stringify(e)});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.message||e.detail||"เข้าสู่ระบบไม่สำเร็จ")}let l=await i.json();return{...l.user,token:l.token}}catch(e){throw Error(e.message||"เข้าสู่ระบบไม่สำเร็จ")}},logout:async(e,t,r)=>{try{let s=(0,o.b)("POST","/auth/logout"),n={"Content-Type":"application/json"};e&&(n.Authorization=`Bearer ${e}`),t&&(n["X-CSRF-Token"]=t),r&&(n.Cookie=r),await fetch(s,{method:"POST",headers:n,credentials:"include"})}catch(e){console.error("Logout failed",e)}},getMe:async e=>{try{let t=(0,o.b)("GET",s.q.AUTH.ME),r=await fetch(t,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},credentials:"include",cache:"no-store"});if(!r.ok)throw Error("Unauthorized");return await r.json()}catch(e){throw e}},async getCsrfToken(){try{let e=await fetch(`${s.v}${s.q.AUTH.CSRF}`,{credentials:"include"});if(!e.ok)return"";return(await e.json()).csrfToken}catch(e){return console.error("Failed to fetch CSRF token",e),""}}}},3548:(e,t,r)=>{"use strict";r.d(t,{M:()=>a,x:()=>n});let s=()=>[],o=e=>{},n={addToQueue:(e,t)=>{let r=s(),n={id:`offline-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:e,payload:t,timestamp:Date.now(),retryCount:0};return o([...r,n]),n},getQueue:()=>s(),removeFromQueue:e=>{o(s().filter(t=>t.id!==e))},incrementRetry:(e,t)=>{o(s().map(r=>r.id===e?{...r,retryCount:r.retryCount+1,lastError:t}:r))},clearQueue:()=>{},pruneExceeded:()=>{o(s().filter(e=>e.retryCount<=5))}},a={maxRetry:5,backoff:e=>Math.min(3e4,2e3*e)}},7629:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\error.tsx#default`)},43315:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\global-error.tsx#default`)},86296:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b,metadata:()=>f});var s=r(19510),o=r(60880),n=r.n(o),a=r(17214),i=r.n(a);r(5023);var l=r(68570);let d=(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\lib\AntdRegistry.tsx#default`);(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\contexts\SocketContext.tsx#SocketContext`);let c=(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\contexts\SocketContext.tsx#SocketProvider`),u=(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\contexts\AuthContext.tsx#AuthProvider`);(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\contexts\AuthContext.tsx#useAuth`);let x=(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\contexts\pos\GlobalLoadingContext.tsx#GlobalLoadingProvider`);(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\contexts\pos\GlobalLoadingContext.tsx#useGlobalLoading`),(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\contexts\pos\GlobalLoadingContext.tsx#useGlobalLoadingDispatch`);let p=(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\providers\QueryProvider.tsx#default`),h=(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\components\AppHeader.tsx#default`),g=(0,l.createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\components\ClientLayout.tsx#default`),f={title:"ORDER",description:"ORDER"};function b({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:`${n().variable} ${i().variable} antialiased font-sans`,children:s.jsx(d,{children:s.jsx(x,{children:s.jsx(p,{children:s.jsx(u,{children:(0,s.jsxs)(c,{children:[s.jsx(h,{}),s.jsx(g,{children:e})]})})})})})})})}},11930:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(19510),o=r(43206);function n(){return s.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:s.jsx(o.yC,{size:"large"})})}},12523:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`E:\Project\Order-Project-Frontend\src\app\not-found.tsx#default`)},5023:()=>{},23824:()=>{}};