(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9655],{80240:function(e,t,r){Promise.resolve().then(r.bind(r,77489))},77489:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var n=r(57437),a=r(2265),o=r(82646),i=r(64625),s=r(44967),c=r(50742),l=r(48651),d=r(47451),u=r(69410),f=r(96931),h=r(80009),p=r(867),g=r(85180),x=r(53743),y=r(88589),m=r(23496),b=r(17588),j=r(96473),S=r(86955),v=r(83669),k=r(13377),w=r(26349),C=r(99376);let E={padding:"24px",maxWidth:"1200px",margin:"0 auto"};var T=r(92525),P=r(97235),R=r(44225),I=r(3286),_=r(2938);let{Title:A,Text:O}=o.default;function Z(){let{message:e}=i.Z.useApp(),t=(0,C.useRouter)(),[r,o]=(0,a.useState)([]),[Z,B]=(0,a.useState)(!1),{isAuthorized:z,isChecking:L}=(0,I.e)({requiredRole:"Admin"}),[F,D]=(0,a.useState)(!1),[N]=s.Z.useForm(),[H,M]=(0,a.useState)(null),U=a.useCallback(async()=>{B(!0);try{let e=await T.p.getByShopId();o(e)}catch(t){e.error("ไม่สามารถโหลดข้อมูลบัญชีได้")}finally{B(!1)}},[e]);(0,a.useEffect)(()=>{U()},[U]);let G=()=>{M(null),N.resetFields(),D(!0)},X=e=>{M(e.id),N.setFieldsValue(e),D(!0)},W=async t=>{try{let r=await (0,P.P)();await T.p.delete(t,void 0,void 0,r),e.success("ลบบัญชีสำเร็จ"),U()}catch(r){let t=r instanceof Error?r.message:"ลบไม่สำเร็จ (บัญชีที่ใช้งานอยู่อาจลบไม่ได้)";e.error(t)}},q=async()=>{try{let t=await N.validateFields();if(!/^\d{10}$/.test(t.account_number))return e.error("เบอร์พร้อมเพย์ต้องเป็นตัวเลข 10 หลักเท่านั้น");if(t.phone&&!/^\d{10}$/.test(t.phone))return e.error("เบอร์โทรศัพท์ร้านต้องเป็นตัวเลข 10 หลักเท่านั้น");let r=await (0,P.P)();H?(await T.p.update(H,t,void 0,void 0,r),e.success("แก้ไขบัญชีสำเร็จ")):(await T.p.create(t,void 0,void 0,r),e.success("เพิ่มบัญชีสำเร็จ")),D(!1),U()}catch(r){if("object"==typeof r&&null!==r&&"errorFields"in r)return;let t=r instanceof Error?r.message:"บันทึกไม่สำเร็จ";e.error(t)}};return L?(0,n.jsx)(_.H,{message:"กำลังตรวจสอบสิทธิ์..."}):z?(0,n.jsxs)("div",{style:{...E,background:"#f8fafc",minHeight:"100vh",padding:"40px 24px"},children:[(0,n.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:40},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:24},children:[(0,n.jsx)(c.ZP,{type:"default",shape:"circle",icon:(0,n.jsx)(b.Z,{}),onClick:()=>t.back(),style:{width:48,height:48,border:"none",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)(A,{level:2,style:{margin:0,fontWeight:700,color:"#1e293b"},children:"จัดการพร้อมเพย์ (PromptPay)"}),(0,n.jsx)(O,{type:"secondary",style:{fontSize:16},children:"ตั้งค่าและจัดการรายการพร้อมเพย์ทั้งหมดของคุณ"})]})]}),(0,n.jsx)(c.ZP,{type:"primary",icon:(0,n.jsx)(j.Z,{}),onClick:G,size:"large",style:{borderRadius:12,height:52,padding:"0 28px",fontWeight:600,background:R.X1.primary,boxShadow:"0 4px 12px ".concat(R.X1.primary,"40")},children:"เพิ่มพร้อมเพย์ใหม่"})]}),Z?(0,n.jsx)("div",{style:{textAlign:"center",padding:"100px 0"},children:(0,n.jsx)(l.Z,{size:"large"})}):r.length>0?(0,n.jsx)(d.Z,{gutter:[24,24],children:r.map(e=>(0,n.jsx)(u.Z,{xs:24,md:12,lg:8,children:(0,n.jsxs)(f.Z,{hoverable:!0,variant:"borderless",style:{borderRadius:20,overflow:"hidden",boxShadow:e.is_active?"0 8px 24px ".concat(R.X1.primary,"15"):"0 4px 12px rgba(0,0,0,0.03)",border:e.is_active?"2px solid ".concat(R.X1.primary):"2px solid transparent",transition:"all 0.3s ease"},bodyStyle:{padding:24},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:20},children:[(0,n.jsx)("div",{style:{width:56,height:56,borderRadius:16,background:"#eb2f9610",display:"flex",justifyContent:"center",alignItems:"center",fontSize:28,color:"#eb2f96"},children:(0,n.jsx)(S.Z,{})}),e.is_active&&(0,n.jsxs)(h.Z,{color:"green",style:{borderRadius:8,margin:0,padding:"4px 12px",fontWeight:600,fontSize:13,border:"none"},children:[(0,n.jsx)(v.Z,{style:{marginRight:4}})," กำลังใช้งาน"]})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)(A,{level:4,style:{margin:"0 0 4px 0",fontSize:18,color:"#1e293b"},children:e.account_name}),(0,n.jsx)(O,{type:"secondary",style:{fontSize:14},children:"พร้อมเพย์ (PromptPay)"})]}),(0,n.jsx)("div",{style:{background:"#f8fafc",borderRadius:12,padding:"12px 16px",marginBottom:24,border:"1px solid #e2e8f0"},children:(0,n.jsx)(O,{strong:!0,style:{fontSize:20,letterSpacing:1.5,fontFamily:"monospace"},children:e.account_number})}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:12},children:[(0,n.jsx)(c.ZP,{icon:(0,n.jsx)(k.Z,{}),onClick:()=>X(e),style:{borderRadius:10,border:"1px solid #e2e8f0"},children:"จัดการ"}),!e.is_active&&(0,n.jsx)(p.Z,{title:"ยืนยันการลบ?",description:"คุณแน่ใจหรือไม่ว่าต้องการลบบัญชีนี้?",onConfirm:()=>W(e.id),okText:"ลบทิ้ง",cancelText:"ยกเลิก",okButtonProps:{danger:!0},children:(0,n.jsx)(c.ZP,{danger:!0,icon:(0,n.jsx)(w.Z,{}),style:{borderRadius:10}})})]})]})},e.id))}):(0,n.jsx)(f.Z,{style:{borderRadius:24,padding:"80px 0",textAlign:"center"},children:(0,n.jsx)(g.Z,{description:(0,n.jsx)(O,{type:"secondary",style:{fontSize:16},children:"ยังไม่มีข้อมูลบัญชีรับเงินในระบบ"}),image:g.Z.PRESENTED_IMAGE_SIMPLE,children:(0,n.jsx)(c.ZP,{type:"primary",size:"large",onClick:G,icon:(0,n.jsx)(j.Z,{}),style:{borderRadius:10,height:48,marginTop:16},children:"เริ่มต้นเพิ่มบัญชีแรก"})})})]}),(0,n.jsx)(x.Z,{title:H?"แก้ไขข้อมูลพร้อมเพย์":"เพิ่มพร้อมเพย์ใหม่",open:F,onOk:q,onCancel:()=>D(!1),okText:"บันทึกข้อมูล",cancelText:"ยกเลิก",okButtonProps:{size:"large",style:{borderRadius:8,background:R.X1.primary}},cancelButtonProps:{size:"large",style:{borderRadius:8}},width:500,children:(0,n.jsx)("div",{style:{paddingTop:12},children:(0,n.jsxs)(s.Z,{form:N,layout:"vertical",initialValues:{account_type:"PromptPay"},children:[(0,n.jsx)(s.Z.Item,{name:"account_type",hidden:!0,initialValue:"PromptPay",children:(0,n.jsx)(y.default,{})}),(0,n.jsx)(s.Z.Item,{name:"account_name",label:(0,n.jsx)(O,{strong:!0,children:"ชื่อบัญชี / เจ้าของพร้อมเพย์"}),rules:[{required:!0,message:"กรุณาระบุชื่อ"}],children:(0,n.jsx)(y.default,{size:"large",placeholder:"เช่น นายสมใจ ดีมาก",style:{borderRadius:8}})}),(0,n.jsx)(s.Z.Item,{name:"account_number",label:(0,n.jsx)(O,{strong:!0,children:"เบอร์พร้อมเพย์"}),rules:[{required:!0,message:"กรุณาระบุเลขพร้อมเพย์"},{pattern:/^\d{10}$/,message:"ต้องเป็นตัวเลข 10 หลักเท่านั้น"}],extra:"กรอกเบอร์โทรศัพท์พร้อมเพย์ (10 หลัก)",children:(0,n.jsx)(y.default,{size:"large",placeholder:"08xxxxxxxx",style:{borderRadius:8},maxLength:10,onChange:e=>{let t=e.target.value.replace(/\D/g,"").slice(0,10);N.setFieldValue("account_number",t)}})}),(0,n.jsx)(m.Z,{plain:!0,style:{fontSize:13,color:"#999"},children:"ข้อมูลติดต่อเพิ่มเติม (ถ้ามี)"}),(0,n.jsx)(s.Z.Item,{name:"phone",label:(0,n.jsx)(O,{strong:!0,children:"เบอร์โทรศัพท์ร้าน"}),rules:[{pattern:/^\d{10}$/,message:"ต้องเป็นตัวเลข 10 หลักเท่านั้น"}],children:(0,n.jsx)(y.default,{size:"large",placeholder:"08xxxxxxxx",style:{borderRadius:8},maxLength:10,onChange:e=>{let t=e.target.value.replace(/\D/g,"").slice(0,10);N.setFieldValue("phone",t)}})}),(0,n.jsx)(s.Z.Item,{name:"address",label:(0,n.jsx)(O,{strong:!0,children:"ที่อยู่ร้าน"}),children:(0,n.jsx)(y.default.TextArea,{rows:2,placeholder:"ระบุที่อยู่สำหรับบัญชีนี้",style:{borderRadius:8}})})]})})})]}):(0,n.jsx)(_.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้",tone:"danger"})}},2938:function(e,t,r){"use strict";r.d(t,{H:function(){return s}});var n=r(57437);r(2265);var a=r(82646),o=r(48651);let{Text:i}=a.default,s=e=>{let{message:t,tone:r="secondary"}=e;return(0,n.jsxs)("div",{style:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:16},children:[(0,n.jsx)(o.Z,{size:"large"}),(0,n.jsx)(i,{type:r,children:t})]})}},71567:function(e,t,r){"use strict";r.d(t,{q:function(){return a},v:function(){return n}});let n="/api",a={AUTH:{LOGIN:"/auth/login",ME:"/auth/me",CSRF:"/csrf"},POS:{PRODUCTS:"/pos/products",ORDERS:"/pos/orders",TABLES:"/pos/tables",DISCOUNTS:"/pos/discounts",DELIVERY:"/pos/delivery",PAYMENT_METHODS:"/pos/paymentMethod",PAYMENTS:"/pos/payments",CATEGORY:"/pos/category",SHIFTS:{BASE:"/pos/shifts",CURRENT:"/pos/shifts/current",OPEN:"/pos/shifts/open",CLOSE:"/pos/shifts/close"},DASHBOARD:{SALES:"/pos/dashboard/sales",TOP_ITEMS:"/pos/dashboard/top-items"},CHANNELS:{STATS:"/pos/orders/stats"},SHOP_PROFILE:"/pos/shopProfile",SALES_ORDER_ITEMS:"/pos/salesOrderItem",SALES_ORDER_DETAILS:"/pos/salesOrderDetail",PRODUCTS_UNIT:"/pos/productsUnit",PAYMENT_DETAILS:"/pos/paymentDetails",BRANCH:"/branches"}}},14362:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return u},a:function(){return f}});var n=r(57437),a=r(2265),o=r(99376),i=r(5447),s=r(84859),c=r(48651),l=r(3369);let d=(0,a.createContext)(void 0),u=e=>{let{children:t}=e,[r,u]=(0,a.useState)(null),[f,h]=(0,a.useState)(!0),p=(0,o.useRouter)(),g=(0,o.usePathname)(),x=async()=>{try{let e="";e=localStorage.getItem("token_ws")||"";let t=await i.O.getMe(e);u(t)}catch(e){u(null)}finally{h(!1)}};(0,a.useEffect)(()=>{x()},[]);let{showLoading:y,hideLoading:m}=(0,l.x)();(0,a.useEffect)(()=>{f||r||"/login"===g||p.push("/login")},[r,f,g,p]);let b=async e=>{try{y("กำลังเข้าสู่ระบบ...");let t=await i.O.getCsrfToken(),{token:r,...n}=await i.O.login(e,t);r&&localStorage.setItem("token_ws",r),u(n),p.push("/")}catch(e){throw e}finally{m()}},j=async()=>{try{y("กำลังออกจากระบบ...");let e="";e=localStorage.getItem("token_ws")||"",await i.O.logout(e),localStorage.removeItem("token_ws"),s.x.clearQueue(),u(null),p.push("/login")}catch(e){console.error("Logout error:",e)}finally{m()}};return f?(0,n.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-white",children:(0,n.jsx)(c.Z,{size:"large"})}):r||"/login"===g?(0,n.jsx)(d.Provider,{value:{user:r,loading:f,login:b,logout:j,checkAuth:x},children:t}):null},f=()=>{let e=(0,a.useContext)(d);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},3369:function(e,t,r){"use strict";r.d(t,{GlobalLoadingProvider:function(){return c},O:function(){return d},x:function(){return l}});var n=r(57437),a=r(2265),o=r(48651);let i=(0,a.createContext)(void 0),s=(0,a.createContext)(void 0),c=e=>{let{children:t}=e,[r,c]=(0,a.useState)({}),[l,d]=(0,a.useState)(void 0),u=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";c(e=>({...e,[t]:(e[t]||0)+1})),e&&d(e)},[]),f=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";c(t=>{if(!t[e])return t;let r={...t};return r[e]-=1,r[e]<=0&&delete r[e],r})},[]),h=(0,a.useCallback)(()=>{c({}),d(void 0)},[]),p=Object.keys(r).length>0,g=(0,a.useMemo)(()=>({isLoading:p,loadingMessage:l}),[p,l]),x=(0,a.useMemo)(()=>({showLoading:u,hideLoading:f,resetLoading:h}),[u,f,h]);return(0,n.jsx)(s.Provider,{value:x,children:(0,n.jsxs)(i.Provider,{value:g,children:[t,p&&(0,n.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto bg-black/10 backdrop-blur-[1px]",children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,background:"rgba(255, 255, 255, 0.9)",padding:"20px 40px",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,n.jsx)(o.Z,{size:"large"}),l&&(0,n.jsx)("div",{style:{fontSize:14,color:"#1f1f1f",fontWeight:500},children:l})]})})]})})};function l(){let e=(0,a.useContext)(i),t=(0,a.useContext)(s);if(!e||!t)throw Error("useGlobalLoading must be used within a GlobalLoadingProvider");return(0,a.useMemo)(()=>({...e,...t}),[e,t])}function d(){let e=(0,a.useContext)(s);if(!e)throw Error("useGlobalLoadingDispatch must be used within a GlobalLoadingProvider");return e}},2913:function(e,t,r){"use strict";function n(e,t){return({GET:"".concat(a.API_BASE_URL).concat(t),POST:"".concat(a.API_BASE_URL).concat(t),PUT:"".concat(a.API_BASE_URL).concat(t),DELETE:"".concat(a.API_BASE_URL).concat(t),PATCH:"".concat(a.API_BASE_URL).concat(t)})[e]}r.d(t,{b:function(){return n}});let a={get API_BASE_URL(){return"/api"}}},5447:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});var n=r(71567),a=r(2913);let o={login:async(e,t,r)=>{try{let o=(0,a.b)("POST",n.q.AUTH.LOGIN),i={"Content-Type":"application/json"};t&&(i["X-CSRF-Token"]=t),r&&(i.Cookie=r);let s=await fetch(o,{method:"POST",headers:i,credentials:"include",body:JSON.stringify(e)});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.message||e.detail||"เข้าสู่ระบบไม่สำเร็จ")}let c=await s.json();return{...c.user,token:c.token}}catch(e){throw Error(e.message||"เข้าสู่ระบบไม่สำเร็จ")}},logout:async(e,t,r)=>{try{let n=(0,a.b)("POST","/auth/logout"),o={"Content-Type":"application/json"};e&&(o.Authorization="Bearer ".concat(e)),t&&(o["X-CSRF-Token"]=t),r&&(o.Cookie=r),await fetch(n,{method:"POST",headers:o,credentials:"include"})}catch(e){console.error("Logout failed",e)}},getMe:async e=>{try{let t=(0,a.b)("GET",n.q.AUTH.ME),r=await fetch(t,{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},credentials:"include",cache:"no-store"});if(!r.ok)throw Error("Unauthorized");return await r.json()}catch(e){throw e}},async getCsrfToken(){try{let e=await fetch("".concat(n.v).concat(n.q.AUTH.CSRF),{credentials:"include"});if(!e.ok)return"";return(await e.json()).csrfToken}catch(e){return console.error("Failed to fetch CSRF token",e),""}}}},84859:function(e,t,r){"use strict";r.d(t,{M:function(){return s},x:function(){return i}});let n="pos_offline_queue",a=()=>{let e=localStorage.getItem(n);return e?JSON.parse(e):[]},o=e=>{localStorage.setItem(n,JSON.stringify(e))},i={addToQueue:(e,t)=>{let r=a(),n={id:"offline-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:e,payload:t,timestamp:Date.now(),retryCount:0};return o([...r,n]),n},getQueue:()=>a(),removeFromQueue:e=>{o(a().filter(t=>t.id!==e))},incrementRetry:(e,t)=>{o(a().map(r=>r.id===e?{...r,retryCount:r.retryCount+1,lastError:t}:r))},clearQueue:()=>{localStorage.removeItem(n)},pruneExceeded:()=>{o(a().filter(e=>e.retryCount<=5))}},s={maxRetry:5,backoff:e=>Math.min(3e4,2e3*e)}},92525:function(e,t,r){"use strict";r.d(t,{p:function(){return o}});var n=r(2913);let a="/pos/payment-accounts",o={getBasePath:e=>{let t=(0,n.b)("GET","".concat(a,"/accounts"));return e?"".concat(t,"?shopId=").concat(e):t},getByShopId:async(e,t)=>{let r=(0,n.b)("GET","".concat(a,"/accounts"));e&&(r+="?shopId=".concat(e));let o={};t&&(o.Cookie=t);let i=await fetch(r,{cache:"no-store",credentials:"include",headers:o});if(!i.ok){let e=await i.json().catch(()=>({})),t=Error(e.error||e.message||"Failed to fetch accounts");throw t.status=i.status,t}return i.json()},create:async(e,t,r,o)=>{let i=(0,n.b)("POST","".concat(a,"/accounts"));t&&(i+="?shopId=".concat(t));let s={"Content-Type":"application/json"};r&&(s.Cookie=r),o&&(s["X-CSRF-Token"]=o);let c=await fetch(i,{method:"POST",headers:s,body:JSON.stringify(e),credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({})),t=Error(e.error||e.message||"Failed to create account");throw t.status=c.status,t}return c.json()},update:async(e,t,r,o,i)=>{let s=(0,n.b)("PUT","".concat(a,"/accounts/").concat(e));r&&(s+="?shopId=".concat(r));let c={"Content-Type":"application/json"};o&&(c.Cookie=o),i&&(c["X-CSRF-Token"]=i);let l=await fetch(s,{method:"PUT",headers:c,body:JSON.stringify(t),credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({})),t=Error(e.error||e.message||"Failed to update account");throw t.status=l.status,t}return l.json()},activate:async(e,t,r,o)=>{let i=(0,n.b)("PATCH","".concat(a,"/accounts/").concat(e,"/activate"));t&&(i+="?shopId=".concat(t));let s={"Content-Type":"application/json"};r&&(s.Cookie=r),o&&(s["X-CSRF-Token"]=o);let c=await fetch(i,{method:"PATCH",headers:s,body:JSON.stringify({}),credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({})),t=Error(e.error||e.message||"Failed to activate account");throw t.status=c.status,t}return c.json()},delete:async(e,t,r,o)=>{let i=(0,n.b)("DELETE","".concat(a,"/accounts/").concat(e));t&&(i+="?shopId=".concat(t));let s={};r&&(s.Cookie=r),o&&(s["X-CSRF-Token"]=o);let c=await fetch(i,{method:"DELETE",headers:s,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({})),t=Error(e.error||e.message||"Failed to delete account");throw t.status=c.status,t}}}},44225:function(e,t,r){"use strict";r.d(t,{Np:function(){return o},X1:function(){return n},ax:function(){return i},hS:function(){return a}});let n={primary:"#1890ff",secondary:"#13c2c2",success:"#52c41a",warning:"#faad14",error:"#ff4d4f",background:"#f5f5f5",cardBg:"#ffffff",text:"#262626",textSecondary:"#8c8c8c",border:"#f0f0f0",id_dineIn:"#1890ff",id_takeaway:"#52c41a",id_delivery:"#722ed1",kitchen:"#ff6b35",shift:"#10b981",kitchenBg:"#0f172a",kitchenCard:"rgba(30, 41, 59, 0.7)",kitchenBorder:"rgba(255, 255, 255, 0.1)"},a={dineIn:{primary:"#1890ff",light:"#e6f7ff",border:"#91d5ff",gradient:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)"},takeaway:{primary:"#52c41a",light:"#f6ffed",border:"#b7eb8f",gradient:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)"},delivery:{primary:"#722ed1",light:"#f9f0ff",border:"#d3adf7",gradient:"linear-gradient(135deg, #722ed1 0%, #9254de 100%)"}},o={container:{minHeight:"100vh",background:n.background,fontFamily:"'Inter', 'Sarabun', sans-serif"},heroParams:{background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",padding:"32px 24px 70px",position:"relative",borderBottomLeftRadius:24,borderBottomRightRadius:24,boxShadow:"0 8px 24px rgba(24, 144, 255, 0.25)",marginBottom:-40,zIndex:1,overflow:"hidden"},kitchenContainer:{minHeight:"100vh",background:"#0f172a",padding:"24px 24px 100px",color:"#f8fafc",fontFamily:"'Inter', 'Sarabun', sans-serif"},kitchenGlassCard:{background:"rgba(30, 41, 59, 0.7)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:20,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",overflow:"hidden"},kitchenHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,flexWrap:"wrap",gap:16},shiftHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},sectionTitle:{display:"flex",alignItems:"center",gap:12,marginBottom:20,color:"#fff"},contentWrapper:{maxWidth:1400,margin:"-40px auto 30px",padding:"0 24px",position:"relative",zIndex:20},card:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.05)",border:"none",overflow:"hidden",background:n.cardBg},itemCard:{marginBottom:8,borderRadius:8,transition:"all 0.3s ease"}},i={available:{primary:"#52c41a",light:"#f6ffed",border:"#b7eb8f",gradient:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)"},occupied:{primary:"#fa8c16",light:"#fff7e6",border:"#ffd591",gradient:"linear-gradient(135deg, #fa8c16 0%, #ffa940 100%)"},inactive:{primary:"#8c8c8c",light:"#fafafa",border:"#d9d9d9",gradient:"linear-gradient(135deg, #8c8c8c 0%, #bfbfbf 100%)"},waitingForPayment:{primary:"#1890ff",light:"#e6f7ff",border:"#91d5ff",gradient:"linear-gradient(135deg, #1890ff 0%, #40a9ff 100%)"}}},3286:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});var n=r(2265),a=r(34029),o=r(99376),i=r(14362);function s(){let{requiredRole:e="Admin",redirectUnauthenticated:t="/login",redirectUnauthorized:r="/pos",unauthorizedMessage:s="คุณไม่มีสิทธิ์เข้าถึงหน้านี้"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=(0,o.useRouter)(),{user:l,loading:d}=(0,i.a)(),u=(0,n.useMemo)(()=>d?"checking":l?e&&l.role!==e?"unauthorized":"authorized":"unauthenticated",[l,d,e]),f=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if("unauthenticated"===u){c.replace(t);return}"unauthorized"===u&&(f.current||(f.current=!0,a.ZP.error(s)),c.replace(r))},[u,c,t,r,s]),{status:u,isAuthorized:"authorized"===u,isChecking:"checking"===u,user:l}}},97235:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(5447);let a=null,o=0,i=null;async function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Date.now();return!e&&a&&t-o<6e5?a:(i||(i=n.O.getCsrfToken().then(e=>(a=e||"",o=Date.now(),a)).finally(()=>{i=null})),i)}}},function(e){e.O(0,[5015,7717,7698,742,3211,7993,8651,2646,6207,7213,9021,2224,3248,9,5616,8589,8640,6931,4967,2239,4200,7521,2971,2117,1744],function(){return e(e.s=80240)}),_N_E=e.O()}]);