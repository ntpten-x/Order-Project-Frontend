(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1694],{66630:function(e,t,r){Promise.resolve().then(r.bind(r,49190))},49190:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return U}});var a=r(57437),n=r(2265),i=r(39486),o=r(50337),d=r(38616),s=r(34029),c=r(24783),l=r(50742),u=r(80009),p=r(88589),g=r(24725),h=r(96931),f=r(55322),x=r(89245),m=r(13377),y=r(96473),b=r(86955),v=r(83669),k=r(82618),F=r(29436),j=r(99376),B=r(92525),C=r(97235),w=r(24675),E=r(67697),S=r(67918),Z=r(2938),I=r(25193),R=r(37410),D=r(27623),_=r(20148),P=r(2786),T=r(12028),A=r(44225);let z={container:{minHeight:"100vh",background:A.X1.background,fontFamily:"var(--font-sans), 'Sarabun', sans-serif",paddingBottom:60},heroParams:{background:"linear-gradient(145deg, ".concat(A.X1.primary," 0%, ").concat(A.X1.primaryDark," 100%)"),padding:"20px 20px 60px",position:"relative",borderBottomLeftRadius:24,borderBottomRightRadius:24,boxShadow:"0 8px 24px rgba(99, 102, 241, 0.2)",zIndex:1,overflow:"hidden"},heroDecoCircle1:{position:"absolute",top:-60,right:-60,width:160,height:160,borderRadius:"50%",background:"rgba(255,255,255,0.08)"},heroDecoCircle2:{position:"absolute",bottom:-40,left:-40,width:120,height:120,borderRadius:"50%",background:"rgba(255,255,255,0.06)"},headerContent:{maxWidth:1e3,margin:"0 auto",position:"relative",zIndex:10},headerRow:{display:"flex",alignItems:"center",gap:16},backButton:{width:44,height:44,borderRadius:14,background:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},headerIconBox:{width:56,height:56,borderRadius:16,background:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},sectionTitle:{display:"flex",alignItems:"center",gap:12,marginBottom:20,color:"#fff"},contentWrapper:{maxWidth:700,margin:"-40px auto 30px",padding:"0 20px",position:"relative",zIndex:20},card:{borderRadius:20,boxShadow:"0 4px 20px rgba(0,0,0,0.06)",border:"none"},activeAccountCard:{background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",border:"1px solid #a7f3d0",borderRadius:16,padding:"20px",marginBottom:24},addButton:{borderRadius:14,height:52,fontSize:16,fontWeight:600,background:"#fff",border:"2px dashed ".concat(A.X1.primary),color:A.X1.primary,transition:"all 0.2s ease"},dividerTitle:{fontSize:16,fontWeight:600},accountSelector:{border:"1px solid #e2e8f0",borderRadius:14,padding:"14px 18px",cursor:"pointer",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:56,transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.02)"},accountSelectorHover:{borderColor:A.X1.primary,boxShadow:"0 0 0 3px ".concat(A.X1.primaryLight)},modalAccountItem:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:14,cursor:"pointer",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease"},modalAccountItemActive:{border:"2px solid #10b981",background:"#ecfdf5"},accountIconBox:{width:44,height:44,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center"}},{Text:L}=i.default,O=(e,t)=>{let r=null==e?void 0:e.status,a=null==e?void 0:e.code,n=(null==e?void 0:e.message)||"",i=n.toLowerCase();return"DUPLICATE_ENTRY"===a||i.includes("duplicate")||i.includes("already exists")?i.includes("active")?"มีบัญชีหลักอยู่แล้ว กรุณาเปลี่ยนบัญชีหลักจากรายการ":"เลขพร้อมเพย์นี้ถูกใช้งานแล้ว กรุณาตรวจสอบและลองใหม่":409===r&&"DATABASE_ERROR"===a?"เกิดข้อผิดพลาดฐานข้อมูลจากฝั่งเซิร์ฟเวอร์ (ไม่ใช่เลขซ้ำ) กรุณาลองใหม่หรือตรวจสอบ backend":409===r?n||"เกิดข้อขัดแย้งของข้อมูล กรุณารีเฟรชแล้วลองใหม่":400===r?n||"ข้อมูลไม่ถูกต้อง กรุณาตรวจสอบอีกครั้ง":403===r?"สิทธิ์ไม่เพียงพอ หรือ CSRF token หมดอายุ กรุณารีเฟรชหน้าแล้วลองใหม่":404===r?"ไม่พบบัญชีที่ต้องการใช้งาน":n||t};function W(e){let{label:t,value:r,color:n}=e;return(0,a.jsxs)("div",{style:{borderRadius:14,border:"1px solid #e2e8f0",background:"#fff",padding:12,textAlign:"center"},children:[(0,a.jsx)("div",{style:{fontSize:24,fontWeight:700,color:n},children:r}),(0,a.jsx)(L,{type:"secondary",style:{fontSize:12},children:t})]})}function H(e){let{compact:t=!1}=e;return(0,a.jsxs)("div",{style:{display:"grid",gap:t?8:12},children:[(0,a.jsx)(o.Z.Input,{active:!0,block:!0,style:{height:t?30:36}}),(0,a.jsx)(o.Z.Input,{active:!0,block:!0,style:{height:t?30:36}}),(0,a.jsx)(o.Z.Button,{active:!0,block:!0,style:{height:t?40:44}})]})}function U(){let e=(0,j.useRouter)(),{socket:t}=(0,w.s)(),r=!d.default.useBreakpoint().md,{isAuthorized:i,isChecking:A}=(0,S.e)({allowedRoles:["Admin","Manager"]}),[U,M]=(0,n.useState)(!0),[X,N]=(0,n.useState)(!1),[G,J]=(0,n.useState)([]),[q,Q]=(0,n.useState)(null),[Y,K]=(0,n.useState)(""),[V,$]=(0,n.useState)("all"),ee=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?N(!0):M(!0);let t=await B.p.getByShopId();J(t)}catch(e){console.error(e),s.ZP.error(O(e,"ไม่สามารถดึงข้อมูลบัญชีพร้อมเพย์ได้"))}finally{e?N(!1):M(!1)}},[]);(0,n.useEffect)(()=>{ee()},[ee]),(0,E.D)({socket:t,events:[T.b.paymentAccounts.create,T.b.paymentAccounts.update,T.b.paymentAccounts.delete],onRefresh:()=>ee(!0),intervalMs:3e4});let et=(0,n.useMemo)(()=>G.filter(e=>"PromptPay"===e.account_type),[G]),er=(0,n.useMemo)(()=>et.find(e=>e.is_active)||null,[et]),ea=(0,n.useMemo)(()=>{let e=et.length,t=et.filter(e=>e.is_active).length;return{total:e,active:t,inactive:e-t}},[et]),en=(0,n.useMemo)(()=>{let e=et;"active"===V?e=e.filter(e=>e.is_active):"inactive"===V&&(e=e.filter(e=>!e.is_active));let t=Y.trim().toLowerCase();return t&&(e=e.filter(e=>e.account_name.toLowerCase().includes(t)||e.account_number.toLowerCase().includes(t))),e},[et,V,Y]),ei=async(e,t)=>{Q(e);try{let r=await (0,C.P)();await B.p.activate(e,void 0,void 0,r),s.ZP.success('ตั้ง "'.concat(t,'" เป็นบัญชีหลักสำเร็จ')),await ee(!0)}catch(e){console.error(e),s.ZP.error(O(e,"ไม่สามารถเปลี่ยนบัญชีหลักได้"))}finally{Q(null)}};return A?(0,a.jsx)(Z.H,{message:"กำลังตรวจสอบสิทธิ์..."}):i?(0,a.jsxs)("div",{style:z.container,children:[(0,a.jsx)(_.Z,{title:"ตั้งค่าบัญชีพร้อมเพย์",subtitle:"กำหนดบัญชีหลักและจัดการช่องทางรับชำระด้วยพร้อมเพย์",icon:(0,a.jsx)(f.Z,{}),onBack:()=>e.back(),actions:(0,a.jsxs)(c.Z,{size:8,wrap:!0,children:[(0,a.jsx)(l.ZP,{icon:(0,a.jsx)(x.Z,{}),onClick:()=>ee(!1),loading:X||U}),(0,a.jsx)(l.ZP,{icon:(0,a.jsx)(m.Z,{}),onClick:()=>e.push("/pos/settings/payment-accounts/manage"),children:"จัดการทั้งหมด"}),(0,a.jsx)(l.ZP,{type:"primary",icon:(0,a.jsx)(y.Z,{}),onClick:()=>e.push("/pos/settings/payment-accounts/add"),children:"เพิ่มพร้อมเพย์"})]})}),(0,a.jsx)(I.Z,{maxWidth:1040,children:(0,a.jsxs)(D.Z,{children:[(0,a.jsx)(R.Z,{title:"ภาพรวมบัญชีพร้อมเพย์",children:U?(0,a.jsx)(H,{compact:r}):(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:r?"repeat(2, minmax(0, 1fr))":"repeat(3, minmax(0, 1fr))",gap:r?8:10},children:[(0,a.jsx)(W,{label:"ทั้งหมด",value:ea.total,color:"#1e293b"}),(0,a.jsx)(W,{label:"บัญชีหลัก",value:ea.active,color:"#16a34a"}),(0,a.jsx)(W,{label:"ไม่ใช้งาน",value:ea.inactive,color:"#b91c1c"})]})}),(0,a.jsx)(R.Z,{title:"บัญชีหลักปัจจุบัน",children:U?(0,a.jsx)(H,{compact:r}):er?(0,a.jsxs)("div",{style:{borderRadius:14,border:"1px solid #bbf7d0",background:"#f0fdf4",padding:r?10:14,display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,minWidth:0},children:[(0,a.jsx)("div",{style:{width:r?38:44,height:r?38:44,borderRadius:10,background:"#fdf2f8",color:"#db2777",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(b.Z,{})}),(0,a.jsxs)("div",{style:{minWidth:0},children:[(0,a.jsx)(L,{strong:!0,style:{display:"block"},children:er.account_name}),(0,a.jsx)(L,{type:"secondary",style:{fontSize:12},children:er.account_number}),(0,a.jsxs)("div",{style:{marginTop:6,display:"flex",alignItems:"center",gap:6},children:[(0,a.jsxs)(u.Z,{color:"green",style:{margin:0,borderRadius:6},children:[(0,a.jsx)(v.Z,{})," บัญชีหลัก"]}),(0,a.jsx)(u.Z,{style:{margin:0,borderRadius:6},children:"พร้อมเพย์"})]})]})]}),(0,a.jsx)(l.ZP,{icon:(0,a.jsx)(k.Z,{}),onClick:()=>e.push("/pos/settings/payment-accounts/manage"),children:"เปลี่ยนบัญชีหลัก"})]}):(0,a.jsx)(P.Z,{title:"ยังไม่มีบัญชีพร้อมเพย์หลัก",description:"เพิ่มบัญชีพร้อมเพย์แรกเพื่อเริ่มใช้งานการรับชำระ",action:(0,a.jsx)(l.ZP,{type:"primary",icon:(0,a.jsx)(y.Z,{}),onClick:()=>e.push("/pos/settings/payment-accounts/add"),children:"เพิ่มบัญชีแรก"})})}),(0,a.jsx)(R.Z,{title:"ค้นหาและตัวกรอง",children:U?(0,a.jsx)(H,{compact:r}):(0,a.jsxs)("div",{style:{display:"grid",gap:r?8:10},children:[(0,a.jsx)(p.default,{size:r?"middle":"large",prefix:(0,a.jsx)(F.Z,{style:{color:"#94a3b8"}}),placeholder:"ค้นหาจากชื่อบัญชี หรือเลขพร้อมเพย์...",allowClear:!0,value:Y,onChange:e=>K(e.target.value)}),(0,a.jsx)(g.Z,{options:[{label:"ทั้งหมด (".concat(et.length,")"),value:"all"},{label:"ใช้งาน (".concat(ea.active,")"),value:"active"},{label:"ไม่ใช้งาน (".concat(ea.inactive,")"),value:"inactive"}],block:r,size:r?"small":"middle",value:V,onChange:e=>$(e)})]})}),(0,a.jsx)(R.Z,{title:"รายการบัญชีพร้อมเพย์",extra:(0,a.jsx)("span",{style:{fontWeight:600},children:en.length}),children:U?(0,a.jsx)("div",{style:{display:"grid",gap:r?8:10},children:Array.from({length:3}).map((e,t)=>(0,a.jsx)(h.Z,{size:"small",style:{borderRadius:12},children:(0,a.jsx)(o.Z,{active:!0,paragraph:{rows:1},title:{width:"60%"}})},t))}):en.length>0?(0,a.jsx)("div",{style:{display:"grid",gap:r?8:10},children:en.map(t=>(0,a.jsxs)("div",{style:{borderRadius:14,border:"1px solid ".concat(t.is_active?"#86efac":"#e2e8f0"),background:t.is_active?"#f0fdf4":"#fff",padding:r?10:12,display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,minWidth:0},children:[(0,a.jsx)("div",{style:{width:r?34:38,height:r?34:38,borderRadius:10,background:"#fdf2f8",color:"#db2777",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(b.Z,{})}),(0,a.jsxs)("div",{style:{minWidth:0},children:[(0,a.jsx)(L,{strong:!0,style:{display:"block"},children:t.account_name}),(0,a.jsx)(L,{type:"secondary",style:{fontSize:12},children:t.account_number})]})]}),(0,a.jsxs)(c.Z,{size:8,wrap:!0,children:[(0,a.jsx)(u.Z,{color:t.is_active?"green":"default",style:{borderRadius:6,margin:0},children:t.is_active?"บัญชีหลัก":"พร้อมเพย์"}),t.is_active?null:(0,a.jsx)(l.ZP,{type:"primary",size:"small",loading:q===t.id,onClick:()=>ei(t.id,t.account_name),children:"ตั้งเป็นบัญชีหลัก"}),(0,a.jsx)(l.ZP,{size:"small",onClick:()=>e.push("/pos/settings/payment-accounts/edit/".concat(t.id)),children:"แก้ไข"})]})]},t.id))}):(0,a.jsx)(P.Z,{title:Y.trim()?"ไม่พบบัญชีตามคำค้น":"ยังไม่มีบัญชีพร้อมเพย์",description:Y.trim()?"ลองเปลี่ยนคำค้นหาหรือตัวกรอง":"เพิ่มบัญชีพร้อมเพย์เพื่อเริ่มใช้งานการชำระเงิน",action:Y.trim()?null:(0,a.jsx)(l.ZP,{type:"primary",icon:(0,a.jsx)(y.Z,{}),onClick:()=>e.push("/pos/settings/payment-accounts/add"),children:"เพิ่มบัญชีพร้อมเพย์"})})})]})})]}):(0,a.jsx)(Z.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้",tone:"danger"})}},27623:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(57437);r(2265);var n=r(10868),i=r(87530);function o(e){let{children:t,gap:r=i.H.sectionGap,style:o}=e;return(0,a.jsx)(n.Z,{vertical:!0,gap:r,style:o,children:t})}},2786:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(57437);r(2265);var n=r(96931),i=r(85180),o=r(39486),d=r(87530);function s(e){let{title:t="ไม่มีข้อมูล",description:r,action:s,image:c}=e;return(0,a.jsx)(n.Z,{size:"small",variant:"outlined",style:{borderRadius:d.H.cardRadiusLG},bodyStyle:{padding:20},children:(0,a.jsx)(i.Z,{image:c,description:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,a.jsx)(o.default.Text,{strong:!0,children:t}),r?(0,a.jsx)(o.default.Text,{type:"secondary",children:r}):null]}),children:s})})}},46252:function(e,t,r){"use strict";r.d(t,{J:function(){return s},SocketProvider:function(){return c}});var a=r(57437),n=r(2265),i=r(68680),o=r(34029),d=r(14362);let s=(0,n.createContext)({socket:null,isConnected:!1}),c=e=>{let{children:t}=e,[r,c]=(0,n.useState)(null),[l,u]=(0,n.useState)(!1),p=(0,n.useRef)(!1),{user:g}=(0,d.a)();return(0,n.useEffect)(()=>{var e;if(!g){r&&(r.disconnect(),c(null),u(!1));return}let t=(null===(e=g.branch)||void 0===e?void 0:e.id)||g.branch_id||null,a=(0,i.io)("http://localhost:3000",{transports:["websocket"],withCredentials:!0,auth:{userId:g.id,branchId:t},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:800,reconnectionDelayMax:8e3});return a.on("connect",()=>{console.log("Socket Connected:",a.id),u(!0),p.current=!1,o.ZP.success({content:"เชื่อมต่อเรียลไทม์แล้ว",key:"socket-status",duration:1.5})}),a.on("disconnect",()=>{console.log("Socket Disconnected"),u(!1),p.current||(p.current=!0,o.ZP.warning({content:"การเชื่อมต่อเรียลไทม์หลุด กำลังพยายามเชื่อมต่อใหม่...",key:"socket-status",duration:2}))}),a.io.on("reconnect_attempt",e=>{console.log("Socket reconnect attempt",e),u(!1)}),a.io.on("reconnect_failed",()=>{console.log("Socket reconnect failed"),o.ZP.error({content:"เชื่อมต่อเรียลไทม์ไม่สำเร็จ",key:"socket-status",duration:2})}),c(a),()=>{a.disconnect()}},[null==g?void 0:g.id]),(0,a.jsx)(s.Provider,{value:{socket:r,isConnected:l},children:t})}},24675:function(e,t,r){"use strict";r.d(t,{s:function(){return i}});var a=r(2265),n=r(46252);let i=()=>(0,a.useContext)(n.J)},92525:function(e,t,r){"use strict";r.d(t,{p:function(){return d}});var a=r(2913),n=r(98170);let i="/pos/payment-accounts",o=e=>{var t;if(e&&"object"==typeof e)return null===(t=e.error)||void 0===t?void 0:t.code},d={getBasePath:e=>{let t=(0,a.b)("GET","".concat(i,"/accounts"));return e?"".concat(t,"?shopId=").concat(e):t},getByShopId:async(e,t)=>{let r=(0,a.b)("GET","".concat(i,"/accounts"));e&&(r+="?shopId=".concat(e));let d={};t&&(d.Cookie=t);let s=await fetch(r,{cache:"no-store",credentials:"include",headers:d});if(!s.ok){let e=await s.json().catch(()=>({})),t=Error((0,n.i_)(e,"Failed to fetch accounts"));throw t.status=s.status,t.code=o(e),t}return(0,n.hH)(await s.json())},create:async(e,t,r,d)=>{let s=(0,a.b)("POST","".concat(i,"/accounts"));t&&(s+="?shopId=".concat(t));let c={"Content-Type":"application/json"};r&&(c.Cookie=r),d&&(c["X-CSRF-Token"]=d);let l=await fetch(s,{method:"POST",headers:c,body:JSON.stringify(e),credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({})),t=Error((0,n.i_)(e,"Failed to create account"));throw t.status=l.status,t.code=o(e),t}return(0,n.hH)(await l.json())},update:async(e,t,r,d,s)=>{let c=(0,a.b)("PUT","".concat(i,"/accounts/").concat(e));r&&(c+="?shopId=".concat(r));let l={"Content-Type":"application/json"};d&&(l.Cookie=d),s&&(l["X-CSRF-Token"]=s);let u=await fetch(c,{method:"PUT",headers:l,body:JSON.stringify(t),credentials:"include"});if(!u.ok){let e=await u.json().catch(()=>({})),t=Error((0,n.i_)(e,"Failed to update account"));throw t.status=u.status,t.code=o(e),t}return(0,n.hH)(await u.json())},activate:async(e,t,r,d)=>{let s=(0,a.b)("PATCH","".concat(i,"/accounts/").concat(e,"/activate"));t&&(s+="?shopId=".concat(t));let c={"Content-Type":"application/json"};r&&(c.Cookie=r),d&&(c["X-CSRF-Token"]=d);let l=await fetch(s,{method:"PATCH",headers:c,body:JSON.stringify({}),credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({})),t=Error((0,n.i_)(e,"Failed to activate account"));throw t.status=l.status,t.code=o(e),t}return(0,n.hH)(await l.json())},delete:async(e,t,r,d)=>{let s=(0,a.b)("DELETE","".concat(i,"/accounts/").concat(e));t&&(s+="?shopId=".concat(t));let c={};r&&(c.Cookie=r),d&&(c["X-CSRF-Token"]=d);let l=await fetch(s,{method:"DELETE",headers:c,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({})),t=Error((0,n.i_)(e,"Failed to delete account"));throw t.status=l.status,t.code=o(e),t}}}},44225:function(e,t,r){"use strict";r.d(t,{Np:function(){return o},X1:function(){return a},ax:function(){return i},hS:function(){return n}});let a={primary:"#6366F1",primaryLight:"#EEF2FF",primaryDark:"#4F46E5",success:"#10B981",successLight:"#ECFDF5",warning:"#F59E0B",warningLight:"#FFFBEB",error:"#EF4444",errorLight:"#FEF2F2",info:"#3B82F6",infoLight:"#EFF6FF",background:"#F8FAFC",cardBg:"#FFFFFF",border:"#E2E8F0",borderLight:"#F1F5F9",text:"#1E293B",textSecondary:"#64748B",textMuted:"#94A3B8",textInverse:"#FFFFFF",dineIn:"#3B82F6",takeaway:"#10B981",delivery:"#8B5CF6",kitchen:"#F97316",shift:"#10B981",kitchenBg:"#0F172A",kitchenCard:"rgba(30, 41, 59, 0.8)",kitchenBorder:"rgba(255, 255, 255, 0.1)"},n={dineIn:{primary:"#3B82F6",light:"#EFF6FF",border:"#BFDBFE",gradient:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",iconBg:"rgba(59, 130, 246, 0.1)"},takeaway:{primary:"#10B981",light:"#ECFDF5",border:"#A7F3D0",gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",iconBg:"rgba(16, 185, 129, 0.1)"},delivery:{primary:"#8B5CF6",light:"#F5F3FF",border:"#DDD6FE",gradient:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",iconBg:"rgba(139, 92, 246, 0.1)"}},i={available:{primary:"#10B981",light:"#ECFDF5",border:"#A7F3D0",gradient:"linear-gradient(135deg, #10B981 0%, #059669 100%)",text:"#065F46"},occupied:{primary:"#F59E0B",light:"#FFFBEB",border:"#FCD34D",gradient:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",text:"#92400E"},inactive:{primary:"#94A3B8",light:"#F8FAFC",border:"#CBD5E1",gradient:"linear-gradient(135deg, #94A3B8 0%, #64748B 100%)",text:"#475569"},waitingForPayment:{primary:"#3B82F6",light:"#EFF6FF",border:"#BFDBFE",gradient:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)",text:"#1E40AF"}},o={container:{minHeight:"100vh",background:a.background,fontFamily:"var(--font-sans), 'Sarabun', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",paddingBottom:100},header:{background:"linear-gradient(135deg, ".concat(a.primary," 0%, ").concat(a.primaryDark," 100%)"),padding:"16px 16px 48px",position:"relative",borderBottomLeftRadius:20,borderBottomRightRadius:20,overflow:"hidden"},heroHeader:{background:"linear-gradient(135deg, ".concat(a.primary," 0%, ").concat(a.primaryDark," 100%)"),padding:"24px 20px 56px",position:"relative",borderBottomLeftRadius:24,borderBottomRightRadius:24,boxShadow:"0 4px 20px rgba(99, 102, 241, 0.2)",marginBottom:-40,zIndex:1,overflow:"hidden"},contentWrapper:{maxWidth:1200,margin:"-32px auto 0",padding:"0 16px",position:"relative",zIndex:10},card:{borderRadius:16,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.04)",border:"1px solid ".concat(a.border),overflow:"hidden",background:a.cardBg},itemCard:{marginBottom:8,borderRadius:12,border:"1px solid ".concat(a.borderLight),transition:"all 0.2s ease",background:a.cardBg},kitchenContainer:{minHeight:"100vh",background:a.kitchenBg,padding:"16px 16px 100px",color:"#F8FAFC",fontFamily:"var(--font-sans), 'Sarabun', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"},kitchenGlassCard:{background:a.kitchenCard,backdropFilter:"blur(12px)",border:"1px solid ".concat(a.kitchenBorder),borderRadius:16,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",overflow:"hidden"},kitchenHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,flexWrap:"wrap",gap:12},sectionTitle:{display:"flex",alignItems:"center",gap:10,marginBottom:16,fontSize:16,fontWeight:600,color:a.text}}},67697:function(e,t,r){"use strict";r.d(t,{D:function(){return o},v:function(){return i}});var a=r(2265);let n=e=>{if("string"==typeof e)return e;if(e&&"object"==typeof e){var t;if("id"in e&&e.id)return e.id;if("data"in e&&(null===(t=e.data)||void 0===t?void 0:t.id))return e.data.id}};function i(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>e.id,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>!0;(0,a.useEffect)(()=>{if(!e)return;let a=e=>{if(!o(e))return;let t=i(e);r(r=>r.some(e=>i(e)===t)?r:[...r,e])},d=e=>{let t=i(e);r(r=>o(e)?r.some(e=>i(e)===t)?r.map(r=>i(r)===t?e:r):[...r,e]:r.filter(e=>i(e)!==t))},s=e=>{let t=n(e);t&&r(e=>e.filter(e=>i(e)!==t))};return e.on(t.create,a),e.on(t.update,d),e.on(t.delete,s),()=>{e.off(t.create,a),e.off(t.update,d),e.off(t.delete,s)}},[e,t.create,t.update,t.delete,i,r,o])}function o(e){let{socket:t,events:r=[],onRefresh:n,intervalMs:i,enabled:o=!0,debounceMs:d}=e;(0,a.useEffect)(()=>{if(!o||!t||0===r.length)return;let e=null,a=()=>{if(!d||d<=0){n();return}e&&clearTimeout(e),e=setTimeout(()=>{e=null,n()},d)};return r.forEach(e=>t.on(e,a)),()=>{e&&clearTimeout(e),r.forEach(e=>t.off(e,a))}},[o,t,r,n,d]),(0,a.useEffect)(()=>{if(!o||!i)return;let e=setInterval(n,i);return()=>clearInterval(e)},[o,i,n])}},12028:function(e,t,r){"use strict";r.d(t,{b:function(){return a},g:function(){return n}});let a={system:{announcement:"system:announcement"},users:{create:"users:create",update:"users:update",delete:"users:delete",status:"users:update-status"},roles:{create:"roles:create",update:"roles:update",delete:"roles:delete"},branches:{create:"branches:create",update:"branches:update",delete:"branches:delete"},products:{create:"products:create",update:"products:update",delete:"products:delete"},productsUnit:{create:"productsUnit:create",update:"productsUnit:update",delete:"productsUnit:delete"},categories:{create:"category:create",update:"category:update",delete:"category:delete"},tables:{create:"tables:create",update:"tables:update",delete:"tables:delete"},orders:{create:"orders:create",update:"orders:update",delete:"orders:delete"},payments:{create:"payments:create",update:"payments:update",delete:"payments:delete"},discounts:{create:"discounts:create",update:"discounts:update",delete:"discounts:delete"},delivery:{create:"delivery:create",update:"delivery:update",delete:"delivery:delete"},shifts:{update:"shifts:update"},orderQueue:{added:"order-queue:added",updated:"order-queue:updated",removed:"order-queue:removed",reordered:"order-queue:reordered"},ingredients:{create:"ingredients:create",update:"ingredients:update",delete:"ingredients:delete"},ingredientsUnit:{create:"ingredientsUnit:create",update:"ingredientsUnit:update",delete:"ingredientsUnit:delete"},stock:{update:"stock:update"},stockOrders:{create:"stock:orders:create",update:"stock:orders:update",status:"stock:orders:status",delete:"stock:orders:delete",detailUpdate:"stock:orders:detail:update"},paymentAccounts:{create:"payment-accounts:create",update:"payment-accounts:update",delete:"payment-accounts:delete"},paymentMethods:{create:"paymentMethod:create",update:"paymentMethod:update",delete:"paymentMethod:delete"},shopProfile:{update:"shopProfile:update"},salesOrderItem:{create:"salesOrderItem:create",update:"salesOrderItem:update",delete:"salesOrderItem:delete"},salesOrderDetail:{create:"salesOrderDetail:create",update:"salesOrderDetail:update",delete:"salesOrderDetail:delete"}},n={stockOrdersUpdated:"orders_updated"}}},function(e){e.O(0,[253,1522,3418,742,9486,4252,3916,8651,6931,4159,3831,2224,2401,9,8879,8589,9845,4725,8973,9385,4390,2971,2117,1744],function(){return e(e.s=66630)}),_N_E=e.O()}]);