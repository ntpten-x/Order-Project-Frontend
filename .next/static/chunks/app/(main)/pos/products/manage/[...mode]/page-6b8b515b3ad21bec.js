(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6775],{64659:function(e,i,n){Promise.resolve().then(n.bind(n,58826))},58826:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return Y}});var t=n(57437),r=n(2265),a=n(88589),o=n(39486),s=n(19878),l=n(34029),d=n(53743),c=n(50742),p=n(48651),g=n(47451),u=n(69410),m=n(96931),h=n(51653),x=n(33477),f=n(80336),y=n(99376),b=n(25193),j=n(37410),v=n(20148),w=n(26349),Z=n(88009),_=n(15424),F=n(70464),k=n(78355),S=n(29271),C=n(62376),E=n(83669),z=n(97235),I=n(67918),W=n(2938),R=n(33145);let{Text:T,Title:B}=o.default;var P=n(80009),N=n(8900);let{Text:L}=o.default,{pageStyles:A,ManagePageStyles:D}=(e=>{let{focusColor:i,focusShadow:n,switchGradient:r,extraCss:a=""}=e;return{pageStyles:{container:{paddingBottom:100,backgroundColor:"#f8f9fc",minHeight:"100vh",height:"100dvh",overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch"},header:e=>({background:e?"linear-gradient(135deg, #faad14 0%, #fa8c16 100%)":"linear-gradient(135deg, #52c41a 0%, #389e0d 100%)",padding:"20px 20px 60px 20px",position:"relative",overflow:"hidden"}),headerDecoCircle1:{position:"absolute",top:-50,right:-50,width:150,height:150,borderRadius:"50%",background:"rgba(255,255,255,0.1)"},headerDecoCircle2:{position:"absolute",bottom:-30,left:-30,width:100,height:100,borderRadius:"50%",background:"rgba(255,255,255,0.08)"},headerContent:{position:"relative",zIndex:1,display:"flex",alignItems:"center",gap:12},headerIconBox:{width:48,height:48,borderRadius:14,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},formCard:{margin:"-40px 16px 0 16px",padding:"24px",background:"white",borderRadius:20,boxShadow:"0 8px 24px rgba(0,0,0,0.08)",position:"relative",zIndex:10},formSection:{marginBottom:20},formLabel:{fontSize:14,fontWeight:600,color:"#1a1a2e",marginBottom:8,display:"block"},actionButtons:{display:"flex",gap:12,marginTop:24,paddingTop:20,borderTop:"1px solid #f0f0f0"}},ManagePageStyles:()=>(0,t.jsx)("style",{children:"\n        @keyframes fadeSlideIn {\n            from {\n                opacity: 0;\n                transform: translateY(12px);\n            }\n            to {\n                opacity: 1;\n                transform: translateY(0);\n            }\n        }\n\n        .manage-form-card {\n            animation: fadeSlideIn 0.4s ease both;\n        }\n\n        .manage-page .ant-input,\n        .manage-page .ant-input-number,\n        .manage-page .ant-select-selector,\n        .manage-page .ant-input-affix-wrapper {\n            border-radius: 12px !important;\n            border: 2px solid #f0f0f0 !important;\n            transition: all 0.3s ease !important;\n        }\n\n        .manage-page .ant-input:focus,\n        .manage-page .ant-input-focused,\n        .manage-page .ant-input-number:focus,\n        .manage-page .ant-input-number-focused,\n        .manage-page .ant-select-focused .ant-select-selector,\n        .manage-page .ant-input-affix-wrapper:focus,\n        .manage-page .ant-input-affix-wrapper-focused {\n            border-color: ".concat(i," !important;\n            box-shadow: 0 0 0 3px ").concat(n,' !important;\n        }\n\n        .manage-page .ant-input-lg,\n        .manage-page .ant-select-lg .ant-select-selector {\n            padding: 12px 16px !important;\n            height: auto !important;\n        }\n\n        .manage-page .ant-form-item-label > label {\n            font-weight: 600;\n            color: #1a1a2e;\n            font-size: 14px;\n        }\n\n        .manage-page .ant-form-item-required::before {\n            display: none !important;\n        }\n\n        .manage-page .ant-form-item-required::after {\n            content: "*" !important;\n            display: inline-block !important;\n            color: #ff4d4f !important;\n            margin-left: 4px !important;\n        }\n\n        .manage-page .ant-switch {\n            min-width: 50px;\n        }\n\n        .manage-page .ant-switch-checked {\n            background: ').concat(r,";\n        }\n\n        .manage-page textarea.ant-input {\n            border-radius: 12px !important;\n        }\n\n        .manage-page .ant-input-number-lg {\n            width: 100%;\n        }\n\n        /* Fix dropdown z-index and overflow issues */\n        .manage-page .ant-select-dropdown {\n            z-index: 9999 !important;\n        }\n\n        .manage-page .ant-form-item {\n            overflow: visible !important;\n        }\n\n        .manage-form-card {\n            overflow: visible !important;\n        }\n\n        ").concat(a,"\n    ")})}})({focusColor:"#4F46E5",focusShadow:"rgba(79, 70, 229, 0.1)",switchGradient:"linear-gradient(135deg, #4F46E5 0%, #4338CA 100%)"}),H=e=>{var i;let{name:n,productName:r,imageUrl:a,price:o,priceDelivery:s,category:l,unit:d}=e;return(0,t.jsxs)("div",{style:{marginTop:24,marginBottom:24,padding:20,background:"#F8FAFC",borderRadius:20,border:"1px dashed #E2E8F0"},children:[(0,t.jsx)(L,{type:"secondary",style:{display:"block",marginBottom:12,fontSize:13,textAlign:"center"},children:"ตัวอย่างการแสดงผล (Live Preview)"}),(0,t.jsx)("div",{style:{width:"100%",maxWidth:280,margin:"0 auto",background:"white",borderRadius:20,overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.06)",border:"1px solid #F1F5F9",transition:"all 0.3s ease"},children:(0,t.jsxs)("div",{style:{padding:12,display:"flex",gap:12,alignItems:"center"},children:[(0,t.jsx)("div",{style:{width:72,height:72,borderRadius:16,border:"1px solid #F1F5F9",overflow:"hidden",position:"relative",background:"#F8FAFC",flexShrink:0},children:a&&a.match(/^https?:\/\/.+/)?(0,t.jsx)(R.default,{src:a,alt:"Preview",fill:!0,style:{objectFit:"cover"},sizes:"72px",onError:e=>{e.target.style.display="none"}}):(0,t.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%)"},children:(0,t.jsx)(C.Z,{style:{fontSize:24,color:"#6366F1",opacity:.8}})})}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,t.jsx)(L,{strong:!0,style:{fontSize:16,color:"#1E293B",flex:1},ellipsis:!0,children:n||"ชื่อสินค้า (ไทย)"}),(0,t.jsx)(N.Z,{style:{color:"#10B981",fontSize:14}})]}),(0,t.jsx)(L,{type:"secondary",style:{fontSize:13,display:"block",marginBottom:6,color:"#64748B"},ellipsis:!0,children:r||"Product Name (EN)"}),(0,t.jsxs)("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[(0,t.jsxs)(P.Z,{style:{borderRadius:6,margin:0,fontSize:11,fontWeight:700,color:"#059669",background:"#ECFDF5",border:"none",padding:"0 8px"},children:["฿",(o||0).toLocaleString()]}),(0,t.jsxs)(P.Z,{style:{borderRadius:6,margin:0,fontSize:11,fontWeight:700,color:"#db2777",background:"#fdf2f8",border:"none",padding:"0 8px"},children:["Delivery ฿",Number(null!==(i=null!=s?s:o)&&void 0!==i?i:0).toLocaleString()]}),l&&(0,t.jsx)(P.Z,{style:{borderRadius:6,margin:0,fontSize:10,color:"#4F46E5",background:"#EEF2FF",border:"none"},children:l}),d&&(0,t.jsx)(P.Z,{style:{borderRadius:6,margin:0,fontSize:10,color:"#0891B2",background:"#CFFAFE",border:"none"},children:d})]})]})]})})]})},{TextArea:q}=a.default,{Title:O,Text:U}=o.default,V=e=>Array.isArray(e)?e:e&&"object"==typeof e&&Array.isArray(e.data)?e.data:[],M=e=>{if(!e)return"-";let i=new Date(e);return Number.isNaN(i.getTime())?"-":new Intl.DateTimeFormat("th-TH",{dateStyle:"medium",timeStyle:"short"}).format(i)};function Y(e){var i,n,o,R,T,B,P;let{params:N}=e,L=(0,y.useRouter)(),[D]=s.Z.useForm(),[Y,X]=(0,r.useState)(!1),[G,J]=(0,r.useState)(!1),[$,K]=(0,r.useState)([]),[Q,ee]=(0,r.useState)([]),[ei,en]=(0,r.useState)(""),[et,er]=(0,r.useState)(""),[ea,eo]=(0,r.useState)(null),[es,el]=(0,r.useState)(!1),[ed,ec]=(0,r.useState)(!1),ep=null===(i=N.mode)||void 0===i?void 0:i[0],eg=(null===(n=N.mode)||void 0===n?void 0:n[1])||null,eu="edit"===ep&&!!eg,em="add"===ep||"edit"===ep,{isAuthorized:eh,isChecking:ex}=(0,I.e)({allowedRoles:["Admin","Manager"]}),ef=s.Z.useWatch("category_id",D),ey=s.Z.useWatch("unit_id",D),eb=s.Z.useWatch("display_name",D),ej=s.Z.useWatch("product_name",D),ev=s.Z.useWatch("img_url",D),ew=s.Z.useWatch("price",D),eZ=s.Z.useWatch("price_delivery",D),e_=null===(P=s.Z.useWatch("is_active",D))||void 0===P||P,eF=(0,r.useMemo)(()=>$.filter(e=>e.is_active),[$]),ek=(0,r.useMemo)(()=>Q.filter(e=>e.is_active),[Q]);(0,r.useEffect)(()=>{em&&("edit"!==ep||eg)||(l.ZP.warning("รูปแบบ URL ไม่ถูกต้อง"),L.replace("/pos/products"))},[eg,em,ep,L]),(0,r.useEffect)(()=>{(async()=>{en(await (0,z.P)())})()},[]);let eS=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/pos/category");if(!e.ok)return;let i=await e.json();K(V(i))}catch(e){console.error("Failed to fetch categories",e)}},[]),eC=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/pos/productsUnit");if(!e.ok)return;let i=await e.json();ee(V(i))}catch(e){console.error("Failed to fetch units",e)}},[]),eE=(0,r.useCallback)(async()=>{if(eg){X(!0);try{var e,i,n;let t=await fetch("/api/pos/products/getById/".concat(eg));if(!t.ok)throw Error("ไม่สามารถดึงข้อมูลสินค้าได้");let r=await t.json();D.setFieldsValue({product_name:r.product_name,display_name:r.display_name,description:r.description,img_url:r.img_url||void 0,price:Number(null!==(e=r.price)&&void 0!==e?e:0),price_delivery:Number(null!==(n=null!==(i=r.price_delivery)&&void 0!==i?i:r.price)&&void 0!==n?n:0),cost:void 0!==r.cost&&null!==r.cost?Number(r.cost):void 0,category_id:r.category_id,unit_id:r.unit_id,is_active:r.is_active}),er((r.product_name||"").toLowerCase()),eo(r)}catch(e){console.error(e),l.ZP.error("ไม่สามารถดึงข้อมูลสินค้าได้"),L.replace("/pos/products")}finally{X(!1)}}},[D,eg,L]);(0,r.useEffect)(()=>{eS(),eC(),eu&&eE()},[eu,eS,eC,eE]);let ez=(0,r.useCallback)(async e=>{let i=e.trim();if(!i||eu&&i.toLowerCase()===et)return!1;try{let e=await fetch("/api/pos/products/getByName/".concat(encodeURIComponent(i)));if(!e.ok)return!1;let n=await e.json();if(!(null==n?void 0:n.id)||eu&&n.id===eg)return!1;return!0}catch(e){return!1}},[et,eg,eu]),eI=async e=>{J(!0);try{var i,n;let t={product_name:e.product_name.trim(),display_name:e.display_name.trim(),description:(null===(i=e.description)||void 0===i?void 0:i.trim())||void 0,img_url:(null===(n=e.img_url)||void 0===n?void 0:n.trim())?e.img_url.trim():null,price:Number(e.price||0),price_delivery:void 0===e.price_delivery||null===e.price_delivery?Number(e.price||0):Number(e.price_delivery),cost:void 0===e.cost||null===e.cost?void 0:Number(e.cost),category_id:e.category_id,unit_id:e.unit_id,is_active:e.is_active},r=eu?"/api/pos/products/update/".concat(eg):"/api/pos/products/create",a=eu?"PUT":"POST",o=await fetch(r,{method:a,headers:{"Content-Type":"application/json","X-CSRF-Token":ei},body:JSON.stringify(t)});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.error||e.message||(eu?"ไม่สามารถอัปเดตสินค้าได้":"ไม่สามารถสร้างสินค้าได้"))}l.ZP.success(eu?"อัปเดตสินค้าสำเร็จ":"สร้างสินค้าสำเร็จ"),L.push("/pos/products")}catch(e){console.error(e),l.ZP.error(e instanceof Error?e.message:eu?"ไม่สามารถอัปเดตสินค้าได้":"ไม่สามารถสร้างสินค้าได้")}finally{J(!1)}},eW=()=>L.push("/pos/products");return ex?(0,t.jsx)(W.H,{message:"กำลังตรวจสอบสิทธิ์..."}):eh?(0,t.jsxs)("div",{className:"manage-page",style:A.container,children:[(0,t.jsx)(v.Z,{title:eu?"แก้ไขสินค้า":"เพิ่มสินค้า",subtitle:eu?"แก้ไขข้อมูลสินค้าและราคา":"สร้างสินค้าใหม่ให้พร้อมขายในระบบ POS",onBack:eW,actions:eu?(0,t.jsx)(c.ZP,{danger:!0,onClick:()=>{eg&&d.Z.confirm({title:"ยืนยันการลบสินค้า",content:'คุณต้องการลบสินค้า "'.concat(eb||"-",'" หรือไม่?'),okText:"ลบ",okType:"danger",cancelText:"ยกเลิก",centered:!0,icon:(0,t.jsx)(w.Z,{style:{color:"#EF4444"}}),onOk:async()=>{try{if(!(await fetch("/api/pos/products/delete/".concat(eg),{method:"DELETE",headers:{"X-CSRF-Token":ei}})).ok)throw Error("ไม่สามารถลบสินค้าได้");l.ZP.success("ลบสินค้าสำเร็จ"),L.push("/pos/products")}catch(e){console.error(e),l.ZP.error("ไม่สามารถลบสินค้าได้")}}})},icon:(0,t.jsx)(w.Z,{}),children:"ลบ"}):null}),(0,t.jsx)(b.Z,{maxWidth:1040,children:(0,t.jsx)(j.Z,{style:{background:"transparent",border:"none"},children:Y?(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"90px 0"},children:(0,t.jsx)(p.Z,{size:"large",tip:"กำลังโหลดข้อมูล..."})}):(0,t.jsxs)(g.Z,{gutter:[20,20],children:[(0,t.jsx)(u.Z,{xs:24,lg:15,children:(0,t.jsxs)(m.Z,{bordered:!1,style:{borderRadius:20,boxShadow:"0 4px 20px rgba(0,0,0,0.04)",overflow:"hidden"},styles:{body:{padding:24}},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:20},children:[(0,t.jsx)(Z.Z,{style:{fontSize:20,color:"#4F46E5"}}),(0,t.jsx)(O,{level:5,style:{margin:0},children:"ข้อมูลสินค้า"})]}),(0,t.jsxs)(s.Z,{form:D,layout:"vertical",onFinish:eI,requiredMark:!1,autoComplete:"off",initialValues:{is_active:!0,price:0,price_delivery:0},onValuesChange:e=>{eu||void 0===e.price||D.isFieldTouched("price_delivery")||D.setFieldsValue({price_delivery:e.price})},children:[(0,t.jsx)(h.Z,{showIcon:!0,type:"info",icon:(0,t.jsx)(_.Z,{}),message:"ข้อมูลที่จำเป็น",description:"ต้องระบุชื่อสินค้า ราคา หมวดหมู่ และหน่วยสินค้า โดยชื่อสินค้าในระบบจะถูกตรวจสอบไม่ให้ซ้ำในสาขา",style:{marginBottom:18}}),(0,t.jsxs)(g.Z,{gutter:12,children:[(0,t.jsx)(u.Z,{xs:24,md:12,children:(0,t.jsx)(s.Z.Item,{name:"display_name",label:(0,t.jsx)("span",{style:{fontWeight:600,color:"#334155"},children:"ชื่อที่แสดง"}),rules:[{required:!0,message:"กรุณากรอกชื่อที่แสดง"},{max:100,message:"ความยาวต้องไม่เกิน 100 ตัวอักษร"}],children:(0,t.jsx)(a.default,{size:"large",placeholder:"เช่น ชาเขียว, ข้าวผัด",maxLength:100})})}),(0,t.jsx)(u.Z,{xs:24,md:12,children:(0,t.jsx)(s.Z.Item,{name:"product_name",label:(0,t.jsx)("span",{style:{fontWeight:600,color:"#334155"},children:"ชื่อสินค้าในระบบ (English)"}),validateTrigger:["onBlur","onSubmit"],rules:[{required:!0,message:"กรุณากรอกชื่อสินค้า"},{pattern:/^[a-zA-Z0-9\s\-_().]*$/,message:"กรอกได้เฉพาะภาษาอังกฤษ ตัวเลข และ - _ ( ) ."},{max:100,message:"ความยาวต้องไม่เกิน 100 ตัวอักษร"},{validator:async(e,i)=>{if((null==i?void 0:i.trim())&&await ez(i))throw Error("ชื่อสินค้าในระบบนี้ถูกใช้งานแล้ว")}}],children:(0,t.jsx)(a.default,{size:"large",placeholder:"e.g. green-tea, fried-rice",maxLength:100})})})]}),(0,t.jsxs)(g.Z,{gutter:12,children:[(0,t.jsx)(u.Z,{xs:24,md:8,children:(0,t.jsx)(s.Z.Item,{name:"price",label:(0,t.jsx)("span",{style:{fontWeight:600,color:"#334155"},children:"ราคา (หน้าร้าน)"}),rules:[{required:!0,message:"กรุณากรอกราคา"},{type:"number",min:0,message:"ราคาต้องไม่ติดลบ"}],children:(0,t.jsx)(x.Z,{size:"large",min:0,precision:2,style:{width:"100%"},controls:!1})})}),(0,t.jsx)(u.Z,{xs:24,md:8,children:(0,t.jsx)(s.Z.Item,{name:"price_delivery",label:(0,t.jsx)("span",{style:{fontWeight:600,color:"#334155"},children:"ราคา Delivery"}),rules:[{type:"number",min:0,message:"ราคาต้องไม่ติดลบ"}],children:(0,t.jsx)(x.Z,{size:"large",min:0,precision:2,style:{width:"100%"},controls:!1})})}),(0,t.jsx)(u.Z,{xs:24,md:8,children:(0,t.jsx)(s.Z.Item,{name:"cost",label:(0,t.jsx)("span",{style:{fontWeight:600,color:"#334155"},children:"ต้นทุน (ไม่บังคับ)"}),rules:[{type:"number",min:0,message:"ต้นทุนต้องไม่ติดลบ"}],children:(0,t.jsx)(x.Z,{size:"large",min:0,precision:2,style:{width:"100%"},controls:!1})})})]}),(0,t.jsxs)(g.Z,{gutter:12,children:[(0,t.jsx)(u.Z,{xs:24,md:12,children:(0,t.jsx)(s.Z.Item,{name:"category_id",label:(0,t.jsx)("span",{style:{fontWeight:600,color:"#334155"},children:"หมวดหมู่"}),rules:[{required:!0,message:"กรุณาเลือกหมวดหมู่"}],children:(0,t.jsxs)("div",{onClick:()=>el(!0),style:{padding:"10px 16px",borderRadius:12,border:"2px solid",cursor:"pointer",background:ef?"linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%)":"#fff",borderColor:ef?"#4F46E5":"#e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:46},children:[(0,t.jsx)("span",{style:{color:ef?"#1e293b":"#94a3b8",fontWeight:ef?600:400},children:ef?null===(o=$.find(e=>e.id===ef))||void 0===o?void 0:o.display_name:"เลือกหมวดหมู่"}),(0,t.jsx)(F.Z,{style:{fontSize:12,color:"#94a3b8"}})]})})}),(0,t.jsx)(u.Z,{xs:24,md:12,children:(0,t.jsx)(s.Z.Item,{name:"unit_id",label:(0,t.jsx)("span",{style:{fontWeight:600,color:"#334155"},children:"หน่วยสินค้า"}),rules:[{required:!0,message:"กรุณาเลือกหน่วยสินค้า"}],children:(0,t.jsxs)("div",{onClick:()=>ec(!0),style:{padding:"10px 16px",borderRadius:12,border:"2px solid",cursor:"pointer",background:ey?"linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%)":"#fff",borderColor:ey?"#4F46E5":"#e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:46},children:[(0,t.jsx)("span",{style:{color:ey?"#1e293b":"#94a3b8",fontWeight:ey?600:400},children:ey?null===(R=Q.find(e=>e.id===ey))||void 0===R?void 0:R.display_name:"เลือกหน่วยสินค้า"}),(0,t.jsx)(F.Z,{style:{fontSize:12,color:"#94a3b8"}})]})})})]}),(0,t.jsx)(s.Z.Item,{name:"img_url",label:(0,t.jsx)("span",{style:{fontWeight:600,color:"#334155"},children:"รูปภาพ URL"}),rules:[{type:"url",message:"รูปแบบ URL ไม่ถูกต้อง"}],children:(0,t.jsx)(a.default,{size:"large",placeholder:"https://example.com/image.jpg"})}),(0,t.jsx)(s.Z.Item,{name:"description",label:(0,t.jsx)("span",{style:{fontWeight:600,color:"#334155"},children:"รายละเอียดเพิ่มเติม"}),children:(0,t.jsx)(q,{rows:4,placeholder:"รายละเอียดสินค้า, หมายเหตุ, จุดเด่น",style:{borderRadius:12},maxLength:500})}),(0,t.jsx)("div",{style:{padding:"16px",background:"#F8FAFC",borderRadius:14,marginTop:8,marginBottom:18},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(U,{strong:!0,style:{fontSize:15,display:"block"},children:"สถานะการใช้งาน"}),(0,t.jsx)(U,{type:"secondary",style:{fontSize:13},children:"เปิดเพื่อให้แสดงในหน้า POS"})]}),(0,t.jsx)(s.Z.Item,{name:"is_active",valuePropName:"checked",noStyle:!0,children:(0,t.jsx)(f.Z,{style:{background:e_?"#10B981":void 0}})})]})}),(0,t.jsxs)("div",{style:{marginTop:12,display:"flex",gap:12},children:[(0,t.jsx)(c.ZP,{size:"large",onClick:eW,style:{flex:1,borderRadius:12,height:46,fontWeight:600},children:"ยกเลิก"}),(0,t.jsx)(c.ZP,{type:"primary",htmlType:"submit",loading:G,icon:(0,t.jsx)(k.Z,{}),style:{flex:2,borderRadius:12,height:46,fontWeight:600,background:"#4F46E5",boxShadow:"0 4px 12px rgba(79, 70, 229, 0.25)"},children:"บันทึกข้อมูล"})]})]})]})}),(0,t.jsx)(u.Z,{xs:24,lg:9,children:(0,t.jsxs)("div",{style:{display:"grid",gap:14},children:[(0,t.jsxs)("div",{style:{background:"white",borderRadius:20,padding:20,boxShadow:"0 10px 30px rgba(0,0,0,0.05)",border:"1px solid #F1F5F9"},children:[(0,t.jsx)(O,{level:5,style:{color:"#4F46E5",marginBottom:16,fontWeight:700},children:"ตัวอย่างการแสดงผล"}),(0,t.jsx)(H,{name:eb,productName:ej,imageUrl:ev,price:ew,priceDelivery:eZ,category:null===(T=$.find(e=>e.id===ef))||void 0===T?void 0:T.display_name,unit:null===(B=Q.find(e=>e.id===ey))||void 0===B?void 0:B.display_name})]}),eu?(0,t.jsxs)(m.Z,{style:{borderRadius:16},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10},children:[(0,t.jsx)(S.Z,{style:{color:"#0369a1"}}),(0,t.jsx)(U,{strong:!0,children:"รายละเอียดรายการ"})]}),(0,t.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,t.jsxs)(U,{type:"secondary",children:["ID: ",(null==ea?void 0:ea.id)||"-"]}),(0,t.jsxs)(U,{type:"secondary",children:["สร้างเมื่อ: ",M(null==ea?void 0:ea.create_date)]}),(0,t.jsxs)(U,{type:"secondary",children:["อัปเดตเมื่อ: ",M(null==ea?void 0:ea.update_date)]})]})]}):null,0===eF.length||0===ek.length?(0,t.jsx)(h.Z,{type:"warning",showIcon:!0,icon:(0,t.jsx)(C.Z,{}),message:"ข้อมูลอ้างอิงยังไม่ครบ",description:(0,t.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:8},children:[0===eF.length?(0,t.jsx)(c.ZP,{size:"small",onClick:()=>L.push("/pos/category"),children:"จัดการหมวดหมู่"}):null,0===ek.length?(0,t.jsx)(c.ZP,{size:"small",onClick:()=>L.push("/pos/productsUnit"),children:"จัดการหน่วยสินค้า"}):null]})}):null]})})]})})}),(0,t.jsx)(d.Z,{title:"เลือกหมวดหมู่",open:es,onCancel:()=>el(!1),footer:null,centered:!0,width:400,styles:{body:{padding:"12px 16px 24px"}},children:(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10,maxHeight:"60vh",overflowY:"auto"},children:eF.map(e=>(0,t.jsxs)("div",{onClick:()=>{D.setFieldsValue({category_id:e.id}),el(!1)},style:{padding:"14px 18px",border:"2px solid",borderRadius:12,cursor:"pointer",background:ef===e.id?"#eff6ff":"#fff",borderColor:ef===e.id?"#3b82f6":"#e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:54},children:[(0,t.jsx)("span",{style:{fontWeight:ef===e.id?600:400},children:e.display_name}),ef===e.id&&(0,t.jsx)(E.Z,{style:{color:"#3b82f6",fontSize:18}})]},e.id))})}),(0,t.jsx)(d.Z,{title:"เลือกหน่วยสินค้า",open:ed,onCancel:()=>ec(!1),footer:null,centered:!0,width:400,styles:{body:{padding:"12px 16px 24px"}},children:(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10,maxHeight:"60vh",overflowY:"auto"},children:ek.map(e=>(0,t.jsxs)("div",{onClick:()=>{D.setFieldsValue({unit_id:e.id}),ec(!1)},style:{padding:"14px 18px",border:"2px solid",borderRadius:12,cursor:"pointer",background:ey===e.id?"#eff6ff":"#fff",borderColor:ey===e.id?"#3b82f6":"#e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:54},children:[(0,t.jsx)("span",{style:{fontWeight:ey===e.id?600:400},children:e.display_name}),ey===e.id&&(0,t.jsx)(E.Z,{style:{color:"#3b82f6",fontSize:18}})]},e.id))})})]}):(0,t.jsx)(W.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้",tone:"danger"})}}},function(e){e.O(0,[253,1522,3418,742,9486,4252,3916,8651,6931,4159,3831,2224,3248,9,8879,8589,4221,9878,4547,3145,8052,9385,4390,2971,2117,1744],function(){return e(e.s=64659)}),_N_E=e.O()}]);