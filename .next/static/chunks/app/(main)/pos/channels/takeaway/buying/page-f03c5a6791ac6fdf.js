(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4674],{13410:function(t,e,n){Promise.resolve().then(n.bind(n,9395))},9395:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return A}});var u=n(57437),a=n(2265),s=n(13817),r=n(99376),c=n(34029),l=n(52539),o=n(8949),i=n(53286),f=n(61414),d=n(252),y=n(32446),h=n(3369),k=n(77961),m=n(97235);function x(t){let{queueNumber:e}=t,{showLoading:n,hideLoading:s}=(0,h.x)(),[x,b]=(0,a.useState)(""),A=(0,r.useRouter)();(0,a.useEffect)(()=>{(async()=>{n();let t=await (0,m.P)();t&&b(t),s()})()},[n,s]);let{cartItems:j,clearCart:p,getSubtotal:w,getDiscountAmount:E,getFinalPrice:Z,selectedDiscount:_,setOrderMode:v,setReferenceId:T,setReferenceCode:g}=(0,o.j)();(0,a.useEffect)(()=>{v("TAKEAWAY"),T(null),g(e||null)},[e,v,T,g]);let C=async()=>{n();try{let t=(0,f.zf)(j,y.m.TakeAway,{subTotal:w(),discountAmount:E(),totalAmount:Z()},{discountId:null==_?void 0:_.id,queueNumber:e});await i.x.create(t,void 0,x),c.ZP.success("สร้างออเดอร์เรียบร้อยแล้ว"),p(),A.push((0,d.Zu)(y.m.TakeAway))}catch(t){c.ZP.error(t instanceof Error?t.message:"ไม่สามารถทำรายการได้")}finally{s()}};return(0,u.jsx)(k.Z,{title:"ระบบขายหน้าร้าน (Take Away)",subtitle:"สั่งกลับบ้าน ".concat(e?"- คิว ".concat(e):""),icon:(0,u.jsx)(l.Z,{style:{fontSize:28}}),onConfirmOrder:C})}var b=n(25193);function A(){return(0,u.jsx)(b.Z,{maxWidth:99999,style:{padding:0},children:(0,u.jsx)(s.default,{style:{background:"transparent"},children:(0,u.jsx)(s.default.Content,{style:{background:"transparent"},children:(0,u.jsx)(x,{})})})})}}},function(t){t.O(0,[8024,4736,8592,1744],function(){return t(t.s=13410)}),_N_E=t.O()}]);