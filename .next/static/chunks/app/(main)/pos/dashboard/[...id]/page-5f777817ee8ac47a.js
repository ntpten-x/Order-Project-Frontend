(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9224,3490],{12873:function(e,t,n){Promise.resolve().then(n.bind(n,30066))},30066:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var r=n(57437),o=n(2265),i=n(82646),a=n(34029),l=n(48651),s=n(50742),d=n(54837),c=n(80009),u=n(47451),h=n(69410),f=n(96931),m=n(45235),p=n(91652),g=n(2297),x=n(85825),y=n(53743),b=n(93132),j=n(52539),v=n(29107),S=n(62376),_=n(83669),w=n(81770),k=n(17588),C=n(60392),T=n(15883),Z=n(48998),E=n(42318),R=n(99458),I=n(5540),P=n(99376),L=n(53286),N=n(19135),A=n(32446),O=n(44225),D=n(71096),B=n.n(D);n(6729),B().locale("th");let z=(0,o.forwardRef)((e,t)=>{var n,o,i,a;let{order:l,shopName:s,shopAddress:d,shopPhone:c,shopTaxId:u,shopLogo:h}=e,f=l.items||[],m=l.payments||[],p={border:"none",borderTop:"1px dashed #000",margin:"8px 0"},g={textAlign:"center"},x={display:"flex",justifyContent:"space-between",marginBottom:"4px"};return(0,r.jsxs)("div",{ref:t,style:{fontFamily:"'Courier New', Courier, monospace",fontSize:"12px",width:"80mm",padding:"10px",backgroundColor:"#fff",color:"#000",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:g,children:[h&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("img",{src:h,alt:"Logo",style:{width:60,height:60,objectFit:"contain",marginBottom:8}})}),(0,r.jsx)("div",{style:{fontWeight:"bold",fontSize:"16px",marginBottom:4},children:s||"ร้านค้า POS"}),d&&(0,r.jsx)("div",{style:{fontSize:"10px",marginBottom:2},children:d}),c&&(0,r.jsxs)("div",{style:{fontSize:"10px",marginBottom:2},children:["โทร: ",c]}),u&&(0,r.jsxs)("div",{style:{fontSize:"10px",marginBottom:4},children:["เลขประจำตัวผู้เสียภาษี: ",u]})]}),(0,r.jsx)("hr",{style:p}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:x,children:[(0,r.jsx)("span",{children:"เลขที่ออเดอร์:"}),(0,r.jsxs)("span",{style:{fontWeight:"bold"},children:["#",l.order_no]})]}),(0,r.jsxs)("div",{style:x,children:[(0,r.jsx)("span",{children:"วันที่:"}),(0,r.jsx)("span",{children:B()(l.create_date).format("DD/MM/YYYY HH:mm")})]}),(0,r.jsxs)("div",{style:x,children:[(0,r.jsx)("span",{children:"ประเภท:"}),(0,r.jsx)("span",{children:(e=>{switch(e){case A.m.DineIn:return"ทานที่ร้าน";case A.m.TakeAway:return"สั่งกลับบ้าน";case A.m.Delivery:return"เดลิเวอรี่";default:return e}})(l.order_type)})]}),l.order_type===A.m.DineIn&&l.table&&(0,r.jsxs)("div",{style:x,children:[(0,r.jsx)("span",{children:"โต๊ะ:"}),(0,r.jsx)("span",{children:l.table.table_name})]}),(0,r.jsxs)("div",{style:x,children:[(0,r.jsx)("span",{children:"พนักงาน:"}),(0,r.jsx)("span",{children:(null===(n=l.created_by)||void 0===n?void 0:n.name)||(null===(o=l.created_by)||void 0===o?void 0:o.username)||"-"})]})]}),(0,r.jsx)("hr",{style:p}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontWeight:"bold",marginBottom:8},children:"รายการสินค้า"}),f.map((e,t)=>{var n,o;return(0,r.jsxs)("div",{style:{marginBottom:6},children:[(0,r.jsx)("div",{style:x,children:(0,r.jsx)("span",{children:(null===(n=e.product)||void 0===n?void 0:n.display_name)||(null===(o=e.product)||void 0===o?void 0:o.product_name)||"สินค้า"})}),(0,r.jsxs)("div",{style:{...x,paddingLeft:10,fontSize:"11px"},children:[(0,r.jsxs)("span",{children:[e.quantity," x ฿",Number(e.price).toLocaleString()]}),(0,r.jsxs)("span",{children:["฿",Number(e.total_price).toLocaleString()]})]}),e.notes&&(0,r.jsxs)("div",{style:{paddingLeft:10,fontSize:"10px",fontStyle:"italic",color:"#666"},children:["*",e.notes]})]},e.id||t)})]}),(0,r.jsx)("hr",{style:p}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:x,children:[(0,r.jsx)("span",{children:"รวมรายการ:"}),(0,r.jsxs)("span",{children:["฿",Number(l.sub_total).toLocaleString()]})]}),l.discount_amount>0&&(0,r.jsxs)("div",{style:x,children:[(0,r.jsxs)("span",{children:["ส่วนลด (",(null===(i=l.discount)||void 0===i?void 0:i.display_name)||(null===(a=l.discount)||void 0===a?void 0:a.discount_name)||"ส่วนลด","):"]}),(0,r.jsxs)("span",{style:{color:"red"},children:["-฿",Number(l.discount_amount).toLocaleString()]})]}),l.vat>0&&(0,r.jsxs)("div",{style:x,children:[(0,r.jsx)("span",{children:"VAT 7%:"}),(0,r.jsxs)("span",{children:["฿",Number(l.vat).toLocaleString()]})]}),(0,r.jsxs)("div",{style:{...x,fontWeight:"bold",fontSize:"14px",marginTop:8},children:[(0,r.jsx)("span",{children:"ยอดสุทธิ:"}),(0,r.jsxs)("span",{children:["฿",Number(l.total_amount).toLocaleString()]})]})]}),(0,r.jsx)("hr",{style:p}),m.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontWeight:"bold",marginBottom:8},children:"การชำระเงิน"}),m.map((e,t)=>{var n,o;return(0,r.jsxs)("div",{style:x,children:[(0,r.jsx)("span",{children:(null===(n=e.payment_method)||void 0===n?void 0:n.display_name)||(null===(o=e.payment_method)||void 0===o?void 0:o.payment_method_name)||"ไม่ระบุ"}),(0,r.jsxs)("span",{children:["฿",Number(e.amount).toLocaleString()]})]},e.id||t)}),m.some(e=>e.change_amount>0)&&(0,r.jsxs)("div",{style:x,children:[(0,r.jsx)("span",{children:"เงินทอน:"}),(0,r.jsxs)("span",{children:["฿",m.reduce((e,t)=>e+Number(t.change_amount||0),0).toLocaleString()]})]})]}),(0,r.jsx)("hr",{style:p}),(0,r.jsxs)("div",{style:{...g,marginTop:16},children:[(0,r.jsx)("div",{style:{fontSize:"11px",marginBottom:4},children:"ขอบคุณที่ใช้บริการ"}),(0,r.jsx)("div",{style:{fontSize:"10px",color:"#666"},children:"Thank you for your purchase!"}),(0,r.jsxs)("div",{style:{fontSize:"9px",color:"#999",marginTop:8},children:["พิมพ์เมื่อ: ",B()().format("DD/MM/YYYY HH:mm:ss")]})]})]})});z.displayName="ReceiptTemplate";var M=n(5105);let F=e=>[...e].sort((e,t)=>{let n=e.status===M.M.Cancelled,r=t.status===M.M.Cancelled;return n&&!r?1:!n&&r?-1:0}),U=e=>e===M.M.Cancelled?{backgroundColor:"#fff1f0",transition:"all 0.3s"}:{},X=e=>e===M.M.Cancelled?{color:"#f5222d",fontWeight:"bold"}:{};var H=n(24675),Q=n(67697);let{Title:Y,Text:G}=i.default;function W(e){var t,n,i;let{params:D}=e,W=(0,P.useRouter)(),q=D.id[0],{socket:J}=(0,H.s)(),[V,K]=(0,o.useState)(null),[$,ee]=(0,o.useState)(!0),[et,en]=(0,o.useState)(null),[er,eo]=(0,o.useState)(!1),ei=(0,o.useRef)(null),ea=(0,o.useCallback)(async()=>{if(q){ee(!0);try{let e=await L.x.getById(q);K(e)}catch(e){console.error("Fetch order detail error:",e),a.ZP.error("ไม่พบข้อมูลออเดอร์")}finally{ee(!1)}}},[q]);(0,o.useEffect)(()=>{ea()},[ea]),(0,Q.D)({socket:J,events:["orders:update","orders:delete","payments:create","payments:update"],onRefresh:()=>ea(),intervalMs:2e4});let el=(0,o.useCallback)(async()=>{try{let e=await N.n.getProfile();en(e)}catch(e){console.warn("Could not fetch shop profile",e)}},[]);if((0,o.useEffect)(()=>{el()},[el]),$)return(0,r.jsx)("div",{style:{...O.Np.container,display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,r.jsx)(l.Z,{size:"large"})});if(!V)return(0,r.jsx)("div",{style:O.Np.container,children:(0,r.jsxs)("div",{style:{padding:24,textAlign:"center"},children:[(0,r.jsx)(Y,{level:4,children:"ไม่พบข้อมูลออเดอร์"}),(0,r.jsx)(s.ZP,{onClick:()=>W.back(),children:"ย้อนกลับ"})]})});let es=F(V.items||[]),ed=V.payments||[],ec=es.length>12,eu=(null===(t=V.created_by)||void 0===t?void 0:t.display_name)||(null===(n=V.created_by)||void 0===n?void 0:n.username)||"ไม่ทราบ",eh=(null===(i=V.table)||void 0===i?void 0:i.table_name)||"-",ef=V.discount,em=(e=>{switch(e){case A.m.DineIn:return{icon:(0,r.jsx)(b.Z,{}),label:"ทานที่ร้าน",color:"#1890ff"};case A.m.TakeAway:return{icon:(0,r.jsx)(j.Z,{}),label:"สั่งกลับบ้าน",color:"#52c41a"};case A.m.Delivery:return{icon:(0,r.jsx)(v.Z,{}),label:"เดลิเวอรี่",color:"#fa8c16"};default:return{icon:(0,r.jsx)(S.Z,{}),label:e,color:"#666"}}})(V.order_type),ep=(e=>{switch(e){case A.i.Paid:return{color:"green",label:"ชำระเงินแล้ว",icon:(0,r.jsx)(_.Z,{})};case A.i.Cancelled:return{color:"red",label:"ยกเลิก",icon:(0,r.jsx)(w.Z,{})};default:return{color:"default",label:e,icon:null}}})(V.status),eg=[{title:"รูป",dataIndex:"product",key:"image",width:80,render:e=>(0,r.jsx)("div",{style:{width:60,height:60,borderRadius:8,overflow:"hidden",border:"1px solid #f0f0f0"},children:(null==e?void 0:e.img_url)?(0,r.jsx)(d.Z,{src:e.img_url,width:"100%",height:"100%",style:{objectFit:"cover"},preview:!1,alt:"product"}):(0,r.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"},children:(0,r.jsx)(S.Z,{style:{fontSize:24,color:"#ccc"}})})})},{title:"สินค้า",dataIndex:"product",key:"name",render:(e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)(G,{strong:!0,style:{fontSize:16},children:(null==e?void 0:e.display_name)||(null==e?void 0:e.product_name)||"สินค้า"}),t.details&&t.details.length>0&&(0,r.jsx)("div",{style:{marginTop:4,display:"flex",flexDirection:"column",gap:2},children:t.details.map((e,t)=>(0,r.jsxs)(G,{type:"secondary",style:{fontSize:13,display:"block",color:"#8c8c8c"},children:["+ ",e.detail_name," ",e.extra_price>0&&"(฿".concat(Number(e.extra_price).toLocaleString(),")")]},t))}),t.status===M.M.Cancelled&&(0,r.jsx)("div",{style:{marginTop:6},children:(0,r.jsx)(c.Z,{color:"red",style:{margin:0},children:"ยกเลิกแล้ว"})}),t.notes&&(0,r.jsx)("div",{style:{marginTop:6,background:"#fff7e6",padding:"2px 8px",borderRadius:4,border:"1px dashed #fa8c16",display:"inline-block"},children:(0,r.jsxs)(G,{type:"warning",style:{fontSize:12},children:["หมายเหตุ: ",t.notes]})})]})},{title:"จำนวน",dataIndex:"quantity",key:"quantity",align:"center",width:80},{title:"ราคา/หน่วย",dataIndex:"price",key:"price",align:"right",width:120,render:(e,t)=>(0,r.jsxs)(G,{style:X(t.status),children:["฿",Number(e).toLocaleString()]})},{title:"รวม",dataIndex:"total_price",key:"total",align:"right",width:120,render:(e,t)=>(0,r.jsxs)(G,{strong:!0,style:X(t.status),children:["฿",Number(e).toLocaleString()]})}];return(0,r.jsxs)("div",{style:O.Np.container,children:[(0,r.jsx)("div",{style:{...O.Np.heroParams,paddingBottom:60},children:(0,r.jsx)("div",{style:{maxWidth:1200,margin:"0 auto",position:"relative",zIndex:10},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,r.jsx)(s.ZP,{type:"text",icon:(0,r.jsx)(k.Z,{style:{fontSize:20,color:"#fff"}}),onClick:()=>W.back(),style:{background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)"}}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(Y,{level:3,style:{margin:0,color:"#fff"},children:["ออเดอร์ #",V.order_no]}),(0,r.jsx)(G,{style:{color:"rgba(255,255,255,0.85)"},children:B()(V.create_date).format("DD MMMM YYYY, HH:mm น.")})]})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,r.jsx)(c.Z,{icon:ep.icon,color:ep.color,style:{fontSize:14,padding:"4px 12px"},children:ep.label}),(0,r.jsx)(s.ZP,{type:"primary",icon:(0,r.jsx)(C.Z,{}),onClick:()=>{eo(!0),setTimeout(()=>{if(ei.current){let e=ei.current.innerHTML,t=window.open("","","width=400,height=600");t&&(t.document.write("\n                        <html>\n                            <head>\n                                <title>ใบเสร็จ #".concat(null==V?void 0:V.order_no,"</title>\n                                <style>\n                                    body { font-family: 'Courier New', Courier, monospace; padding: 0; margin: 0; }\n                                    @media print {\n                                        body { -webkit-print-color-adjust: exact; }\n                                    }\n                                </style>\n                            </head>\n                            <body>").concat(e,"</body>\n                        </html>\n                    ")),t.document.close(),t.focus(),t.print(),t.close())}eo(!1)},500)},style:{background:"#52c41a",borderColor:"#52c41a"},children:"พิมพ์ใบเสร็จ"})]})]})})}),(0,r.jsxs)("div",{style:{maxWidth:1200,margin:"-40px auto 30px",padding:"0 24px",position:"relative",zIndex:20},children:[(0,r.jsxs)(u.Z,{gutter:[24,24],style:{marginBottom:24},children:[(0,r.jsx)(h.Z,{xs:24,sm:12,md:8,style:{flex:1},children:(0,r.jsx)(f.Z,{bordered:!1,style:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.05)",height:"100%"},children:(0,r.jsx)(m.Z,{title:"โต๊ะ",value:eh,prefix:(0,r.jsx)(b.Z,{style:{color:"#1890ff"}}),valueStyle:{fontWeight:"bold",fontSize:24}})})}),(0,r.jsx)(h.Z,{xs:24,sm:12,md:8,style:{flex:1},children:(0,r.jsx)(f.Z,{bordered:!1,style:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.05)",height:"100%"},children:(0,r.jsx)(m.Z,{title:"ประเภท",valueRender:()=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[em.icon,(0,r.jsx)("span",{style:{color:em.color,fontWeight:"bold"},children:em.label})]})})})}),(0,r.jsx)(h.Z,{xs:24,sm:12,md:8,style:{flex:1},children:(0,r.jsx)(f.Z,{bordered:!1,style:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.05)",height:"100%"},children:(0,r.jsx)(m.Z,{title:"ผู้สร้างออเดอร์",valueRender:()=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[(0,r.jsx)(p.Z,{size:"small",icon:(0,r.jsx)(T.Z,{}),style:{background:O.X1.primary}}),(0,r.jsx)("span",{style:{fontWeight:500,fontSize:18},children:eu})]})})})}),(0,r.jsx)(h.Z,{xs:24,sm:12,md:8,style:{flex:1},children:(0,r.jsx)(f.Z,{bordered:!1,style:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.05)",height:"100%"},children:(0,r.jsx)(m.Z,{title:"ส่วนลด",valueRender:()=>ef?(0,r.jsxs)("div",{style:{marginTop:4},children:[(0,r.jsx)(c.Z,{icon:(0,r.jsx)(Z.Z,{}),color:"volcano",style:{fontSize:14,padding:"2px 8px"},children:ef.display_name||ef.discount_name}),(0,r.jsx)("div",{style:{marginTop:4},children:(0,r.jsxs)(G,{type:"danger",strong:!0,style:{fontSize:18},children:["-฿",Number(V.discount_amount).toLocaleString()]})})]}):(0,r.jsx)(G,{type:"secondary",style:{fontSize:18},children:"ไม่มีส่วนลด"})})})}),(0,r.jsx)(h.Z,{xs:24,sm:12,md:8,style:{flex:1},children:(0,r.jsx)(f.Z,{bordered:!1,style:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.05)",height:"100%"},children:(0,r.jsx)(m.Z,{title:"ยอดสุทธิ",value:V.total_amount,precision:2,prefix:(0,r.jsx)(E.Z,{style:{color:O.X1.primary}}),suffix:"฿",valueStyle:{color:O.X1.primary,fontWeight:"bold",fontSize:24}})})})]}),(0,r.jsxs)(u.Z,{gutter:[24,24],children:[(0,r.jsx)(h.Z,{xs:24,lg:16,children:(0,r.jsx)(f.Z,{title:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{style:{marginRight:8,color:O.X1.primary}}),"รายการสินค้า (",es.length," รายการ)"]}),bordered:!1,style:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:(0,r.jsx)(g.Z,{dataSource:es,columns:eg,rowKey:"id",virtual:ec,scroll:ec?{y:420}:void 0,pagination:!1,onRow:e=>({style:U(e.status)}),summary:()=>(0,r.jsxs)(g.Z.Summary,{fixed:!0,children:[(0,r.jsxs)(g.Z.Summary.Row,{children:[(0,r.jsx)(g.Z.Summary.Cell,{index:0,colSpan:3}),(0,r.jsx)(g.Z.Summary.Cell,{index:1,align:"right",children:(0,r.jsx)(G,{type:"secondary",children:"รวมรายการ"})}),(0,r.jsx)(g.Z.Summary.Cell,{index:2,align:"right",children:(0,r.jsxs)(G,{strong:!0,children:["฿",Number(V.sub_total).toLocaleString()]})})]}),V.discount_amount>0&&(0,r.jsxs)(g.Z.Summary.Row,{children:[(0,r.jsx)(g.Z.Summary.Cell,{index:0,colSpan:3}),(0,r.jsx)(g.Z.Summary.Cell,{index:1,align:"right",children:(0,r.jsx)(G,{type:"secondary",children:"ส่วนลด"})}),(0,r.jsx)(g.Z.Summary.Cell,{index:2,align:"right",children:(0,r.jsxs)(G,{type:"danger",children:["-฿",Number(V.discount_amount).toLocaleString()]})})]}),V.vat>0&&(0,r.jsxs)(g.Z.Summary.Row,{children:[(0,r.jsx)(g.Z.Summary.Cell,{index:0,colSpan:3}),(0,r.jsx)(g.Z.Summary.Cell,{index:1,align:"right",children:(0,r.jsx)(G,{type:"secondary",children:"VAT 7%"})}),(0,r.jsx)(g.Z.Summary.Cell,{index:2,align:"right",children:(0,r.jsxs)(G,{children:["฿",Number(V.vat).toLocaleString()]})})]}),(0,r.jsxs)(g.Z.Summary.Row,{style:{background:"#fafafa"},children:[(0,r.jsx)(g.Z.Summary.Cell,{index:0,colSpan:3}),(0,r.jsx)(g.Z.Summary.Cell,{index:1,align:"right",children:(0,r.jsx)(G,{strong:!0,style:{fontSize:16},children:"ยอดสุทธิ"})}),(0,r.jsx)(g.Z.Summary.Cell,{index:2,align:"right",children:(0,r.jsxs)(G,{strong:!0,style:{fontSize:18,color:O.X1.primary},children:["฿",Number(V.total_amount).toLocaleString()]})})]})]})})})}),(0,r.jsx)(h.Z,{xs:24,lg:8,children:(0,r.jsx)(f.Z,{title:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.Z,{style:{marginRight:8,color:"#52c41a"}}),"การชำระเงิน (",ed.length," รายการ)"]}),bordered:!1,style:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.05)",height:"100%"},children:ed.length>0?(0,r.jsx)(x.Z,{items:ed.map(e=>{var t,n;return{color:"Success"===e.status?"green":"red",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(G,{strong:!0,children:(null===(t=e.payment_method)||void 0===t?void 0:t.display_name)||(null===(n=e.payment_method)||void 0===n?void 0:n.payment_method_name)||"ไม่ระบุ"}),(0,r.jsxs)(G,{strong:!0,style:{color:O.X1.primary},children:["฿",Number(e.amount).toLocaleString()]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)(G,{type:"secondary",style:{fontSize:12},children:[(0,r.jsx)(I.Z,{style:{marginRight:4}}),B()(e.payment_date).format("DD/MM/YYYY HH:mm")]})}),e.amount_received>0&&(0,r.jsxs)("div",{style:{fontSize:12,marginTop:4},children:[(0,r.jsxs)(G,{type:"secondary",children:["รับมา ฿",Number(e.amount_received).toLocaleString()]}),e.change_amount>0&&(0,r.jsxs)(G,{type:"secondary",children:[" | ทอน ฿",Number(e.change_amount).toLocaleString()]})]})]})}})}):(0,r.jsx)("div",{style:{textAlign:"center",padding:20,color:"#999"},children:"ไม่มีข้อมูลการชำระเงิน"})})})]})]}),(0,r.jsx)(y.Z,{open:er,footer:null,closable:!1,width:380,centered:!0,children:(0,r.jsxs)("div",{style:{textAlign:"center",padding:20},children:[(0,r.jsx)(l.Z,{size:"large"}),(0,r.jsx)("div",{style:{marginTop:16},children:"กำลังเตรียมพิมพ์..."})]})}),(0,r.jsx)("div",{style:{position:"absolute",left:"-9999px",top:"-9999px"},children:(0,r.jsx)(z,{ref:ei,order:V,shopName:null==et?void 0:et.shop_name,shopAddress:null==et?void 0:et.address,shopPhone:null==et?void 0:et.phone,shopTaxId:null==et?void 0:et.tax_id,shopLogo:null==et?void 0:et.logo_url})})]})}B().locale("th")},71567:function(e,t,n){"use strict";n.d(t,{q:function(){return o},v:function(){return r}});let r="/api",o={AUTH:{LOGIN:"/auth/login",ME:"/auth/me",CSRF:"/csrf"},POS:{PRODUCTS:"/pos/products",ORDERS:"/pos/orders",TABLES:"/pos/tables",DISCOUNTS:"/pos/discounts",DELIVERY:"/pos/delivery",PAYMENT_METHODS:"/pos/paymentMethod",PAYMENTS:"/pos/payments",CATEGORY:"/pos/category",SHIFTS:{BASE:"/pos/shifts",CURRENT:"/pos/shifts/current",OPEN:"/pos/shifts/open",CLOSE:"/pos/shifts/close"},DASHBOARD:{SALES:"/pos/dashboard/sales",TOP_ITEMS:"/pos/dashboard/top-items"},CHANNELS:{STATS:"/pos/orders/stats"},SHOP_PROFILE:"/pos/shopProfile",SALES_ORDER_ITEMS:"/pos/salesOrderItem",SALES_ORDER_DETAILS:"/pos/salesOrderDetail",PRODUCTS_UNIT:"/pos/productsUnit",PAYMENT_DETAILS:"/pos/paymentDetails",BRANCH:"/branches"}}},14362:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return u},a:function(){return h}});var r=n(57437),o=n(2265),i=n(99376),a=n(5447),l=n(84859),s=n(48651),d=n(3369);let c=(0,o.createContext)(void 0),u=e=>{let{children:t}=e,[n,u]=(0,o.useState)(null),[h,f]=(0,o.useState)(!0),m=(0,i.useRouter)(),p=(0,i.usePathname)(),g=async()=>{try{let e="";e=localStorage.getItem("token_ws")||"";let t=await a.O.getMe(e);u(t)}catch(e){u(null)}finally{f(!1)}};(0,o.useEffect)(()=>{g()},[]);let{showLoading:x,hideLoading:y}=(0,d.x)();(0,o.useEffect)(()=>{h||n||"/login"===p||m.push("/login")},[n,h,p,m]);let b=async e=>{try{x("กำลังเข้าสู่ระบบ...");let t=await a.O.getCsrfToken(),{token:n,...r}=await a.O.login(e,t);n&&localStorage.setItem("token_ws",n),u(r),m.push("/")}catch(e){throw e}finally{y()}},j=async()=>{try{x("กำลังออกจากระบบ...");let e="";e=localStorage.getItem("token_ws")||"",await a.O.logout(e),localStorage.removeItem("token_ws"),l.x.clearQueue(),u(null),m.push("/login")}catch(e){console.error("Logout error:",e)}finally{y()}};return h?(0,r.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-white",children:(0,r.jsx)(s.Z,{size:"large"})}):n||"/login"===p?(0,r.jsx)(c.Provider,{value:{user:n,loading:h,login:b,logout:j,checkAuth:g},children:t}):null},h=()=>{let e=(0,o.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},46252:function(e,t,n){"use strict";n.d(t,{J:function(){return l},SocketProvider:function(){return s}});var r=n(57437),o=n(2265),i=n(68680),a=n(14362);let l=(0,o.createContext)({socket:null,isConnected:!1}),s=e=>{let{children:t}=e,[n,s]=(0,o.useState)(null),[d,c]=(0,o.useState)(!1),{user:u}=(0,a.a)();return(0,o.useEffect)(()=>{if(!u){n&&(n.disconnect(),s(null),c(!1));return}let e=localStorage.getItem("token_ws"),t=(0,i.io)("http://localhost:3000",{transports:["websocket"],withCredentials:!0,auth:e?{token:e}:void 0});return t.on("connect",()=>{console.log("Socket Connected:",t.id),c(!0)}),t.on("disconnect",()=>{console.log("Socket Disconnected"),c(!1)}),s(t),()=>{t.disconnect()}},[u]),(0,r.jsx)(l.Provider,{value:{socket:n,isConnected:d},children:t})}},3369:function(e,t,n){"use strict";n.d(t,{GlobalLoadingProvider:function(){return s},O:function(){return c},x:function(){return d}});var r=n(57437),o=n(2265),i=n(48651);let a=(0,o.createContext)(void 0),l=(0,o.createContext)(void 0),s=e=>{let{children:t}=e,[n,s]=(0,o.useState)({}),[d,c]=(0,o.useState)(void 0),u=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";s(e=>({...e,[t]:(e[t]||0)+1})),e&&c(e)},[]),h=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";s(t=>{if(!t[e])return t;let n={...t};return n[e]-=1,n[e]<=0&&delete n[e],n})},[]),f=(0,o.useCallback)(()=>{s({}),c(void 0)},[]),m=Object.keys(n).length>0,p=(0,o.useMemo)(()=>({isLoading:m,loadingMessage:d}),[m,d]),g=(0,o.useMemo)(()=>({showLoading:u,hideLoading:h,resetLoading:f}),[u,h,f]);return(0,r.jsx)(l.Provider,{value:g,children:(0,r.jsxs)(a.Provider,{value:p,children:[t,m&&(0,r.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto bg-black/10 backdrop-blur-[1px]",children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,background:"rgba(255, 255, 255, 0.9)",padding:"20px 40px",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,r.jsx)(i.Z,{size:"large"}),d&&(0,r.jsx)("div",{style:{fontSize:14,color:"#1f1f1f",fontWeight:500},children:d})]})})]})})};function d(){let e=(0,o.useContext)(a),t=(0,o.useContext)(l);if(!e||!t)throw Error("useGlobalLoading must be used within a GlobalLoadingProvider");return(0,o.useMemo)(()=>({...e,...t}),[e,t])}function c(){let e=(0,o.useContext)(l);if(!e)throw Error("useGlobalLoadingDispatch must be used within a GlobalLoadingProvider");return e}},24675:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(2265),o=n(46252);let i=()=>(0,r.useContext)(o.J)},2913:function(e,t,n){"use strict";function r(e,t){return({GET:"".concat(o.API_BASE_URL).concat(t),POST:"".concat(o.API_BASE_URL).concat(t),PUT:"".concat(o.API_BASE_URL).concat(t),DELETE:"".concat(o.API_BASE_URL).concat(t),PATCH:"".concat(o.API_BASE_URL).concat(t)})[e]}n.d(t,{b:function(){return r}});let o={get API_BASE_URL(){return"/api"}}},5447:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(71567),o=n(2913);let i={login:async(e,t,n)=>{try{let i=(0,o.b)("POST",r.q.AUTH.LOGIN),a={"Content-Type":"application/json"};t&&(a["X-CSRF-Token"]=t),n&&(a.Cookie=n);let l=await fetch(i,{method:"POST",headers:a,credentials:"include",body:JSON.stringify(e)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.message||e.detail||"เข้าสู่ระบบไม่สำเร็จ")}let s=await l.json();return{...s.user,token:s.token}}catch(e){throw Error(e.message||"เข้าสู่ระบบไม่สำเร็จ")}},logout:async(e,t,n)=>{try{let r=(0,o.b)("POST","/auth/logout"),i={"Content-Type":"application/json"};e&&(i.Authorization="Bearer ".concat(e)),t&&(i["X-CSRF-Token"]=t),n&&(i.Cookie=n),await fetch(r,{method:"POST",headers:i,credentials:"include"})}catch(e){console.error("Logout failed",e)}},getMe:async e=>{try{let t=(0,o.b)("GET",r.q.AUTH.ME),n=await fetch(t,{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},credentials:"include",cache:"no-store"});if(!n.ok)throw Error("Unauthorized");return await n.json()}catch(e){throw e}},async getCsrfToken(){try{let e=await fetch("".concat(r.v).concat(r.q.AUTH.CSRF),{credentials:"include"});if(!e.ok)return"";return(await e.json()).csrfToken}catch(e){return console.error("Failed to fetch CSRF token",e),""}}}},84859:function(e,t,n){"use strict";n.d(t,{M:function(){return l},x:function(){return a}});let r="pos_offline_queue",o=()=>{let e=localStorage.getItem(r);return e?JSON.parse(e):[]},i=e=>{localStorage.setItem(r,JSON.stringify(e))},a={addToQueue:(e,t)=>{let n=o(),r={id:"offline-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:e,payload:t,timestamp:Date.now(),retryCount:0};return i([...n,r]),r},getQueue:()=>o(),removeFromQueue:e=>{i(o().filter(t=>t.id!==e))},incrementRetry:(e,t)=>{i(o().map(n=>n.id===e?{...n,retryCount:n.retryCount+1,lastError:t}:n))},clearQueue:()=>{localStorage.removeItem(r)},pruneExceeded:()=>{i(o().filter(e=>e.retryCount<=5))}},l={maxRetry:5,backoff:e=>Math.min(3e4,2e3*e)}},53286:function(e,t,n){"use strict";n.d(t,{x:function(){return b}});var r=n(20019),o=n(2913),i=n(71567),a=n(32446);let l=r.Ryn({id:r.Z_8(),username:r.Z_8()}).partial().nullable(),s=r.Ryn({id:r.Z_8(),display_name:r.Z_8()}).partial().nullable(),d=r.Ryn({id:r.Z_8(),display_name:r.Z_8(),img_url:r.Z_8().nullable(),price:r.oQ2.number(),category:s.optional()}).partial().nullable(),c=r.Ryn({id:r.Z_8().optional(),detail_name:r.Z_8(),extra_price:r.oQ2.number()}).partial(),u=r.Ryn({id:r.Z_8(),order_id:r.Z_8(),product_id:r.Z_8(),product_name:r.Z_8().optional(),quantity:r.oQ2.number(),price:r.oQ2.number(),total_price:r.oQ2.number(),discount_amount:r.oQ2.number().optional().default(0),notes:r.Z_8().nullable().optional(),status:r.jbo(a.i).optional(),product:d.optional(),details:r.IXX(c).optional()}),h=r.Ryn({id:r.Z_8(),order_no:r.Z_8(),order_type:r.jbo(a.m),table_id:r.Z_8().nullable().optional(),delivery_id:r.Z_8().nullable().optional(),delivery_code:r.Z_8().nullable().optional(),sub_total:r.oQ2.number(),discount_id:r.Z_8().nullable().optional(),discount_amount:r.oQ2.number(),vat:r.oQ2.number(),total_amount:r.oQ2.number(),received_amount:r.oQ2.number(),change_amount:r.oQ2.number(),status:r.jbo(a.i),created_by_id:r.Z_8().nullable().optional(),create_date:r.Z_8(),update_date:r.Z_8(),items:r.IXX(u).optional(),created_by:l.optional(),table:r.YjB().optional(),delivery:r.YjB().optional(),discount:r.YjB().optional(),payments:r.IXX(r.YjB()).optional()}),f=r.Ryn({data:r.IXX(h),total:r.oQ2.number(),page:r.oQ2.number(),last_page:r.oQ2.number().optional()}),m=r.Ryn({table_name:r.Z_8().nullable().optional(),delivery_name:r.Z_8().nullable().optional()}).partial().nullable(),p=r.Ryn({id:r.Z_8(),order_no:r.Z_8(),order_type:r.jbo(a.m),status:r.jbo(a.i),create_date:r.Z_8(),total_amount:r.oQ2.number(),delivery_code:r.Z_8().nullable().optional(),table_id:r.Z_8().nullable().optional(),delivery_id:r.Z_8().nullable().optional(),table:m.optional(),delivery:m.optional(),items_summary:r.IMB(r.Z_8(),r.oQ2.number()).optional(),items_count:r.oQ2.number().optional()}),g=r.Ryn({data:r.IXX(p),total:r.oQ2.number(),page:r.oQ2.number(),last_page:r.oQ2.number().optional()}),x=i.q.POS.ORDERS,y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json",n={};return t&&(n["Content-Type"]=t),e&&(n.Cookie=e),n},b={getAll:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,s=new URLSearchParams({page:t.toString(),limit:n.toString(),...i&&{status:i},...a&&{type:a},...l&&{q:l}}),d="".concat(x,"?").concat(s.toString()),c=(0,o.b)("GET",d),u=y(e,""),h=await fetch(c,{cache:"no-store",headers:u,credentials:"include"});if(!h.ok){let e=await h.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลออเดอร์ได้")}let m=await h.json();try{return f.parse(m)}catch(e){throw console.error("Zod Validation Error in ordersService.getAll:",e),e instanceof r.jmq&&console.error("Zod Issues:",e.issues),e}},getAllSummary:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,s=new URLSearchParams({page:t.toString(),limit:n.toString(),...i&&{status:i},...a&&{type:a},...l&&{q:l}}),d="".concat(x,"/summary?").concat(s.toString()),c=(0,o.b)("GET",d),u=y(e,""),h=await fetch(c,{cache:"no-store",headers:u,credentials:"include"});if(!h.ok){let e=await h.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลออเดอร์ได้")}let f=await h.json();try{return g.parse(f)}catch(e){throw console.error("Zod Validation Error in ordersService.getAllSummary:",e),e instanceof r.jmq&&console.error("Zod Issues:",e.issues),e}},getStats:async e=>{let t=(0,o.b)("GET",i.q.POS.CHANNELS.STATS),n=y(e,""),r=await fetch(t,{cache:"no-store",headers:n,credentials:"include"});if(!r.ok){let e=await r.text();console.error("Order Stats Backend Error:",e);let t=await JSON.parse(e).catch(()=>({}));throw Error(t.error||t.message||"ไม่สามารถดึงข้อมูลสถิติได้")}return await r.json()},getById:async(e,t)=>{let n=(0,o.b)("GET","".concat(x,"/").concat(e)),i=y(t,""),a=await fetch(n,{cache:"no-store",headers:i,credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลออเดอร์ได้")}let l=await a.json();try{return h.parse(l)}catch(e){throw console.error("Zod Validation Error in ordersService.getById:",e),e instanceof r.jmq&&console.error("Zod Issues:",e.issues),e}},create:async(e,t,n)=>{let r=(0,o.b)("POST","".concat(x)),i=y(t);n&&(i["X-CSRF-Token"]=n);let a=await fetch(r,{method:"POST",headers:i,credentials:"include",body:JSON.stringify(e)});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถสร้างออเดอร์ได้")}return a.json()},update:async(e,t,n,r)=>{let i=(0,o.b)("PUT","".concat(x,"/").concat(e)),a=y(n);r&&(a["X-CSRF-Token"]=r);let l=await fetch(i,{method:"PUT",headers:a,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถแก้ไขออเดอร์ได้")}return l.json()},delete:async(e,t,n)=>{let r=(0,o.b)("DELETE","".concat(x,"/").concat(e)),i=y(t,"");n&&(i["X-CSRF-Token"]=n);let a=await fetch(r,{method:"DELETE",headers:i,credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถลบออเดอร์ได้")}},updateItemStatus:async(e,t,n,r)=>{let i=(0,o.b)("PATCH","".concat(x,"/items/").concat(e,"/status")),a=y(n);r&&(a["X-CSRF-Token"]=r);let l=await fetch(i,{method:"PATCH",headers:a,credentials:"include",body:JSON.stringify({status:t})});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถอัปเดตสถานะรายการได้")}},getItems:async(e,t)=>{let n=(0,o.b)("GET","".concat(x,"/items").concat(e?"?status=".concat(e):"")),r=y(t,""),i=await fetch(n,{cache:"no-store",headers:r,credentials:"include"});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลรายการได้")}return i.json()},addItem:async(e,t,n,r)=>{let i=(0,o.b)("POST","".concat(x,"/").concat(e,"/items")),a=y(n);r&&(a["X-CSRF-Token"]=r);let l=await fetch(i,{method:"POST",headers:a,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถเพิ่มรายการได้")}return l.json()},updateItem:async(e,t,n,r)=>{let i=(0,o.b)("PUT","".concat(x,"/items/").concat(e)),a=y(n);r&&(a["X-CSRF-Token"]=r);let l=await fetch(i,{method:"PUT",headers:a,credentials:"include",body:JSON.stringify(t)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถแก้ไขรายการได้")}return l.json()},deleteItem:async(e,t,n)=>{let r=(0,o.b)("DELETE","".concat(x,"/items/").concat(e)),i=y(t,"");n&&(i["X-CSRF-Token"]=n);let a=await fetch(r,{method:"DELETE",headers:i,credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถลบรายการได้")}return a.json()},updateStatus:async(e,t,n)=>{let r={"Content-Type":"application/json"};n&&(r["X-CSRF-Token"]=n);let i=(0,o.b)("PUT","".concat(x,"/").concat(e));if(!(await fetch(i,{method:"PUT",headers:r,body:JSON.stringify({status:t}),credentials:"include"})).ok)throw Error("Failed to update status")}}},19135:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var r=n(2913);let o="/pos/shopProfile",i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json",n={};return t&&(n["Content-Type"]=t),e&&(n.Cookie=e),n},a={getProfile:async e=>{let t=(0,r.b)("GET",o),n=i(e,""),a=await fetch(t,{cache:"no-store",headers:n,credentials:"include"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถดึงข้อมูลร้านค้าได้")}return a.json()},updateProfile:async(e,t,n)=>{let a=(0,r.b)("PUT",o),l=i(t);n&&(l["X-CSRF-Token"]=n);let s=await fetch(a,{method:"PUT",headers:l,credentials:"include",body:JSON.stringify(e)});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error||e.message||"ไม่สามารถอัปเดตข้อมูลร้านค้าได้")}return s.json()}}},44225:function(e,t,n){"use strict";n.d(t,{Np:function(){return i},X1:function(){return r},ax:function(){return a},hS:function(){return o}});let r={primary:"#1890ff",secondary:"#13c2c2",success:"#52c41a",warning:"#faad14",error:"#ff4d4f",background:"#f5f5f5",cardBg:"#ffffff",text:"#262626",textSecondary:"#8c8c8c",border:"#f0f0f0",id_dineIn:"#1890ff",id_takeaway:"#52c41a",id_delivery:"#722ed1",kitchen:"#ff6b35",shift:"#10b981",kitchenBg:"#0f172a",kitchenCard:"rgba(30, 41, 59, 0.7)",kitchenBorder:"rgba(255, 255, 255, 0.1)"},o={dineIn:{primary:"#1890ff",light:"#e6f7ff",border:"#91d5ff",gradient:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)"},takeaway:{primary:"#52c41a",light:"#f6ffed",border:"#b7eb8f",gradient:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)"},delivery:{primary:"#722ed1",light:"#f9f0ff",border:"#d3adf7",gradient:"linear-gradient(135deg, #722ed1 0%, #9254de 100%)"}},i={container:{minHeight:"100vh",background:r.background,fontFamily:"'Inter', 'Sarabun', sans-serif"},heroParams:{background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",padding:"32px 24px 70px",position:"relative",borderBottomLeftRadius:24,borderBottomRightRadius:24,boxShadow:"0 8px 24px rgba(24, 144, 255, 0.25)",marginBottom:-40,zIndex:1,overflow:"hidden"},kitchenContainer:{minHeight:"100vh",background:"#0f172a",padding:"24px 24px 100px",color:"#f8fafc",fontFamily:"'Inter', 'Sarabun', sans-serif"},kitchenGlassCard:{background:"rgba(30, 41, 59, 0.7)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:20,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",overflow:"hidden"},kitchenHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,flexWrap:"wrap",gap:16},shiftHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},sectionTitle:{display:"flex",alignItems:"center",gap:12,marginBottom:20,color:"#fff"},contentWrapper:{maxWidth:1400,margin:"-40px auto 30px",padding:"0 24px",position:"relative",zIndex:20},card:{borderRadius:16,boxShadow:"0 4px 12px rgba(0,0,0,0.05)",border:"none",overflow:"hidden",background:r.cardBg},itemCard:{marginBottom:8,borderRadius:8,transition:"all 0.3s ease"}},a={available:{primary:"#52c41a",light:"#f6ffed",border:"#b7eb8f",gradient:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)"},occupied:{primary:"#fa8c16",light:"#fff7e6",border:"#ffd591",gradient:"linear-gradient(135deg, #fa8c16 0%, #ffa940 100%)"},inactive:{primary:"#8c8c8c",light:"#fafafa",border:"#d9d9d9",gradient:"linear-gradient(135deg, #8c8c8c 0%, #bfbfbf 100%)"},waitingForPayment:{primary:"#1890ff",light:"#e6f7ff",border:"#91d5ff",gradient:"linear-gradient(135deg, #1890ff 0%, #40a9ff 100%)"}}},32446:function(e,t,n){"use strict";var r,o,i,a;n.d(t,{i:function(){return o},m:function(){return r}}),(i=r||(r={})).DineIn="DineIn",i.TakeAway="TakeAway",i.Delivery="Delivery",(a=o||(o={})).Pending="Pending",a.Cooking="Cooking",a.Served="Served",a.WaitingForPayment="WaitingForPayment",a.Paid="Paid",a.Completed="Completed",a.Cancelled="Cancelled"},5105:function(e,t,n){"use strict";var r,o;n.d(t,{M:function(){return r}}),(o=r||(r={})).Pending="Pending",o.Cooking="Cooking",o.Served="Served",o.Cancelled="Cancelled"},67697:function(e,t,n){"use strict";n.d(t,{D:function(){return a},v:function(){return i}});var r=n(2265);let o=e=>{if("string"==typeof e)return e;if(e&&"object"==typeof e){var t;if("id"in e&&e.id)return e.id;if("data"in e&&(null===(t=e.data)||void 0===t?void 0:t.id))return e.data.id}};function i(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>e.id,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>!0;(0,r.useEffect)(()=>{if(!e)return;let r=e=>{if(!a(e))return;let t=i(e);n(n=>n.some(e=>i(e)===t)?n:[...n,e])},l=e=>{let t=i(e);n(n=>a(e)?n.some(e=>i(e)===t)?n.map(n=>i(n)===t?e:n):[...n,e]:n.filter(e=>i(e)!==t))},s=e=>{let t=o(e);t&&n(e=>e.filter(e=>i(e)!==t))};return e.on(t.create,r),e.on(t.update,l),e.on(t.delete,s),()=>{e.off(t.create,r),e.off(t.update,l),e.off(t.delete,s)}},[e,t.create,t.update,t.delete,i,n,a])}function a(e){let{socket:t,events:n=[],onRefresh:o,intervalMs:i,enabled:a=!0,debounceMs:l}=e;(0,r.useEffect)(()=>{if(!a||!t||0===n.length)return;let e=null,r=()=>{if(!l||l<=0){o();return}e&&clearTimeout(e),e=setTimeout(()=>{e=null,o()},l)};return n.forEach(e=>t.on(e,r)),()=>{e&&clearTimeout(e),n.forEach(e=>t.off(e,r))}},[a,t,n,o,l]),(0,r.useEffect)(()=>{if(!a||!i)return;let e=setInterval(o,i);return()=>clearInterval(e)},[a,i,o])}}},function(e){e.O(0,[5015,7717,7698,742,3211,7993,8651,2646,6207,7213,9021,2224,3248,1721,9,5616,5496,3834,8640,6931,19,8056,1652,3410,2297,4849,4635,2971,2117,1744],function(){return e(e.s=12873)}),_N_E=e.O()}]);