(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5465],{86233:function(e,n,t){Promise.resolve().then(t.bind(t,96917))},96917:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var i=t(57437),a=t(29),r=t.n(a),o=t(2265),s=t(19683),d=t(34029),l=t(53743),c=t(93834),u=t(50742),p=t(35713),m=t(85180),h=t(80009),x=t(1915),g=t(89245),f=t(88898),b=t(5540),y=t(28595),q=t(83669),j=t(81770),v=t(26349),w=t(88444),C=t(5325),k=t(3286),Z=t(2938),N=t(42785);let z={container:{minHeight:"100vh",background:"#f5f7fa",fontFamily:"'Inter', 'Sarabun', sans-serif",paddingBottom:100},header:{background:"linear-gradient(135deg, #6366F1 0%, #4F46E5 100%)",padding:"16px 16px 48px",position:"relative",borderBottomLeftRadius:20,borderBottomRightRadius:20,boxShadow:"0 4px 16px rgba(99, 102, 241, 0.2)",zIndex:1,overflow:"hidden"},headerContent:{maxWidth:1400,margin:"0 auto",position:"relative",zIndex:2},headerTop:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,marginBottom:20,flexWrap:"wrap"},headerLeft:{display:"flex",alignItems:"center",gap:12,flex:1,minWidth:200},headerIconBox:{width:56,height:56,borderRadius:14,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},headerTitleBox:{flex:1},headerSubtitle:{color:"rgba(255,255,255,0.85)",fontSize:13,display:"block",marginBottom:4},headerTitle:{color:"white",fontSize:20,fontWeight:700,margin:0,lineHeight:1.2},headerActions:{display:"flex",gap:8,flexWrap:"wrap"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginBottom:24},statCard:{background:"white",borderRadius:16,padding:20,textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0"},statIcon:{fontSize:32,marginBottom:8},statLabel:{fontSize:13,color:"#8c8c8c",marginTop:4},queueList:{display:"flex",flexDirection:"column",gap:12},queueCard:{background:"white",borderRadius:16,padding:16,boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0",transition:"all 0.3s ease"},queueCardContent:{display:"flex",flexDirection:"column",gap:12},queueCardTop:{display:"flex",alignItems:"center",gap:12},queuePosition:{width:48,height:48,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:700,fontSize:18,flexShrink:0},queueInfo:{flex:1,minWidth:0},queueOrderNo:{fontSize:16,fontWeight:600,color:"#1a1a2e",marginBottom:4},queueTags:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},queueMeta:{display:"flex",flexDirection:"column",gap:4,fontSize:12,color:"#8c8c8c"},queueNotes:{fontSize:12,color:"#8c8c8c",marginTop:4,padding:8,background:"#f8f9fa",borderRadius:8},queueActions:{display:"flex",gap:8,flexWrap:"wrap",marginTop:8},emptyCard:{background:"white",borderRadius:16,padding:60,textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"}},S="\n    /* Mobile First - Base Styles */\n    .queue-header-mobile {\n        padding: 20px 16px 50px !important;\n    }\n\n    .queue-header-icon-mobile {\n        width: 48px !important;\n        height: 48px !important;\n        font-size: 20px !important;\n    }\n\n    .queue-header-title-mobile {\n        font-size: 18px !important;\n    }\n\n    .queue-header-subtitle-mobile {\n        font-size: 12px !important;\n    }\n\n    .queue-stats-grid-mobile {\n        grid-template-columns: repeat(2, 1fr) !important;\n        gap: 10px !important;\n    }\n\n    .queue-stat-card-mobile {\n        padding: 16px 12px !important;\n    }\n\n    .queue-stat-icon-mobile {\n        font-size: 28px !important;\n    }\n\n    .queue-card-mobile {\n        padding: 14px !important;\n    }\n\n    .queue-position-mobile {\n        width: 44px !important;\n        height: 44px !important;\n        font-size: 16px !important;\n    }\n\n    .queue-order-no-mobile {\n        font-size: 15px !important;\n    }\n\n    .queue-actions-mobile {\n        flex-direction: column !important;\n    }\n\n    .queue-actions-mobile button {\n        width: 100% !important;\n        height: 44px !important;\n    }\n\n    /* Tablet (768px+) */\n    @media (min-width: 768px) {\n        .queue-header-mobile {\n            padding: 32px 24px 60px !important;\n        }\n\n        .queue-header-icon-mobile {\n            width: 64px !important;\n            height: 64px !important;\n            font-size: 28px !important;\n        }\n\n        .queue-header-title-mobile {\n            font-size: 24px !important;\n        }\n\n        .queue-stats-grid-mobile {\n            grid-template-columns: repeat(4, 1fr) !important;\n            gap: 16px !important;\n        }\n\n        .queue-stat-card-mobile {\n            padding: 24px 20px !important;\n        }\n\n        .queue-stat-icon-mobile {\n            font-size: 36px !important;\n        }\n\n        .queue-card-mobile {\n            padding: 20px !important;\n        }\n\n        .queue-card-content-mobile {\n            flex-direction: row !important;\n            align-items: center !important;\n        }\n\n        .queue-actions-mobile {\n            flex-direction: row !important;\n            margin-top: 0 !important;\n            margin-left: auto !important;\n        }\n\n        .queue-actions-mobile button {\n            width: auto !important;\n        }\n    }\n\n    /* Desktop (1024px+) */\n    @media (min-width: 1024px) {\n        .queue-header-mobile {\n            padding: 40px 32px 80px !important;\n        }\n\n        .queue-stats-grid-mobile {\n            gap: 20px !important;\n        }\n    }\n\n    /* Animations */\n    @keyframes fadeInUp {\n        from {\n            opacity: 0;\n            transform: translateY(12px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .queue-card-animate {\n        animation: fadeInUp 0.4s ease forwards;\n        opacity: 0;\n    }\n\n    .queue-card-delay-1 { animation-delay: 0.1s; }\n    .queue-card-delay-2 { animation-delay: 0.2s; }\n    .queue-card-delay-3 { animation-delay: 0.3s; }\n    .queue-card-delay-4 { animation-delay: 0.4s; }\n\n    /* Hover Effects */\n    .queue-card-hover:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 4px 16px rgba(0,0,0,0.1) !important;\n    }\n\n    .queue-card-hover:active {\n        transform: translateY(0);\n    }\n\n    /* Touch-friendly */\n    @media (max-width: 768px) {\n        .queue-card-hover {\n            -webkit-tap-highlight-color: rgba(102, 126, 234, 0.1);\n        }\n\n        .hide-on-mobile {\n            display: none !important;\n        }\n    }\n\n    @media (min-width: 769px) {\n        .hide-on-mobile {\n            display: inline !important;\n        }\n    }\n";var P=t(71096),R=t.n(P);t(6729);let{Text:I,Title:T}=s.default;R().locale("th");let _={[C.t.Low]:"default",[C.t.Normal]:"blue",[C.t.High]:"orange",[C.t.Urgent]:"red"},B={[C.t.Low]:"ต่ำ",[C.t.Normal]:"ปกติ",[C.t.High]:"สูง",[C.t.Urgent]:"ด่วน"},H={[C.l.Pending]:"default",[C.l.Processing]:"processing",[C.l.Completed]:"success",[C.l.Cancelled]:"error"},W={[C.l.Pending]:"รอ",[C.l.Processing]:"กำลังดำเนินการ",[C.l.Completed]:"เสร็จสิ้น",[C.l.Cancelled]:"ยกเลิก"};function L(){let[e,n]=(0,o.useState)(void 0),{queue:t,isLoading:a,updateStatus:s,removeFromQueue:P,reorderQueue:L,isReordering:A}=(0,w.G)(e),{isAuthorized:O,isChecking:Y}=(0,k.e)({requiredRole:"Admin"});(0,N.mk)();let E=(e,n)=>{s({id:e.id,data:{status:n}},{onSuccess:()=>{d.ZP.success("อัปเดตสถานะสำเร็จ")}})},D=e=>{var n;l.Z.confirm({title:"ยืนยันการลบออกจากคิว",content:'คุณต้องการลบออเดอร์ "'.concat((null===(n=e.order)||void 0===n?void 0:n.order_no)||e.order_id,'" ออกจากคิวหรือไม่?'),okText:"ลบ",okType:"danger",cancelText:"ยกเลิก",centered:!0,onOk:()=>{P(e.id,{onSuccess:()=>{d.ZP.success("ลบออกจากคิวสำเร็จ")}})}})};if(Y)return(0,i.jsx)(Z.H,{message:"กำลังตรวจสอบสิทธิ์การใช้งาน..."});if(!O)return(0,i.jsx)(Z.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้",tone:"danger"});let F=t.filter(e=>e.status===C.l.Pending),M=t.filter(e=>e.status===C.l.Processing),U=t.filter(e=>e.status===C.l.Completed),G=e=>{switch(e){case C.t.Urgent:return"linear-gradient(135deg, #ff4d4f 0%, #cf1322 100%)";case C.t.High:return"linear-gradient(135deg, #fa8c16 0%, #d48806 100%)";case C.t.Normal:return"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)";default:return"linear-gradient(135deg, #8c8c8c 0%, #595959 100%)"}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r(),{id:S.__hash,children:S}),(0,i.jsxs)("div",{style:z.container,children:[(0,i.jsxs)("div",{style:z.header,className:"queue-header-mobile",children:[(0,i.jsx)("div",{style:{position:"absolute",top:-50,right:-50,width:200,height:200,borderRadius:"50%",background:"rgba(255,255,255,0.08)",pointerEvents:"none"}}),(0,i.jsx)("div",{style:{position:"absolute",bottom:-30,left:-30,width:120,height:120,borderRadius:"50%",background:"rgba(255,255,255,0.06)",pointerEvents:"none"}}),(0,i.jsx)("div",{style:z.headerContent,children:(0,i.jsxs)("div",{style:z.headerTop,children:[(0,i.jsxs)("div",{style:z.headerLeft,children:[(0,i.jsx)("div",{style:z.headerIconBox,className:"queue-header-icon-mobile",children:(0,i.jsx)(x.Z,{style:{fontSize:24,color:"white"}})}),(0,i.jsxs)("div",{style:z.headerTitleBox,children:[(0,i.jsx)(I,{style:z.headerSubtitle,className:"queue-header-subtitle-mobile",children:"จัดการคิวออเดอร์"}),(0,i.jsx)(T,{level:3,style:z.headerTitle,className:"queue-header-title-mobile",children:"Order Queue"})]})]}),(0,i.jsxs)("div",{style:z.headerActions,children:[(0,i.jsx)(c.default,{value:e,placeholder:"กรองสถานะ",allowClear:!0,style:{width:140,minWidth:120},size:"middle",onChange:n,children:Object.values(C.l).map(e=>(0,i.jsx)(c.default.Option,{value:e,children:W[e]},e))}),(0,i.jsx)(u.ZP,{icon:(0,i.jsx)(g.Z,{}),onClick:()=>window.location.reload(),style:{background:"rgba(255,255,255,0.2)",color:"white",border:"none",borderRadius:10},size:"middle"}),(0,i.jsx)(u.ZP,{icon:(0,i.jsx)(f.Z,{}),onClick:()=>{L(void 0,{onSuccess:()=>{d.ZP.success("จัดเรียงคิวใหม่สำเร็จ")}})},loading:A,style:{background:"white",color:"#667eea",borderRadius:10,fontWeight:600},size:"middle",children:(0,i.jsx)("span",{className:"hide-on-mobile",children:"จัดเรียง"})})]})]})})]}),(0,i.jsxs)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"48px 16px 80px"},children:[(0,i.jsxs)("div",{style:z.statsGrid,className:"queue-stats-grid-mobile",children:[(0,i.jsxs)("div",{style:z.statCard,className:"queue-stat-card-mobile",children:[(0,i.jsx)(p.Z,{count:F.length,showZero:!0,offset:[10,-5],children:(0,i.jsx)(b.Z,{style:{...z.statIcon,color:"#1890ff"},className:"queue-stat-icon-mobile"})}),(0,i.jsx)(I,{style:z.statLabel,children:"รอในคิว"})]}),(0,i.jsxs)("div",{style:z.statCard,className:"queue-stat-card-mobile",children:[(0,i.jsx)(p.Z,{count:M.length,showZero:!0,offset:[10,-5],children:(0,i.jsx)(y.Z,{style:{...z.statIcon,color:"#fa8c16"},className:"queue-stat-icon-mobile"})}),(0,i.jsx)(I,{style:z.statLabel,children:"กำลังดำเนินการ"})]}),(0,i.jsxs)("div",{style:z.statCard,className:"queue-stat-card-mobile",children:[(0,i.jsx)(p.Z,{count:U.length,showZero:!0,offset:[10,-5],children:(0,i.jsx)(q.Z,{style:{...z.statIcon,color:"#52c41a"},className:"queue-stat-icon-mobile"})}),(0,i.jsx)(I,{style:z.statLabel,children:"เสร็จสิ้น"})]}),(0,i.jsxs)("div",{style:z.statCard,className:"queue-stat-card-mobile",children:[(0,i.jsx)(p.Z,{count:t.length,showZero:!0,offset:[10,-5],children:(0,i.jsx)(x.Z,{style:{...z.statIcon,color:"#722ed1"},className:"queue-stat-icon-mobile"})}),(0,i.jsx)(I,{style:z.statLabel,children:"ทั้งหมด"})]})]}),a?(0,i.jsx)("div",{style:z.emptyCard,children:(0,i.jsx)(m.Z,{description:"กำลังโหลด..."})}):0===t.length?(0,i.jsx)("div",{style:z.emptyCard,children:(0,i.jsx)(m.Z,{description:"ยังไม่มีออเดอร์ในคิว"})}):(0,i.jsx)("div",{style:z.queueList,children:t.map((e,n)=>{var t;return(0,i.jsx)("div",{style:z.queueCard,className:"queue-card-hover queue-card-animate queue-card-delay-".concat(n%4+1),children:(0,i.jsxs)("div",{style:z.queueCardContent,className:"queue-card-content-mobile",children:[(0,i.jsxs)("div",{style:z.queueCardTop,children:[(0,i.jsx)("div",{style:{...z.queuePosition,background:G(e.priority)},className:"queue-position-mobile",children:e.queue_position}),(0,i.jsxs)("div",{style:z.queueInfo,children:[(0,i.jsx)(I,{strong:!0,style:z.queueOrderNo,className:"queue-order-no-mobile",children:(null===(t=e.order)||void 0===t?void 0:t.order_no)||"N/A"}),(0,i.jsxs)("div",{style:z.queueTags,children:[(0,i.jsx)(h.Z,{color:_[e.priority],style:{margin:0,borderRadius:8},children:B[e.priority]}),(0,i.jsx)(h.Z,{color:H[e.status],style:{margin:0,borderRadius:8},children:W[e.status]})]}),(0,i.jsxs)("div",{style:z.queueMeta,children:[(0,i.jsxs)(I,{type:"secondary",children:["สร้าง: ",R()(e.created_at).format("DD/MM/YYYY HH:mm")]}),e.started_at&&(0,i.jsxs)(I,{type:"secondary",children:["เริ่ม: ",R()(e.started_at).format("HH:mm")]}),e.completed_at&&(0,i.jsxs)(I,{type:"secondary",children:["เสร็จ: ",R()(e.completed_at).format("HH:mm")]})]}),e.notes&&(0,i.jsx)("div",{style:z.queueNotes,children:(0,i.jsxs)(I,{type:"secondary",children:["หมายเหตุ: ",e.notes]})})]})]}),(0,i.jsxs)("div",{style:z.queueActions,className:"queue-actions-mobile",children:[e.status===C.l.Pending&&(0,i.jsx)(u.ZP,{type:"primary",icon:(0,i.jsx)(y.Z,{}),onClick:()=>E(e,C.l.Processing),size:"middle",style:{borderRadius:10},children:"เริ่มดำเนินการ"}),e.status===C.l.Processing&&(0,i.jsx)(u.ZP,{type:"primary",icon:(0,i.jsx)(q.Z,{}),onClick:()=>E(e,C.l.Completed),size:"middle",style:{borderRadius:10,background:"#52c41a",borderColor:"#52c41a"},children:"เสร็จสิ้น"}),e.status!==C.l.Completed&&(0,i.jsx)(u.ZP,{danger:!0,icon:(0,i.jsx)(j.Z,{}),onClick:()=>E(e,C.l.Cancelled),size:"middle",style:{borderRadius:10},children:"ยกเลิก"}),(0,i.jsx)(u.ZP,{danger:!0,icon:(0,i.jsx)(v.Z,{}),onClick:()=>D(e),size:"middle",style:{borderRadius:10},children:"ลบ"})]})]})},e.id)})})]})]})]})}}},function(e){e.O(0,[8024,4736,8592,1744],function(){return e(e.s=86233)}),_N_E=e.O()}]);