(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5465],{86233:function(e,n,t){Promise.resolve().then(t.bind(t,96917))},96917:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return B}});var i=t(57437),a=t(29),r=t.n(a),o=t(2265),s=t(19683),l=t(34029),d=t(53743),c=t(93834),u=t(50742),m=t(35713),p=t(80009),x=t(1915),h=t(89245),g=t(88898),f=t(5540),b=t(28595),y=t(83669),q=t(81770),j=t(26349),v=t(88444),w=t(5325),C=t(3286),Z=t(2938),k=t(42785);let N={container:{minHeight:"100vh",background:"#f5f7fa",fontFamily:"var(--font-sans), 'Sarabun', sans-serif",paddingBottom:100},statsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginBottom:24},statCard:{background:"white",borderRadius:16,padding:20,textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0"},statIcon:{fontSize:32,marginBottom:8},statLabel:{fontSize:13,color:"#8c8c8c",marginTop:4},queueList:{display:"flex",flexDirection:"column",gap:12},queueCard:{background:"white",borderRadius:16,padding:16,boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0",transition:"all 0.3s ease"},queueCardContent:{display:"flex",flexDirection:"column",gap:12},queueCardTop:{display:"flex",alignItems:"center",gap:12},queuePosition:{width:48,height:48,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:700,fontSize:18,flexShrink:0},queueInfo:{flex:1,minWidth:0},queueOrderNo:{fontSize:16,fontWeight:600,color:"#1a1a2e",marginBottom:4},queueTags:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},queueMeta:{display:"flex",flexDirection:"column",gap:4,fontSize:12,color:"#8c8c8c"},queueNotes:{fontSize:12,color:"#8c8c8c",marginTop:4,padding:8,background:"#f8f9fa",borderRadius:8},queueActions:{display:"flex",gap:8,flexWrap:"wrap",marginTop:8},emptyCard:{background:"white",borderRadius:16,padding:60,textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"}},P="\n    /* Mobile First - Base Styles */\n    .queue-header-mobile {\n        padding: 20px 16px 50px !important;\n    }\n\n    .queue-header-icon-mobile {\n        width: 48px !important;\n        height: 48px !important;\n        font-size: 20px !important;\n    }\n\n    .queue-header-title-mobile {\n        font-size: 18px !important;\n    }\n\n    .queue-header-subtitle-mobile {\n        font-size: 12px !important;\n    }\n\n    .queue-stats-grid-mobile {\n        grid-template-columns: repeat(2, 1fr) !important;\n        gap: 10px !important;\n    }\n\n    .queue-stat-card-mobile {\n        padding: 16px 12px !important;\n    }\n\n    .queue-stat-icon-mobile {\n        font-size: 28px !important;\n    }\n\n    .queue-card-mobile {\n        padding: 14px !important;\n    }\n\n    .queue-position-mobile {\n        width: 44px !important;\n        height: 44px !important;\n        font-size: 16px !important;\n    }\n\n    .queue-order-no-mobile {\n        font-size: 15px !important;\n    }\n\n    .queue-actions-mobile {\n        flex-direction: column !important;\n    }\n\n    .queue-actions-mobile button {\n        width: 100% !important;\n        height: 44px !important;\n    }\n\n    /* Tablet (768px+) */\n    @media (min-width: 768px) {\n        .queue-header-mobile {\n            padding: 32px 24px 60px !important;\n        }\n\n        .queue-header-icon-mobile {\n            width: 64px !important;\n            height: 64px !important;\n            font-size: 28px !important;\n        }\n\n        .queue-header-title-mobile {\n            font-size: 24px !important;\n        }\n\n        .queue-stats-grid-mobile {\n            grid-template-columns: repeat(4, 1fr) !important;\n            gap: 16px !important;\n        }\n\n        .queue-stat-card-mobile {\n            padding: 24px 20px !important;\n        }\n\n        .queue-stat-icon-mobile {\n            font-size: 36px !important;\n        }\n\n        .queue-card-mobile {\n            padding: 20px !important;\n        }\n\n        .queue-card-content-mobile {\n            flex-direction: row !important;\n            align-items: center !important;\n        }\n\n        .queue-actions-mobile {\n            flex-direction: row !important;\n            margin-top: 0 !important;\n            margin-left: auto !important;\n        }\n\n        .queue-actions-mobile button {\n            width: auto !important;\n        }\n    }\n\n    /* Desktop (1024px+) */\n    @media (min-width: 1024px) {\n        .queue-header-mobile {\n            padding: 40px 32px 80px !important;\n        }\n\n        .queue-stats-grid-mobile {\n            gap: 20px !important;\n        }\n    }\n\n    /* Animations */\n    @keyframes fadeInUp {\n        from {\n            opacity: 0;\n            transform: translateY(12px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .queue-card-animate {\n        animation: fadeInUp 0.4s ease forwards;\n        opacity: 0;\n    }\n\n    .queue-card-delay-1 { animation-delay: 0.1s; }\n    .queue-card-delay-2 { animation-delay: 0.2s; }\n    .queue-card-delay-3 { animation-delay: 0.3s; }\n    .queue-card-delay-4 { animation-delay: 0.4s; }\n\n    /* Hover Effects */\n    .queue-card-hover:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 4px 16px rgba(0,0,0,0.1) !important;\n    }\n\n    .queue-card-hover:active {\n        transform: translateY(0);\n    }\n\n    /* Touch-friendly */\n    @media (max-width: 768px) {\n        .queue-card-hover {\n            -webkit-tap-highlight-color: rgba(102, 126, 234, 0.1);\n        }\n\n        .hide-on-mobile {\n            display: none !important;\n        }\n    }\n\n    @media (min-width: 769px) {\n        .hide-on-mobile {\n            display: inline !important;\n        }\n    }\n";var z=t(25193),_=t(37410),S=t(20148),H=t(2786),T=t(71096),R=t.n(T);t(6729);let{Text:I}=s.default;R().locale("th");let L={[w.t.Low]:"default",[w.t.Normal]:"blue",[w.t.High]:"orange",[w.t.Urgent]:"red"},O={[w.t.Low]:"ต่ำ",[w.t.Normal]:"ปกติ",[w.t.High]:"สูง",[w.t.Urgent]:"ด่วน"},Y={[w.l.Pending]:"default",[w.l.Processing]:"processing",[w.l.Completed]:"success",[w.l.Cancelled]:"error"},A={[w.l.Pending]:"รอ",[w.l.Processing]:"กำลังดำเนินการ",[w.l.Completed]:"เสร็จสิ้น",[w.l.Cancelled]:"ยกเลิก"};function B(){let[e,n]=(0,o.useState)(void 0),{queue:t,isLoading:a,updateStatus:s,removeFromQueue:T,reorderQueue:B,isReordering:D}=(0,v.G)(e),{isAuthorized:W,isChecking:M}=(0,C.e)({requiredRole:"Admin"});(0,k.mk)();let U=(e,n)=>{s({id:e.id,data:{status:n}},{onSuccess:()=>{l.ZP.success("อัปเดตสถานะสำเร็จ")}})},E=e=>{var n;d.Z.confirm({title:"ยืนยันการลบออกจากคิว",content:'คุณต้องการลบออเดอร์ "'.concat((null===(n=e.order)||void 0===n?void 0:n.order_no)||e.order_id,'" ออกจากคิวหรือไม่?'),okText:"ลบ",okType:"danger",cancelText:"ยกเลิก",centered:!0,onOk:()=>{T(e.id,{onSuccess:()=>{l.ZP.success("ลบออกจากคิวสำเร็จ")}})}})};if(M)return(0,i.jsx)(Z.H,{message:"กำลังตรวจสอบสิทธิ์การใช้งาน..."});if(!W)return(0,i.jsx)(Z.H,{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้",tone:"danger"});let F=t.filter(e=>e.status===w.l.Pending),G=t.filter(e=>e.status===w.l.Processing),Q=t.filter(e=>e.status===w.l.Completed),J=e=>{switch(e){case w.t.Urgent:return"linear-gradient(135deg, #ff4d4f 0%, #cf1322 100%)";case w.t.High:return"linear-gradient(135deg, #fa8c16 0%, #d48806 100%)";case w.t.Normal:return"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)";default:return"linear-gradient(135deg, #8c8c8c 0%, #595959 100%)"}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r(),{id:P.__hash,children:P}),(0,i.jsxs)("div",{style:N.container,children:[(0,i.jsx)(S.Z,{title:"Order Queue",subtitle:"จัดการคิวออเดอร์",icon:(0,i.jsx)(x.Z,{}),style:{background:"transparent",borderBottom:"none"},actions:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.default,{value:e,placeholder:"กรองสถานะ",allowClear:!0,style:{width:160},size:"middle",onChange:n,children:Object.values(w.l).map(e=>(0,i.jsx)(c.default.Option,{value:e,children:A[e]},e))}),(0,i.jsx)(u.ZP,{icon:(0,i.jsx)(h.Z,{}),onClick:()=>window.location.reload(),children:"รีเฟรช"}),(0,i.jsx)(u.ZP,{icon:(0,i.jsx)(g.Z,{}),onClick:()=>{B(void 0,{onSuccess:()=>{l.ZP.success("จัดเรียงคิวใหม่สำเร็จ")}})},loading:D,type:"primary",children:"จัดเรียง"})]})}),(0,i.jsx)(z.Z,{maxWidth:1400,children:(0,i.jsxs)(_.Z,{style:{background:"transparent",border:"none"},children:[(0,i.jsxs)("div",{style:N.statsGrid,className:"queue-stats-grid-mobile",children:[(0,i.jsxs)("div",{style:N.statCard,className:"queue-stat-card-mobile",children:[(0,i.jsx)(m.Z,{count:F.length,showZero:!0,offset:[10,-5],children:(0,i.jsx)(f.Z,{style:{...N.statIcon,color:"#1890ff"},className:"queue-stat-icon-mobile"})}),(0,i.jsx)(I,{style:N.statLabel,children:"รอในคิว"})]}),(0,i.jsxs)("div",{style:N.statCard,className:"queue-stat-card-mobile",children:[(0,i.jsx)(m.Z,{count:G.length,showZero:!0,offset:[10,-5],children:(0,i.jsx)(b.Z,{style:{...N.statIcon,color:"#fa8c16"},className:"queue-stat-icon-mobile"})}),(0,i.jsx)(I,{style:N.statLabel,children:"กำลังดำเนินการ"})]}),(0,i.jsxs)("div",{style:N.statCard,className:"queue-stat-card-mobile",children:[(0,i.jsx)(m.Z,{count:Q.length,showZero:!0,offset:[10,-5],children:(0,i.jsx)(y.Z,{style:{...N.statIcon,color:"#52c41a"},className:"queue-stat-icon-mobile"})}),(0,i.jsx)(I,{style:N.statLabel,children:"เสร็จสิ้น"})]}),(0,i.jsxs)("div",{style:N.statCard,className:"queue-stat-card-mobile",children:[(0,i.jsx)(m.Z,{count:t.length,showZero:!0,offset:[10,-5],children:(0,i.jsx)(x.Z,{style:{...N.statIcon,color:"#722ed1"},className:"queue-stat-icon-mobile"})}),(0,i.jsx)(I,{style:N.statLabel,children:"ทั้งหมด"})]})]}),a?(0,i.jsx)("div",{style:N.emptyCard,children:(0,i.jsx)(H.Z,{title:"กำลังโหลด..."})}):0===t.length?(0,i.jsx)("div",{style:N.emptyCard,children:(0,i.jsx)(H.Z,{title:"ยังไม่มีออเดอร์ในคิว"})}):(0,i.jsx)("div",{style:N.queueList,children:t.map((e,n)=>{var t;return(0,i.jsx)("div",{style:N.queueCard,className:"queue-card-hover queue-card-animate queue-card-delay-".concat(n%4+1),children:(0,i.jsxs)("div",{style:N.queueCardContent,className:"queue-card-content-mobile",children:[(0,i.jsxs)("div",{style:N.queueCardTop,children:[(0,i.jsx)("div",{style:{...N.queuePosition,background:J(e.priority)},className:"queue-position-mobile",children:e.queue_position}),(0,i.jsxs)("div",{style:N.queueInfo,children:[(0,i.jsx)(I,{strong:!0,style:N.queueOrderNo,className:"queue-order-no-mobile",children:(null===(t=e.order)||void 0===t?void 0:t.order_no)||"N/A"}),(0,i.jsxs)("div",{style:N.queueTags,children:[(0,i.jsx)(p.Z,{color:L[e.priority],style:{margin:0,borderRadius:8},children:O[e.priority]}),(0,i.jsx)(p.Z,{color:Y[e.status],style:{margin:0,borderRadius:8},children:A[e.status]})]}),(0,i.jsxs)("div",{style:N.queueMeta,children:[(0,i.jsxs)(I,{type:"secondary",children:["สร้าง: ",R()(e.created_at).format("DD/MM/YYYY HH:mm")]}),e.started_at&&(0,i.jsxs)(I,{type:"secondary",children:["เริ่ม: ",R()(e.started_at).format("HH:mm")]}),e.completed_at&&(0,i.jsxs)(I,{type:"secondary",children:["เสร็จ: ",R()(e.completed_at).format("HH:mm")]})]}),e.notes&&(0,i.jsx)("div",{style:N.queueNotes,children:(0,i.jsxs)(I,{type:"secondary",children:["หมายเหตุ: ",e.notes]})})]})]}),(0,i.jsxs)("div",{style:N.queueActions,className:"queue-actions-mobile",children:[e.status===w.l.Pending&&(0,i.jsx)(u.ZP,{type:"primary",icon:(0,i.jsx)(b.Z,{}),onClick:()=>U(e,w.l.Processing),size:"middle",style:{borderRadius:10},children:"เริ่มดำเนินการ"}),e.status===w.l.Processing&&(0,i.jsx)(u.ZP,{type:"primary",icon:(0,i.jsx)(y.Z,{}),onClick:()=>U(e,w.l.Completed),size:"middle",style:{borderRadius:10,background:"#52c41a",borderColor:"#52c41a"},children:"เสร็จสิ้น"}),e.status!==w.l.Completed&&(0,i.jsx)(u.ZP,{danger:!0,icon:(0,i.jsx)(q.Z,{}),onClick:()=>U(e,w.l.Cancelled),size:"middle",style:{borderRadius:10},children:"ยกเลิก"}),(0,i.jsx)(u.ZP,{danger:!0,icon:(0,i.jsx)(j.Z,{}),onClick:()=>E(e),size:"middle",style:{borderRadius:10},children:"ลบ"})]})]})},e.id)})})]})})]})]})}}},function(e){e.O(0,[8024,4736,8592,1744],function(){return e(e.s=86233)}),_N_E=e.O()}]);