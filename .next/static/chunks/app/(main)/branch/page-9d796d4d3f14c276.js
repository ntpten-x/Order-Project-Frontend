(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1075,9385,3749],{28997:function(e,t,r){Promise.resolve().then(r.bind(r,76901))},76901:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eo}});var a=r(57437),n=r(2265),o=r(39486),s=r(64625),i=r(38616),l=r(48651),c=r(50742),d=r(35713),u=r(62376),f=r(99376),h=r(29),p=r.n(h),m=r(96931),g=r(45235),b=r(89970),y=r(80009),x=r(10868),v=r(88589),k=r(24725),w=r(82618),S=r(13377),j=r(26349),T=r(36972),C=r(62273),P=r(29436),E=r(26430),O=r(2651),R=r(36799);let{Title:_,Text:Z}=o.default,{useToken:z}=O.default,I={minHeight:"100vh",background:"#f8f9fc",paddingBottom:40,width:"100%",overflowX:"hidden",boxSizing:"border-box"},D={maxWidth:1200,margin:"0 auto",padding:"0 16px",position:"relative",zIndex:2,width:"100%",boxSizing:"border-box"},A=e=>({borderRadius:20,border:"none",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",background:"#fff",boxShadow:e?"0 10px 30px rgba(124, 58, 237, 0.15)":"0 4px 20px rgba(0,0,0,0.05)",transform:e?"translateY(-4px)":"none",position:"relative"}),H=()=>(0,a.jsx)(p(),{id:"dd1d5a5b53761c68",children:"@-webkit-keyframes fadeInUp{from{opacity:0;-webkit-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeInUp{from{opacity:0;-moz-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeInUp{from{opacity:0;-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeInUp{from{opacity:0;-webkit-transform:translatey(20px);-moz-transform:translatey(20px);-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}@-webkit-keyframes float{0%{-webkit-transform:translatey(0px);transform:translatey(0px)}50%{-webkit-transform:translatey(-10px);transform:translatey(-10px)}100%{-webkit-transform:translatey(0px);transform:translatey(0px)}}@-moz-keyframes float{0%{-moz-transform:translatey(0px);transform:translatey(0px)}50%{-moz-transform:translatey(-10px);transform:translatey(-10px)}100%{-moz-transform:translatey(0px);transform:translatey(0px)}}@-o-keyframes float{0%{-o-transform:translatey(0px);transform:translatey(0px)}50%{-o-transform:translatey(-10px);transform:translatey(-10px)}100%{-o-transform:translatey(0px);transform:translatey(0px)}}@keyframes float{0%{-webkit-transform:translatey(0px);-moz-transform:translatey(0px);-o-transform:translatey(0px);transform:translatey(0px)}50%{-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}100%{-webkit-transform:translatey(0px);-moz-transform:translatey(0px);-o-transform:translatey(0px);transform:translatey(0px)}}@-webkit-keyframes slideDown{from{opacity:0;-webkit-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes slideDown{from{opacity:0;-moz-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes slideDown{from{opacity:0;-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes slideDown{from{opacity:0;-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.decorative-shape{position:absolute;background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;pointer-events:none}.shape-1{width:300px;height:300px;right:-100px;top:-100px}.shape-2{width:150px;height:150px;left:10%;bottom:20px;-webkit-animation:float 6s ease-in-out infinite;-moz-animation:float 6s ease-in-out infinite;-o-animation:float 6s ease-in-out infinite;animation:float 6s ease-in-out infinite}body,html{overflow-x:hidden!important;max-width:100vw}.action-btn{opacity:.7;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.action-btn:hover{opacity:1;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}.branch-card-hover{-webkit-transition:all.3s cubic-bezier(.4,0,.2,1);-moz-transition:all.3s cubic-bezier(.4,0,.2,1);-o-transition:all.3s cubic-bezier(.4,0,.2,1);transition:all.3s cubic-bezier(.4,0,.2,1)}.branch-card-hover:hover{-webkit-transform:translatey(-6px)scale(1.02);-moz-transform:translatey(-6px)scale(1.02);-ms-transform:translatey(-6px)scale(1.02);-o-transform:translatey(-6px)scale(1.02);transform:translatey(-6px)scale(1.02)}"}),L=e=>{let{totalBranches:t,activeBranches:r}=e,{token:n}=z(),{useBreakpoint:o}=i.default,s=!o().md,l=t-r;return(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:s?"1fr 1fr":"repeat(auto-fit, minmax(240px, 1fr))",gap:s?10:20,marginTop:s?24:-20,marginBottom:s?16:20,position:"relative",zIndex:2,maxWidth:1200,marginLeft:"auto",marginRight:"auto",padding:s?"0 12px":"0 24px",justifyContent:"center",width:"100%",boxSizing:"border-box"},children:[(0,a.jsx)(m.Z,{variant:"borderless",style:{borderRadius:s?14:18,boxShadow:s?"0 4px 12px rgba(124, 58, 237, 0.1)":"0 8px 24px rgba(124, 58, 237, 0.12)",background:"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)",border:"1px solid ".concat(n.colorBorderSecondary),transition:"all 0.3s ease",animation:"slideDown 0.5s ease-out 0.1s backwards",width:"100%",padding:s?"12px":void 0},bodyStyle:s?{padding:"16px 12px"}:void 0,hoverable:!0,children:(0,a.jsx)(g.Z,{title:(0,a.jsx)(Z,{type:"secondary",style:{fontSize:s?10:13,fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:1.2},children:(0,R.t)("branch.stats.total")}),value:t,prefix:(0,a.jsx)("div",{style:{background:"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%)",padding:s?6:10,borderRadius:s?8:12,display:"inline-flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.15)"},children:(0,a.jsx)(u.Z,{style:{color:"#7c3aed",fontSize:s?14:20}})}),styles:{content:{fontWeight:800,fontSize:s?22:32,color:"#7c3aed",marginTop:s?4:8,lineHeight:1.2}}})}),(0,a.jsx)(m.Z,{variant:"borderless",style:{borderRadius:s?14:18,boxShadow:s?"0 4px 12px rgba(16, 185, 129, 0.1)":"0 8px 24px rgba(16, 185, 129, 0.12)",background:"linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%)",border:"1px solid ".concat(n.colorBorderSecondary),transition:"all 0.3s ease",animation:"slideDown 0.5s ease-out 0.2s backwards",width:"100%",padding:s?"12px":void 0},bodyStyle:s?{padding:"16px 12px"}:void 0,hoverable:!0,children:(0,a.jsx)(g.Z,{title:(0,a.jsx)(Z,{type:"secondary",style:{fontSize:s?10:13,fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:1.2},children:(0,R.t)("branch.stats.active")}),value:r,prefix:(0,a.jsx)(d.Z,{status:"processing",color:"#10b981",style:{background:"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)",padding:s?4:8,borderRadius:s?8:12,display:"inline-flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.15)",minWidth:s?20:void 0,minHeight:s?20:void 0}}),styles:{content:{color:"#10b981",fontWeight:800,fontSize:s?22:32,marginTop:s?4:8,lineHeight:1.2}}})}),l>0&&(0,a.jsx)(m.Z,{variant:"borderless",style:{borderRadius:s?14:18,boxShadow:s?"0 4px 12px rgba(107, 114, 128, 0.08)":"0 8px 24px rgba(107, 114, 128, 0.08)",background:"linear-gradient(135deg, #ffffff 0%, #f9fafb 100%)",border:"1px solid ".concat(n.colorBorderSecondary),transition:"all 0.3s ease",animation:"slideDown 0.5s ease-out 0.3s backwards",width:"100%",gridColumn:s?"1 / -1":"auto",padding:s?"12px":void 0},bodyStyle:s?{padding:"16px 12px"}:void 0,hoverable:!0,children:(0,a.jsx)(g.Z,{title:(0,a.jsx)(Z,{type:"secondary",style:{fontSize:s?10:13,fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:1.2},children:(0,R.t)("branch.stats.inactive")}),value:l,styles:{content:{color:"#6b7280",fontWeight:800,fontSize:s?22:32,marginTop:s?4:8,lineHeight:1.2}}})})]})},U=e=>{let{branch:t,onEdit:r,onDelete:n,onSwitch:o}=e,{token:s}=z(),i=[o?(0,a.jsx)(b.Z,{title:(0,R.t)("branch.card.switchTooltip"),children:(0,a.jsx)(c.ZP,{type:"text",icon:(0,a.jsx)(w.Z,{style:{color:"#3b82f6",fontSize:16}}),onClick:e=>{e.stopPropagation(),o(t)},style:{height:"100%",borderRadius:0},children:(0,R.t)("branch.card.switch")})},"switch"):null,r?(0,a.jsx)(b.Z,{title:(0,R.t)("branch.card.editTooltip"),children:(0,a.jsx)(c.ZP,{type:"text",icon:(0,a.jsx)(S.Z,{style:{color:"#8b5cf6",fontSize:16}}),onClick:e=>{e.stopPropagation(),r(t)},style:{height:"100%",borderRadius:0},children:(0,R.t)("branch.card.edit")})},"edit"):null,n?(0,a.jsx)(b.Z,{title:(0,R.t)("branch.card.deleteTooltip"),children:(0,a.jsx)(c.ZP,{type:"text",danger:!0,icon:(0,a.jsx)(j.Z,{style:{fontSize:16}}),onClick:e=>{e.stopPropagation(),n(t)},style:{height:"100%",borderRadius:0},children:(0,R.t)("branch.card.delete")})},"delete"):null].filter(Boolean);return(0,a.jsxs)(m.Z,{hoverable:!0,className:"branch-card-hover",style:A(t.is_active),styles:{body:{padding:24},actions:{background:s.colorFillTertiary,borderTop:"1px solid ".concat(s.colorBorderSecondary)}},actions:i.length?i:void 0,children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:16,marginBottom:20},children:[(0,a.jsx)("div",{style:{width:72,height:72,borderRadius:18,background:t.is_active?"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%)":"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",display:"flex",alignItems:"center",justifyContent:"center",border:t.is_active?"2px solid #a78bfa":"2px solid #d1d5db",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:t.is_active?"0 4px 12px rgba(124, 58, 237, 0.15)":"0 2px 8px rgba(0, 0, 0, 0.05)"},children:(0,a.jsx)(u.Z,{style:{fontSize:32,color:t.is_active?"#7c3aed":"#9ca3af",transition:"all 0.3s ease"}})}),(0,a.jsx)("div",{style:{flex:1,minWidth:0},children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:8,marginBottom:8},children:[(0,a.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,a.jsx)(_,{level:4,style:{margin:0,marginBottom:6,color:"#1f2937",fontWeight:700,fontSize:18,lineHeight:1.3},ellipsis:!0,children:t.branch_name}),(0,a.jsx)(y.Z,{color:"purple",style:{borderRadius:8,border:"none",padding:"2px 10px",fontSize:12,fontWeight:500,background:"#f5f3ff",color:"#7c3aed"},children:t.branch_code})]}),(0,a.jsx)(b.Z,{title:t.is_active?(0,R.t)("branch.card.active"):(0,R.t)("branch.card.inactive"),children:(0,a.jsx)("div",{style:{width:14,height:14,borderRadius:"50%",background:t.is_active?"#10b981":"#d1d5db",boxShadow:t.is_active?"0 0 0 4px rgba(16, 185, 129, 0.15)":"none",flexShrink:0,marginTop:4}})})]})})]}),(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",padding:16,borderRadius:14,border:"1px solid ".concat(s.colorBorderSecondary),marginBottom:16},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:10,marginBottom:10},children:[(0,a.jsx)(T.Z,{style:{color:"#6b7280",fontSize:16,marginTop:2,flexShrink:0}}),(0,a.jsx)(Z,{ellipsis:!0,style:{color:"#374151",fontSize:13,flex:1,lineHeight:1.5},children:t.address||(0,R.t)("branch.card.addressFallback")})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,a.jsx)(C.Z,{style:{color:"#6b7280",fontSize:16,flexShrink:0}}),(0,a.jsx)(Z,{style:{color:"#374151",fontSize:13,fontWeight:500},children:t.phone||(0,R.t)("branch.card.phoneFallback")})]})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:12,borderTop:"1px solid ".concat(s.colorBorderSecondary)},children:[(0,a.jsxs)(Z,{type:"secondary",style:{fontSize:12,fontWeight:500},children:[(0,R.t)("branch.card.taxId"),": ",t.tax_id||"-"]}),t.is_active?(0,a.jsx)(y.Z,{color:"success",style:{margin:0,borderRadius:8,border:"none",fontSize:11,fontWeight:600,padding:"2px 10px"},children:(0,R.t)("branch.stats.active")}):(0,a.jsx)(y.Z,{style:{margin:0,borderRadius:8,border:"none",background:"#f3f4f6",color:"#6b7280",fontSize:11,fontWeight:600,padding:"2px 10px"},children:(0,R.t)("branch.stats.inactive")})]})]})},B=e=>{let{searchQuery:t,onSearchChange:r,filter:n,onFilterChange:o,resultCount:s,totalCount:l}=e,{token:d}=z(),{useBreakpoint:u}=i.default,f=!u().md;return(0,a.jsx)(m.Z,{size:"small",variant:"outlined",style:{borderRadius:f?14:16,background:d.colorBgContainer,border:"1px solid ".concat(d.colorBorderSecondary),animation:"slideDown 0.4s ease-out",marginTop:0},bodyStyle:{padding:f?16:20},children:(0,a.jsxs)(x.Z,{vertical:!0,gap:f?12:16,children:[(0,a.jsx)(v.default,{size:"large",placeholder:(0,R.t)("branch.search.placeholder"),prefix:(0,a.jsx)(P.Z,{style:{color:d.colorTextSecondary}}),suffix:t?(0,a.jsx)(c.ZP,{type:"text",size:"small",icon:(0,a.jsx)(E.Z,{}),onClick:()=>r(""),style:{color:d.colorTextSecondary,padding:0,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center"}}):null,value:t,onChange:e=>r(e.target.value),style:{borderRadius:12,fontSize:15}}),(0,a.jsxs)(x.Z,{justify:"space-between",align:"center",wrap:"wrap",gap:12,children:[(0,a.jsx)(k.Z,{value:n,onChange:e=>o(e),options:[{label:(0,R.t)("branch.search.filter.all"),value:"all"},{label:(0,R.t)("branch.search.filter.active"),value:"active"},{label:(0,R.t)("branch.search.filter.inactive"),value:"inactive"}],style:{borderRadius:10,background:d.colorFillTertiary}}),(t||"all"!==n)&&(0,a.jsx)(Z,{type:"secondary",style:{fontSize:13},children:(0,R.t)("branch.search.result",{count:s,total:l})})]})]})})};var q=r(3369),M=r(24675),F=r(67697),N=r(14362),W=r(1665),G=r(5447),X=r(97235),J=r(26972),Y=r(73814),Q=r(12028),V=r(25193),K=r(37410),$=r(27623),ee=r(2786),et=r(20148);let{Title:er,Text:ea}=o.default,en="pos:branches";function eo(){let e=(0,f.useRouter)(),[t,r]=(0,n.useState)([]),[o,h]=(0,n.useState)(""),[p,m]=(0,n.useState)("all"),{showLoading:g,hideLoading:b}=(0,q.x)(),{socket:y}=(0,M.s)(),{user:x,loading:v}=(0,N.a)(),k=(null==x?void 0:x.role)==="Admin",{message:w,modal:S}=s.Z.useApp(),{execute:j}=(0,J.J)(),T=(0,n.useCallback)(async()=>{j(async()=>{r(await W.x.getAll())},(0,R.t)("branch.loading"))},[j]);(0,F.v)(y,{create:Q.b.branches.create,update:Q.b.branches.update,delete:Q.b.branches.delete},r,e=>e.id,e=>!1!==e.is_active),(0,n.useEffect)(()=>{let e=(0,Y.t)(en,3e5);(null==e?void 0:e.length)&&r(e)},[]),(0,n.useEffect)(()=>{t.length>0&&(0,Y.v)(en,t)},[t]),(0,n.useEffect)(()=>{if(!v&&x){if(!["Admin","Manager"].includes(x.role)){w.error((0,R.t)("branch.noPermission")),e.push("/");return}T()}},[x,v,e,T,w]);let C=()=>{k&&(g(),e.push("/branch/manager/add"),setTimeout(()=>b(),500))},P=t=>{k&&e.push("/branch/manager/edit/".concat(t.id))},E=e=>{k&&S.confirm({title:(0,R.t)("branch.delete.title"),content:(0,R.t)("branch.delete.content",{name:e.branch_name}),okText:(0,R.t)("branch.delete.ok"),okType:"danger",cancelText:(0,R.t)("branch.delete.cancel"),centered:!0,onOk:async()=>{try{let t=await (0,X.P)();await W.x.delete(e.id,void 0,t),w.success((0,R.t)("branch.delete.success",{name:e.branch_name})),T()}catch(e){w.error((0,R.t)("branch.delete.error"))}}})},O=t=>{if(!k){w.error((0,R.t)("branch.noPermission"));return}j(async()=>{let r=await (0,X.P)();await G.O.switchBranch(t.id,r),w.success((0,R.t)("branch.switch.success",{name:t.branch_name})),e.push("/pos")},(0,R.t)("branch.switch.loading"))},_=(0,n.useMemo)(()=>{let e=t;if("active"===p?e=e.filter(e=>e.is_active):"inactive"===p&&(e=e.filter(e=>!e.is_active)),o.trim()){let t=o.toLowerCase().trim();e=e.filter(e=>e.branch_name.toLowerCase().includes(t)||e.branch_code.toLowerCase().includes(t)||e.address&&e.address.toLowerCase().includes(t)||e.phone&&e.phone.includes(t))}return e},[t,p,o]),Z=t.filter(e=>e.is_active).length,{useBreakpoint:z}=i.default,A=!z().md;return v?(0,a.jsx)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5"},children:(0,a.jsx)(l.Z,{size:"large"})}):(0,a.jsxs)("div",{style:I,children:[(0,a.jsx)(H,{}),(0,a.jsx)(et.Z,{title:(0,R.t)("branch.page.title"),subtitle:(0,R.t)("branch.page.subtitle",{count:t.length}),icon:(0,a.jsx)(u.Z,{}),actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.ZP,{onClick:T,children:(0,R.t)("branch.actions.refresh")}),k&&(0,a.jsx)(c.ZP,{type:"primary",onClick:C,children:(0,R.t)("branch.actions.add")})]})}),(0,a.jsx)("div",{style:D,children:(0,a.jsx)(V.Z,{children:(0,a.jsxs)($.Z,{gap:A?16:12,children:[(0,a.jsx)(L,{totalBranches:t.length,activeBranches:Z}),(0,a.jsx)(B,{searchQuery:o,onSearchChange:h,filter:p,onFilterChange:m,resultCount:_.length,totalCount:t.length}),(0,a.jsx)(K.Z,{title:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,a.jsx)(er,{level:4,style:{margin:0,fontWeight:700},children:(0,R.t)("branch.section.listTitle")}),o||"all"!==p?(0,a.jsx)(d.Z,{count:_.length,showZero:!0,style:{backgroundColor:"#6366f1"}}):null]}),extra:(0,a.jsx)(ea,{strong:!0,style:{color:"#6366f1",background:"#eef2ff",padding:"4px 12px",borderRadius:10},children:(0,R.t)("branch.section.countTag",{filtered:_.length,total:t.length})}),children:_.length>0?(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:24,justifyContent:"center"},children:_.map((e,t)=>(0,a.jsx)("div",{style:{animation:"fadeInUp 0.5s ease-out forwards",animationDelay:"".concat(Math.min(30*t,300),"ms"),opacity:0},children:(0,a.jsx)(U,{branch:e,onEdit:k?P:void 0,onDelete:k?E:void 0,onSwitch:k?O:void 0})},e.id))}):(0,a.jsx)(ee.Z,{title:(0,R.t)(o||"all"!==p?"branch.empty.filtered.title":"branch.empty.default.title"),description:o||"all"!==p?(0,R.t)("branch.empty.filtered.description"):(0,R.t)("branch.empty.default.description"),action:o||"all"!==p?(0,a.jsx)(c.ZP,{onClick:()=>{h(""),m("all")},children:(0,R.t)("branch.empty.reset")}):(0,a.jsx)(c.ZP,{type:"primary",onClick:C,children:(0,R.t)("branch.empty.add")})})})]})})})]})}},25193:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(57437);r(2265);var n=r(38616),o=r(87530);function s(e){let{children:t,maxWidth:r=o.H.pageMaxWidth,style:s}=e,i=n.default.useBreakpoint().md?o.H.pagePaddingXDesktop:o.H.pagePaddingXMobile;return(0,a.jsx)("div",{style:{width:"100%",maxWidth:r,margin:"0 auto",padding:"".concat(o.H.pagePaddingY,"px ").concat(i,"px"),...s},children:t})}},20148:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var a=r(57437);r(2265);var n=r(17588),o=r(2651),s=r(38616),i=r(10868),l=r(50742),c=r(39486),d=r(87530);function u(e){let{title:t,subtitle:r,icon:u,onBack:f,actions:h,style:p}=e,{token:m}=o.default.useToken(),g=s.default.useBreakpoint().md?d.H.pagePaddingXDesktop:d.H.pagePaddingXMobile;return(0,a.jsx)("div",{style:{padding:"".concat(d.H.pagePaddingY,"px ").concat(g,"px"),background:m.colorBgContainer,borderBottom:"1px solid ".concat(m.colorBorderSecondary),...p},children:(0,a.jsxs)(i.Z,{align:"center",justify:"space-between",wrap:"wrap",gap:12,style:{maxWidth:d.H.pageMaxWidth,margin:"0 auto"},children:[(0,a.jsxs)(i.Z,{align:"center",gap:12,style:{minWidth:0},children:[f&&(0,a.jsx)(l.ZP,{type:"text","aria-label":"ย้อนกลับ",icon:(0,a.jsx)(n.Z,{}),onClick:f,style:{borderRadius:12,width:44,height:44}}),u&&(0,a.jsx)("div",{style:{width:44,height:44,borderRadius:14,display:"grid",placeItems:"center",background:m.colorFillTertiary,color:m.colorText},children:u}),(0,a.jsxs)("div",{style:{minWidth:0},children:[(0,a.jsx)(c.default.Title,{level:4,style:{margin:0},children:t}),r&&(0,a.jsx)(c.default.Text,{type:"secondary",children:r})]})]}),h&&(0,a.jsx)(i.Z,{gap:8,wrap:"wrap",children:h})]})})}},37410:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var a=r(57437);r(2265);var n=r(2651),o=r(96931),s=r(10868),i=r(39486),l=r(87530);function c(e){let{title:t,extra:r,children:c,style:d}=e,{token:u}=n.default.useToken();return(0,a.jsx)(o.Z,{size:"small",variant:"outlined",style:{borderRadius:l.H.cardRadiusLG,...d},styles:{header:t?{borderBottomColor:u.colorBorderSecondary}:{display:"none"}},title:t?(0,a.jsxs)(s.Z,{align:"center",justify:"space-between",gap:12,children:[(0,a.jsx)(i.default.Text,{strong:!0,children:t}),r]}):void 0,children:c})}},27623:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(57437);r(2265);var n=r(10868),o=r(87530);function s(e){let{children:t,gap:r=o.H.sectionGap,style:s}=e;return(0,a.jsx)(n.Z,{vertical:!0,gap:r,style:s,children:t})}},2786:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(57437);r(2265);var n=r(96931),o=r(85180),s=r(39486),i=r(87530);function l(e){let{title:t="ไม่มีข้อมูล",description:r,action:l,image:c}=e;return(0,a.jsx)(n.Z,{size:"small",variant:"outlined",style:{borderRadius:i.H.cardRadiusLG},bodyStyle:{padding:20},children:(0,a.jsx)(o.Z,{image:c,description:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,a.jsx)(s.default.Text,{strong:!0,children:t}),r?(0,a.jsx)(s.default.Text,{type:"secondary",children:r}):null]}),children:l})})}},87530:function(e,t,r){"use strict";r.d(t,{H:function(){return a}});let a={pageMaxWidth:1200,pagePaddingXMobile:16,pagePaddingXDesktop:24,pagePaddingY:16,sectionGap:16,cardRadius:16,cardRadiusLG:20,cardShadow:"0 10px 24px rgba(15, 23, 42, 0.08)",surfaceBg:"#ffffff",surfaceBorder:"#e2e8f0"}},71567:function(e,t,r){"use strict";r.d(t,{q:function(){return n},v:function(){return a}});let a="/api",n={AUTH:{LOGIN:"/auth/login",LOGOUT:"/auth/logout",ME:"/auth/me",CSRF:"/csrf",SWITCH_BRANCH:"/auth/switch-branch"},AUDIT:{LOGS:"/audit/logs"},POS:{PRODUCTS:"/pos/products",ORDERS:"/pos/orders",TABLES:"/pos/tables",DISCOUNTS:"/pos/discounts",DELIVERY:"/pos/delivery",PAYMENT_METHODS:"/pos/paymentMethod",PAYMENTS:"/pos/payments",CATEGORY:"/pos/category",SHIFTS:{BASE:"/pos/shifts",CURRENT:"/pos/shifts/current",OPEN:"/pos/shifts/open",CLOSE:"/pos/shifts/close"},DASHBOARD:{SALES:"/pos/dashboard/sales",TOP_ITEMS:"/pos/dashboard/top-items"},CHANNELS:{STATS:"/pos/orders/stats"},SHOP_PROFILE:"/pos/shopProfile",SALES_ORDER_ITEMS:"/pos/salesOrderItem",SALES_ORDER_DETAILS:"/pos/salesOrderDetail",PRODUCTS_UNIT:"/pos/productsUnit",PAYMENT_DETAILS:"/pos/paymentDetails",BRANCH:"/branches",ORDER_QUEUE:"/pos/queue"}}},14362:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return f},a:function(){return h}});var a=r(57437),n=r(2265),o=r(99376),s=r(5447),i=r(84859),l=r(48651),c=r(3369),d=r(36799);let u=(0,n.createContext)(void 0),f=e=>{let{children:t}=e,[r,f]=(0,n.useState)(null),[h,p]=(0,n.useState)(!0),m=(0,o.useRouter)(),g=(0,o.usePathname)(),b=async()=>{try{let e=await s.O.getMe();f(e)}catch(e){f(null)}finally{p(!1)}};(0,n.useEffect)(()=>{b()},[]);let{showLoading:y,hideLoading:x}=(0,c.x)();(0,n.useEffect)(()=>{h||r||"/login"===g||m.push("/login")},[r,h,g,m]);let v=async e=>{try{y((0,d.t)("auth.loadingLogin"));let t=await s.O.getCsrfToken(),{token:r,...a}=await s.O.login(e,t);f(a),m.push("/")}catch(e){throw e}finally{x()}},k=async()=>{try{y((0,d.t)("auth.loadingLogout")),await s.O.logout(),i.x.clearQueue(),f(null),m.push("/login")}catch(e){console.error("Logout error:",e)}finally{x()}};return h?(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"#ffffff"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",padding:"24px",background:"#ffffff",borderRadius:"20px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[(0,a.jsx)(l.Z,{size:"large"}),(0,a.jsx)("div",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:"กำลังตรวจสอบสิทธิ์..."})]})}):r||"/login"===g?(0,a.jsx)(u.Provider,{value:{user:r,loading:h,login:v,logout:k,checkAuth:b},children:t}):null},h=()=>{let e=(0,n.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},46252:function(e,t,r){"use strict";r.d(t,{J:function(){return l},SocketProvider:function(){return c}});var a=r(57437),n=r(2265),o=r(68680),s=r(34029),i=r(14362);let l=(0,n.createContext)({socket:null,isConnected:!1}),c=e=>{let{children:t}=e,[r,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),f=(0,n.useRef)(!1),{user:h}=(0,i.a)();return(0,n.useEffect)(()=>{var e;if(!h){r&&(r.disconnect(),c(null),u(!1));return}let t=(null===(e=h.branch)||void 0===e?void 0:e.id)||h.branch_id||null,a=(0,o.io)("http://localhost:3000",{transports:["websocket"],withCredentials:!0,auth:{userId:h.id,branchId:t},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:800,reconnectionDelayMax:8e3});return a.on("connect",()=>{console.log("Socket Connected:",a.id),u(!0),f.current=!1,s.ZP.success({content:"เชื่อมต่อเรียลไทม์แล้ว",key:"socket-status",duration:1.5})}),a.on("disconnect",()=>{console.log("Socket Disconnected"),u(!1),f.current||(f.current=!0,s.ZP.warning({content:"การเชื่อมต่อเรียลไทม์หลุด กำลังพยายามเชื่อมต่อใหม่...",key:"socket-status",duration:2}))}),a.io.on("reconnect_attempt",e=>{console.log("Socket reconnect attempt",e),u(!1)}),a.io.on("reconnect_failed",()=>{console.log("Socket reconnect failed"),s.ZP.error({content:"เชื่อมต่อเรียลไทม์ไม่สำเร็จ",key:"socket-status",duration:2})}),c(a),()=>{a.disconnect()}},[null==h?void 0:h.id]),(0,a.jsx)(l.Provider,{value:{socket:r,isConnected:d},children:t})}},3369:function(e,t,r){"use strict";r.d(t,{GlobalLoadingProvider:function(){return l},O:function(){return d},x:function(){return c}});var a=r(57437),n=r(2265),o=r(48651);let s=(0,n.createContext)(void 0),i=(0,n.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,n.useState)({}),[c,d]=(0,n.useState)(void 0),u=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";l(e=>({...e,[t]:(e[t]||0)+1})),e&&d(e)},[]),f=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";l(t=>{if(!t[e])return t;let r={...t};return r[e]-=1,r[e]<=0&&delete r[e],r})},[]),h=(0,n.useCallback)(()=>{l({}),d(void 0)},[]),p=Object.keys(r).length>0,m=(0,n.useMemo)(()=>({isLoading:p,loadingMessage:c}),[p,c]),g=(0,n.useMemo)(()=>({showLoading:u,hideLoading:f,resetLoading:h}),[u,f,h]);return(0,a.jsx)(i.Provider,{value:g,children:(0,a.jsxs)(s.Provider,{value:m,children:[t,p&&(0,a.jsx)("div",{role:"status","aria-live":"polite",className:"global-loading-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:13e3,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",transition:"opacity 0.25s ease"},children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:16,background:"rgba(255, 255, 255, 0.95)",padding:"28px 40px",borderRadius:20,boxShadow:"0 10px 32px rgba(15, 23, 42, 0.14)",border:"1px solid rgba(148, 163, 184, 0.35)",minWidth:240,textAlign:"center"},children:[(0,a.jsx)(o.Z,{size:"large"}),c&&(0,a.jsx)("div",{style:{fontSize:16,color:"#334155",fontWeight:600,letterSpacing:"0.01em"},children:c})]})})]})})};function c(){let e=(0,n.useContext)(s),t=(0,n.useContext)(i);if(!e||!t)throw Error("useGlobalLoading must be used within a GlobalLoadingProvider");return(0,n.useMemo)(()=>({...e,...t}),[e,t])}function d(){let e=(0,n.useContext)(i);if(!e)throw Error("useGlobalLoadingDispatch must be used within a GlobalLoadingProvider");return e}},26972:function(e,t,r){"use strict";r.d(t,{J:function(){return s}});var a=r(2265),n=r(53743),o=r(3369);let s=()=>{let{showLoading:e,hideLoading:t}=(0,o.x)();return{execute:(0,a.useCallback)(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"กำลังดำเนินการ...",o=(arguments.length>2&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"เกิดข้อผิดพลาด");try{return e(a,"async"),await r()}catch(t){console.error("Async action error:",t);let e=o;if("string"==typeof t)e=t;else if(t instanceof Error)e=t.message;else if("object"==typeof t&&null!==t){var s,i,l,c;e=null!==(c=null!==(l=null===(i=t.response)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==l?l:t.message)&&void 0!==c?c:(()=>{try{return JSON.stringify(t)}catch(e){return"เกิดข้อผิดพลาดที่ไม่ทราบสาเหตุ (Unknown Error)"}})()}n.Z.error({title:"ข้อผิดพลาด",content:e});return}finally{t("async")}},[e,t])}}},24675:function(e,t,r){"use strict";r.d(t,{s:function(){return o}});var a=r(2265),n=r(46252);let o=()=>(0,a.useContext)(n.J)},2913:function(e,t,r){"use strict";function a(e,t){return({GET:"".concat(n.API_BASE_URL).concat(t),POST:"".concat(n.API_BASE_URL).concat(t),PUT:"".concat(n.API_BASE_URL).concat(t),DELETE:"".concat(n.API_BASE_URL).concat(t),PATCH:"".concat(n.API_BASE_URL).concat(t)})[e]}r.d(t,{b:function(){return a}});let n={get API_BASE_URL(){return"/api"}}},81026:function(e,t,r){"use strict";r.d(t,{E:function(){return o},M:function(){return n}});var a=r(20019);let n=a.Ryn({id:a.Z_8(),branch_name:a.Z_8(),branch_code:a.Z_8(),address:a.Z_8().optional().nullable(),phone:a.Z_8().optional().nullable(),tax_id:a.Z_8().optional().nullable(),is_active:a.O72().default(!0),create_date:a.Z_8().or(a.hTZ()).transform(e=>new Date(e))}),o=a.IXX(n)},5447:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});var a=r(71567),n=r(2913),o=r(98170);let s={login:async(e,t,r)=>{try{let i=(0,n.b)("POST",a.q.AUTH.LOGIN),l={"Content-Type":"application/json"};t&&(l["X-CSRF-Token"]=t),r&&(l.Cookie=r);let c=await fetch(i,{method:"POST",headers:l,credentials:"include",body:JSON.stringify(e)});if(!c.ok){var s;let e=await c.json().catch(()=>({})),t=(null==e?void 0:null===(s=e.error)||void 0===s?void 0:s.message)||e.message||e.detail||"Login failed";throw Error(t)}let d=(0,o.hH)(await c.json());return{...d.user,token:d.token}}catch(e){throw Error(e.message||"เข้าสู่ระบบไม่สำเร็จ")}},logout:async(e,t,r)=>{try{let o=(0,n.b)("POST",a.q.AUTH.LOGOUT),s={"Content-Type":"application/json"};e&&(s.Authorization="Bearer ".concat(e)),t&&(s["X-CSRF-Token"]=t),r&&(s.Cookie=r),await fetch(o,{method:"POST",headers:s,credentials:"include"})}catch(e){console.error("Logout failed",e)}},switchBranch:async(e,t,r)=>{let s=(0,n.b)("POST",a.q.AUTH.SWITCH_BRANCH),i={"Content-Type":"application/json"};t&&(i["X-CSRF-Token"]=t),r&&(i.Cookie=r);let l=await fetch(s,{method:"POST",headers:i,credentials:"include",body:JSON.stringify({branch_id:e})});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,o.i_)(e,"Failed to switch branch"))}return(0,o.hH)(await l.json())},getMe:async e=>{try{let t=(0,n.b)("GET",a.q.AUTH.ME),r={"Content-Type":"application/json"};e&&(r.Authorization="Bearer ".concat(e));let s=await fetch(t,{method:"GET",headers:r,credentials:"include",cache:"no-store"});if(!s.ok)throw Error("Unauthorized");return(0,o.hH)(await s.json())}catch(e){throw e}},async getCsrfToken(){try{let e=await fetch("".concat(a.v).concat(a.q.AUTH.CSRF),{credentials:"include"});if(!e.ok){let t=await e.json().catch(()=>({}));return console.error("CSRF token fetch failed:",e.status,t),""}let t=await e.json();if(t.success&&t.csrfToken||t.csrfToken)return t.csrfToken;return""}catch(e){return console.error("Failed to fetch CSRF token",e),""}}}},1665:function(e,t,r){"use strict";r.d(t,{x:function(){return l}});var a=r(71567),n=r(2913),o=r(81026),s=r(98170);let i=a.q.POS.BRANCH,l={getAll:async e=>{let t=(0,n.b)("GET",i),r={};e&&(r.Cookie=e);let a=await fetch(t,{cache:"no-store",credentials:"include",headers:r});if(!a.ok)throw Error("Failed to fetch branches");let l=await a.json();return o.E.parse((0,s.hH)(l))},getById:async(e,t)=>{let r=(0,n.b)("GET","".concat(i,"/").concat(e)),a={};t&&(a.Cookie=t);let l=await fetch(r,{cache:"no-store",credentials:"include",headers:a});if(!l.ok)throw Error("Failed to fetch branch");let c=await l.json();return o.M.parse((0,s.hH)(c))},create:async(e,t,r)=>{let a=(0,n.b)("POST",i),o={"Content-Type":"application/json"};t&&(o.Cookie=t),r&&(o["X-CSRF-Token"]=r);let l=await fetch(a,{method:"POST",body:JSON.stringify(e),headers:o,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,s.i_)(e,"Failed to create branch"))}return(0,s.hH)(await l.json())},update:async(e,t,r,a)=>{let o=(0,n.b)("PUT","".concat(i,"/").concat(e)),l={"Content-Type":"application/json"};r&&(l.Cookie=r),a&&(l["X-CSRF-Token"]=a);let c=await fetch(o,{method:"PUT",body:JSON.stringify(t),headers:l,credentials:"include"});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error((0,s.i_)(e,"Failed to update branch"))}return(0,s.hH)(await c.json())},delete:async(e,t,r)=>{let a=(0,n.b)("DELETE","".concat(i,"/").concat(e)),o={};t&&(o.Cookie=t),r&&(o["X-CSRF-Token"]=r);let l=await fetch(a,{method:"DELETE",headers:o,credentials:"include"});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error((0,s.i_)(e,"Failed to delete branch"))}}}},84859:function(e,t,r){"use strict";r.d(t,{M:function(){return l},x:function(){return i}});let a="pos_offline_queue",n=()=>{let e=localStorage.getItem(a);return e?JSON.parse(e):[]},o=e=>{let t=Date.now();return e.filter(e=>t-e.timestamp<=6048e5)},s=e=>{localStorage.setItem(a,JSON.stringify(e))},i={addToQueue:(e,t)=>{let r=o(n()),a={id:"offline-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:e,payload:t,timestamp:Date.now(),retryCount:0};return s([...r,a]),a},getQueue:()=>n(),removeFromQueue:e=>{s(n().filter(t=>t.id!==e))},incrementRetry:(e,t)=>{s(n().map(r=>r.id===e?{...r,retryCount:r.retryCount+1,lastError:t}:r))},clearQueue:()=>{localStorage.removeItem(a)},pruneExceeded:()=>{s(o(n()).filter(e=>e.retryCount<=5))}},l={maxRetry:5,backoff:e=>Math.min(3e4,2e3*e)}},98170:function(e,t,r){"use strict";function a(e){return!!e&&"object"==typeof e}function n(e){return e&&"object"==typeof e&&"success"in e&&!0===e.success&&"data"in e?e.data:e}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Request failed";if("string"==typeof e)return e;if(!a(e))return t;if(!1===e.success){let t=e.error;if(a(t)&&"string"==typeof t.message&&t.message.trim())return t.message}if("error"in e){let t=e.error;if("string"==typeof t&&t.trim())return t;if(a(t)&&"string"==typeof t.message&&t.message.trim())return t.message}return"string"==typeof e.message&&e.message.trim()?e.message:t}function s(e){if(e&&"object"==typeof e&&"success"in e&&!0===e.success&&Array.isArray(e.data)){var t,r,a,n;let o="number"==typeof(null===(t=e.meta)||void 0===t?void 0:t.total)?e.meta.total:e.data.length,s="number"==typeof(null===(r=e.meta)||void 0===r?void 0:r.page)?e.meta.page:1,i="number"==typeof(null===(a=e.meta)||void 0===a?void 0:a.limit)?e.meta.limit:50,l="number"==typeof(null===(n=e.meta)||void 0===n?void 0:n.totalPages)?e.meta.totalPages:Math.max(Math.ceil(o/Math.max(i,1)),1);return{data:e.data,total:o,page:s,last_page:l}}return e}r.d(t,{XO:function(){return s},hH:function(){return n},i_:function(){return o}})},36799:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});var a=JSON.parse('{"auth.loadingLogin":"กำลังเข้าสู่ระบบ...","auth.loadingLogout":"กำลังออกจากระบบ...","network.loading":"กำลังดึงข้อมูล...","network.offline":"ไม่มีการเชื่อมต่ออินเทอร์เน็ต แอปกำลังทำงานแบบออฟไลน์","network.newVersion":"มีเวอร์ชันใหม่พร้อมใช้งาน กดรีเฟรชเพื่ออัปเดต","delivery.loadingOrders":"กำลังโหลดออเดอร์...","delivery.selectProvider":"เลือกผู้ให้บริการ (Delivery Provider)","delivery.selectProviderPlaceholder":"เลือกผู้ให้บริการ","delivery.orderCode":"รหัสเดลิเวอรี่ / Order Code","delivery.enterOrderCode":"ระบุรหัสออเดอร์ (เช่น 123)","delivery.createOrder":"เปิดออเดอร์เดลิเวอรี่","delivery.createOrderSubtitle":"กรอกข้อมูลเพื่อสร้างออเดอร์ใหม่","delivery.noProviders":"ยังไม่มีผู้ให้บริการเดลิเวอรี่","delivery.retry":"ลองใหม่","delivery.noOrders":"ไม่มีออเดอร์เดลิเวอรี่","delivery.addOrder":"เพิ่มออเดอร์","delivery.createNewOrder":"สร้างออเดอร์ใหม่","orders.loading":"กำลังโหลดข้อมูลออเดอร์...","orders.error":"โหลดข้อมูลออเดอร์ไม่สำเร็จ","orders.empty":"ไม่พบรายการออเดอร์","orders.searchPlaceholder":"ค้นหาเลขที่ออเดอร์ โต๊ะ หรือรหัสอ้างอิง","queue.loading":"กำลังโหลดคิว...","queue.error":"โหลดคิวไม่สำเร็จ","queue.empty":"ยังไม่มีออเดอร์ในคิว","queue.refresh":"รีเฟรช","queue.reorder":"จัดเรียง","queue.filter":"กรองสถานะ","queue.pending":"รอ","queue.processing":"กำลังดำเนินการ","queue.completed":"เสร็จสิ้น","queue.cancelled":"ยกเลิก","queue.priority.low":"ต่ำ","queue.priority.normal":"ปกติ","queue.priority.high":"สูง","queue.priority.urgent":"ด่วน","queue.updateStatusSuccess":"อัปเดตสถานะสำเร็จ","queue.updateStatusError":"อัปเดตสถานะไม่สำเร็จ","queue.addSuccess":"เพิ่มเข้าคิวสำเร็จ","queue.addError":"เพิ่มเข้าคิวไม่สำเร็จ","queue.removeSuccess":"ลบออกจากคิวสำเร็จ","queue.removeError":"ลบออกจากคิวไม่สำเร็จ","queue.reorderSuccess":"จัดเรียงคิวใหม่สำเร็จ","queue.reorderError":"จัดเรียงคิวใหม่ไม่สำเร็จ","stock.loading":"กำลังโหลดคำสั่งซื้อสต๊อก...","stock.error":"โหลดข้อมูลสต๊อกไม่สำเร็จ","stock.empty":"ยังไม่มีคำสั่งซื้อสต๊อก","stock.title":"คำสั่งซื้อสต๊อก","stock.subtitleCount":"{{count}} คำสั่งซื้อ","stock.totalItems":"จำนวนรายการรวม","stock.createdBy":"ผู้สร้าง","stock.items":"รายการ","stock.status":"สถานะ","stock.createdAt":"วันที่สร้าง","stock.actions":"จัดการ","stock.view":"ดู","stock.buy":"ซื้อ","stock.edit":"แก้ไข","stock.cancel":"ยกเลิก","stock.emptyAction":"ไปหน้าหลัก","stock.status.pending":"รอดำเนินการ","stock.status.completed":"เสร็จสิ้น","stock.status.cancelled":"ยกเลิก","stock.itemsLabel":"รายการ","stock.statusLabel":"สถานะ","users.title":"ผู้ใช้","users.subtitle":"{{count}} คน","users.add":"เพิ่มผู้ใช้","users.refresh":"รีเฟรช","users.empty":"ยังไม่มีผู้ใช้","users.noPermission":"คุณไม่มีสิทธิ์เข้าถึงหน้านี้","users.headerTitle":"จัดการผู้ใช้","users.headerSubtitle":"จัดการสิทธิ์และสถานะผู้ใช้ทั้งหมด","users.stats.total":"ผู้ใช้ทั้งหมด","users.stats.active":"เปิดใช้งาน/ใช้งานได้","users.stats.online":"กำลังใช้งาน","users.card.edit":"แก้ไข","users.card.delete":"ลบ","users.card.active":"เปิดใช้งาน","users.card.inactive":"ปิดใช้งาน","users.card.canUse":"อนุญาตใช้งาน","users.card.cannotUse":"ไม่อนุญาต","users.card.lastLogin":"เข้าสู่ระบบล่าสุด","page.retry":"ลองอีกครั้ง","page.empty":"ไม่มีข้อมูล","page.error":"เกิดข้อผิดพลาด","kitchen.soundBlocked":"เบราว์เซอร์บล็อกเสียงแจ้งเตือน","kitchen.soundOff":"ปิดเสียงแจ้งเตือน","kitchen.soundOn":"เปิดเสียงแจ้งเตือน","dashboard.title":"ภาพรวมยอดขาย","dashboard.subtitle":"สรุปยอดขายทุกช่องทาง","dashboard.reload":"รีเฟรช","dashboard.loading":"กำลังโหลดข้อมูล...","dashboard.totalSales":"ยอดขายรวม","dashboard.orders":"{{count}} ออเดอร์","dashboard.discount":"ส่วนลด ฿{{amount}}","dashboard.channel.dineIn":"ทานที่ร้าน","dashboard.channel.takeAway":"กลับบ้าน","dashboard.channel.delivery":"เดลิเวอรี่","dashboard.topProducts":"สินค้าขายดี","dashboard.topProducts.empty":"ยังไม่มีข้อมูลสินค้า","dashboard.recentOrders":"ออเดอร์ล่าสุด","dashboard.recentOrders.empty":"ยังไม่มีออเดอร์","dashboard.viewDetails":"ดูรายละเอียด","dashboard.dailySales":"ยอดขายรายวัน","dashboard.dailySales.date":"วันที่","dashboard.dailySales.orders":"ออเดอร์","dashboard.dailySales.sales":"ยอดขาย","dashboard.export.pdf":"PDF","dashboard.export.excel":"Excel","dashboard.exportPDF.loading":"กำลังสร้าง PDF...","dashboard.exportPDF.success":"ส่งออก PDF สำเร็จ","dashboard.exportPDF.error":"เกิดข้อผิดพลาดในการส่งออก PDF","dashboard.exportExcel.loading":"กำลังสร้าง Excel...","dashboard.exportExcel.success":"ส่งออก Excel สำเร็จ","dashboard.exportExcel.error":"เกิดข้อผิดพลาดในการส่งออก Excel","dashboard.paymentMethod":"\uD83D\uDCB3 {{method}}","branch.loading":"กำลังดึงข้อมูลสาขา...","branch.noPermission":"คุณไม่มีสิทธิ์เข้าถึงหน้าสาขา","branch.delete.title":"ยืนยันลบสาขา","branch.delete.content":"ต้องการลบสาขา \\"{{name}}\\" หรือไม่?","branch.delete.ok":"ลบ","branch.delete.cancel":"ยกเลิก","branch.delete.success":"ลบสาขา \\"{{name}}\\" แล้ว","branch.delete.error":"ไม่สามารถลบสาขาได้","branch.switch.success":"สลับไปยังสาขา \\"{{name}}\\" แล้ว","branch.switch.loading":"กำลังสลับสาขา...","branch.page.title":"สาขา","branch.page.subtitle":"{{count}} สาขา","branch.hero.title":"จัดการสาขา","branch.hero.subtitle":"ดูแลข้อมูลสาขาทั้งหมดในระบบ","branch.actions.refresh":"รีเฟรช","branch.actions.add":"เพิ่มสาขา","branch.section.listTitle":"สาขาทั้งหมด","branch.section.countTag":"{{filtered}} / {{total}} สาขา","branch.empty.filtered.title":"ไม่พบสาขาที่ค้นหา","branch.empty.filtered.description":"ลองลบตัวกรองหรือค้นหาด้วยคำอื่น เช่น ชื่อ รหัสสาขา ที่อยู่ หรือเบอร์โทร","branch.empty.default.title":"ยังไม่มีสาขา","branch.empty.default.description":"เพิ่มสาขาแรกเพื่อเริ่มใช้งาน POS ได้เลย","branch.empty.reset":"ล้างตัวกรอง","branch.empty.add":"เพิ่มสาขาใหม่","branch.stats.total":"สาขาทั้งหมด","branch.stats.active":"เปิดใช้งาน","branch.stats.inactive":"ปิดการใช้งาน","branch.card.switch":"สลับ","branch.card.edit":"แก้ไข","branch.card.delete":"ลบ","branch.card.switchTooltip":"สลับไปสาขานี้","branch.card.editTooltip":"แก้ไขข้อมูลสาขา","branch.card.deleteTooltip":"ลบสาขา","branch.card.addressFallback":"ไม่มีที่อยู่","branch.card.phoneFallback":"ไม่มีหมายเลขโทรศัพท์","branch.card.active":"เปิดใช้งานอยู่","branch.card.inactive":"ปิดใช้งานอยู่","branch.card.taxId":"เลขประจำตัวผู้เสียภาษี","branch.search.placeholder":"ค้นหาสาขา (ชื่อ รหัส ที่อยู่ หรือเบอร์โทร)","branch.search.filter.all":"ทั้งหมด","branch.search.filter.active":"เปิดใช้งาน","branch.search.filter.inactive":"ปิดใช้งาน","branch.search.result":"พบ {{count}} จาก {{total}} สาขา","branch.form.loadError":"ไม่สามารถดึงข้อมูลสาขาได้","branch.form.updateSuccess":"อัปเดตสาขาสำเร็จ","branch.form.createSuccess":"สร้างสาขาสำเร็จ","branch.form.saveError":"เกิดข้อผิดพลาดในการบันทึกข้อมูลสาขา","branch.form.deleteTitle":"ยืนยันการลบสาขา","branch.form.deleteContent":"คุณต้องการลบสาขานี้หรือไม่?","branch.form.deleteSuccess":"ลบสาขาสำเร็จ","branch.form.deleteError":"ไม่สามารถลบสาขาได้","branch.form.titleEdit":"แก้ไขสาขา","branch.form.titleCreate":"เพิ่มสาขา","branch.form.subtitle":"ข้อมูลสาขาสำหรับระบบ POS","branch.form.fields.nameLabel":"ชื่อสาขา *","branch.form.fields.nameRequired":"กรุณากรอกชื่อสาขา","branch.form.fields.namePlaceholder":"ระบุชื่อสาขา","branch.form.fields.codeLabel":"รหัสสาขา *","branch.form.fields.codeRequired":"กรุณากรอกรหัสสาขา","branch.form.fields.codePattern":"รหัสสาขาต้องเป็นตัวอักษรภาษาอังกฤษหรือตัวเลข","branch.form.fields.codePlaceholder":"เช่น B001","branch.form.fields.addressLabel":"ที่อยู่","branch.form.fields.addressPlaceholder":"ที่อยู่สาขา","branch.form.fields.phoneLabel":"เบอร์โทรศัพท์","branch.form.fields.phonePlaceholder":"02xxxxxxx","branch.form.fields.taxIdLabel":"เลขประจำตัวผู้เสียภาษี (Tax ID)","branch.form.fields.taxIdPlaceholder":"ระบุเลขผู้เสียภาษี","branch.form.fields.statusLabel":"สถานะ","branch.form.back":"ยกเลิก","branch.form.submitEdit":"บันทึกการแก้ไข","branch.form.submitCreate":"สร้างสาขา","users.manage.loadRolesError":"ไม่สามารถดึงข้อมูลบทบาทได้","users.manage.loadBranchesError":"ไม่สามารถดึงข้อมูลสาขาได้","users.manage.loadUserError":"ไม่สามารถดึงข้อมูลผู้ใช้ได้","users.manage.updateSuccess":"อัปเดตผู้ใช้สำเร็จ","users.manage.createSuccess":"สร้างผู้ใช้สำเร็จ","users.manage.saveErrorUpdate":"ไม่สามารถอัปเดตผู้ใช้ได้","users.manage.saveErrorCreate":"ไม่สามารถสร้างผู้ใช้ได้","users.manage.deleteSuccess":"ลบผู้ใช้สำเร็จ","users.manage.deleteError":"ไม่สามารถลบผู้ใช้ได้","users.manage.deleteTitle":"ลบผู้ใช้","users.manage.deleteDescription":"คุณต้องการลบผู้ใช้หรือไม่?","users.manage.deleteOk":"ใช่","users.manage.deleteCancel":"ยกเลิก","users.manage.deleteButton":"ลบผู้ใช้","users.manage.backToList":"กลับไปหน้าผู้ใช้","users.manage.headingEdit":"แก้ไขผู้ใช้","users.manage.headingCreate":"เพิ่มผู้ใช้","users.manage.form.usernameLabel":"ชื่อผู้ใช้","users.manage.form.usernameRequired":"กรุณากรอกชื่อผู้ใช้","users.manage.form.usernamePattern":"กรุณากรอกภาษาอังกฤษ ตัวเลข หรืออักขระพิเศษ (- _ @ .)","users.manage.form.usernamePlaceholder":"กรุณากรอกชื่อผู้ใช้","users.manage.form.nameLabel":"ชื่อ-นามสกุล / ชื่อเล่น","users.manage.form.nameRequired":"กรุณากรอกชื่อ-นามสกุล หรือ ชื่อเล่น","users.manage.form.namePlaceholder":"ระบุชื่อ (เช่น สมชาย หรือ น้องบี)","users.manage.form.passwordLabel":"รหัสผ่าน","users.manage.form.passwordLabelEdit":"รหัสผ่านใหม่ (ปล่อยว่างเพื่อไม่เปลี่ยนรหัสผ่าน)","users.manage.form.passwordRequired":"กรุณากรอกรหัสผ่าน","users.manage.form.passwordPattern":"กรุณากรอกภาษาอังกฤษ ตัวเลข หรืออักขระพิเศษเท่านั้น","users.manage.form.passwordPlaceholder":"กรุณากรอกรหัสผ่าน","users.manage.form.roleLabel":"บทบาท","users.manage.form.roleRequired":"กรุณาเลือกบทบาท","users.manage.form.rolePlaceholder":"เลือกบทบาท","users.manage.form.roleModalTitle":"เลือกบทบาท","users.manage.form.branchLabel":"สาขา","users.manage.form.branchRequired":"กรุณาเลือกสาขา","users.manage.form.branchPlaceholder":"เลือกสาขา","users.manage.form.branchModalTitle":"เลือกสาขา","users.manage.form.activeLabel":"สถานะ (Active)","users.manage.form.useLabel":"การใช้งาน (In Use)","users.manage.cancel":"ยกเลิก","users.manage.updateSubmit":"อัปเดตผู้ใช้","users.manage.createSubmit":"สร้างผู้ใช้","stock.ingredients.loading":"กำลังโหลดข้อมูลวัตถุดิบ...","stock.ingredients.loadError":"ไม่สามารถดึงข้อมูลวัตถุดิบได้","stock.ingredients.noPermission":"คุณไม่มีสิทธิ์เข้าถึงหน้านี้","stock.ingredients.deleteTitle":"ยืนยันการลบวัตถุดิบ","stock.ingredients.deleteContent":"คุณต้องการลบวัตถุดิบ \\"{{name}}\\" หรือไม่?","stock.ingredients.deleteSuccess":"ลบวัตถุดิบ \\"{{name}}\\" สำเร็จ","stock.ingredients.deleteError":"ไม่สามารถลบวัตถุดิบได้","stock.ingredients.deleting":"กำลังลบวัตถุดิบ...","stock.ingredients.checkingAuth":"กำลังตรวจสอบสิทธิ์การใช้งาน...","stock.ingredients.redirecting":"คุณไม่มีสิทธิ์เข้าถึงหน้านี้ กำลังพากลับหน้าแรก...","stock.ingredients.title":"วัตถุดิบ","stock.ingredients.subtitle":"{{count}} รายการ","stock.ingredients.refresh":"รีเฟรช","stock.ingredients.add":"เพิ่มวัตถุดิบ","stock.ingredients.listTitle":"รายการวัตถุดิบ","stock.ingredients.emptyTitle":"ยังไม่มีวัตถุดิบ","stock.ingredients.emptyDescription":"เริ่มต้นด้วยการเพิ่มวัตถุดิบแรกของคุณ","stock.ingredients.emptyAction":"เพิ่มวัตถุดิบ","stock.ingredients.headerLabel":"จัดการข้อมูล","stock.ingredients.stats.total":"ทั้งหมด","stock.ingredients.stats.active":"ใช้งาน","stock.ingredients.stats.inactive":"ไม่ใช้งาน","common.checkingAuth":"กำลังตรวจสอบสิทธิ์การใช้งาน...","common.noPermissionRedirect":"คุณไม่มีสิทธิ์เข้าถึงหน้านี้ กำลังพากลับหน้าแรก...","ingredientsUnit.title":"หน่วยวัตถุดิบ","ingredientsUnit.subtitle":"{{count}} หน่วย","ingredientsUnit.button.refresh":"รีเฟรช","ingredientsUnit.button.add":"เพิ่มหน่วยวัตถุดิบ","ingredientsUnit.section.list":"รายการหน่วยวัตถุดิบ","ingredientsUnit.loading":"กำลังโหลดหน่วยวัตถุดิบ...","ingredientsUnit.empty.title":"ยังไม่มีหน่วยวัตถุดิบ","ingredientsUnit.empty.desc":"เริ่มต้นด้วยการเพิ่มหน่วยวัตถุดิบแรกของคุณ","ingredientsUnit.fetch.error":"ไม่สามารถดึงข้อมูลหน่วยวัตถุดิบได้","ingredientsUnit.create.toast":"เพิ่มหน่วยวัตถุดิบ {{name}} แล้ว","ingredientsUnit.delete.title":"ยืนยันการลบหน่วยวัตถุดิบ","ingredientsUnit.delete.content":"ต้องการลบหน่วยวัตถุดิบ \\"{{name}}\\" หรือไม่?","ingredientsUnit.delete.ok":"ลบ","ingredientsUnit.delete.cancel":"ยกเลิก","ingredientsUnit.delete.success":"ลบหน่วยวัตถุดิบ \\"{{name}}\\" สำเร็จ","stockHistory.title":"ประวัติออเดอร์สต็อก","stockHistory.subtitle":"รายการที่เสร็จสิ้น/ยกเลิก","stockHistory.refresh":"รีเฟรช","stockHistory.sectionAll":"ประวัติทั้งหมด","stockHistory.count":"ทั้งหมด {{total}} รายการ","stockHistory.empty.title":"ยังไม่มีประวัติออเดอร์","stockHistory.empty.desc":"เมื่อมีรายการเสร็จสิ้น/ยกเลิก จะแสดงที่หน้านี้","stockHistory.delete.title":"ยืนยันการลบ","stockHistory.delete.content":"ต้องการลบประวัติออเดอร์ #{{code}} หรือไม่? ข้อมูลที่เกี่ยวข้องทั้งหมดจะถูกลบด้วย","stockHistory.delete.ok":"ลบ","stockHistory.delete.cancel":"ยกเลิก","stockHistory.delete.success":"ลบประวัติออเดอร์สำเร็จ","stockHistory.delete.error":"ลบประวัติออเดอร์ล้มเหลว","stockHistory.fetch.error":"ไม่สามารถโหลดประวัติออเดอร์ได้","stockHistory.paginationTotal":"ทั้งหมด {{total}} รายการ"}');function n(e,t){var r;let n=null!==(r=a[e])&&void 0!==r?r:e;return t?n.replace(/\{\{(\w+)\}\}/g,(e,r)=>{var a;return(null!==(a=t[r])&&void 0!==a?a:"").toString()}):n}},73814:function(e,t,r){"use strict";r.d(t,{t:function(){return n},v:function(){return o}});let a=()=>!0,n=(e,t)=>{if(!a())return null;try{var r;let a=window.localStorage.getItem(e);if(!a)return null;let n=JSON.parse(a);if(!(null==n?void 0:n.ts)||Date.now()-n.ts>t)return null;return null!==(r=n.data)&&void 0!==r?r:null}catch(e){return null}},o=(e,t)=>{if(a())try{let r={ts:Date.now(),data:t};window.localStorage.setItem(e,JSON.stringify(r))}catch(e){}}},97235:function(e,t,r){"use strict";r.d(t,{P:function(){return i}});var a=r(5447);let n=null,o=0,s=null;async function i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Date.now();return!e&&n&&t-o<6e5?n:(s||(s=a.O.getCsrfToken().then(e=>(n=e||"",o=Date.now(),n)).finally(()=>{s=null})),s)}},67697:function(e,t,r){"use strict";r.d(t,{D:function(){return s},v:function(){return o}});var a=r(2265);let n=e=>{if("string"==typeof e)return e;if(e&&"object"==typeof e){var t;if("id"in e&&e.id)return e.id;if("data"in e&&(null===(t=e.data)||void 0===t?void 0:t.id))return e.data.id}};function o(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>e.id,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>!0;(0,a.useEffect)(()=>{if(!e)return;let a=e=>{if(!s(e))return;let t=o(e);r(r=>r.some(e=>o(e)===t)?r:[...r,e])},i=e=>{let t=o(e);r(r=>s(e)?r.some(e=>o(e)===t)?r.map(r=>o(r)===t?e:r):[...r,e]:r.filter(e=>o(e)!==t))},l=e=>{let t=n(e);t&&r(e=>e.filter(e=>o(e)!==t))};return e.on(t.create,a),e.on(t.update,i),e.on(t.delete,l),()=>{e.off(t.create,a),e.off(t.update,i),e.off(t.delete,l)}},[e,t.create,t.update,t.delete,o,r,s])}function s(e){let{socket:t,events:r=[],onRefresh:n,intervalMs:o,enabled:s=!0,debounceMs:i}=e;(0,a.useEffect)(()=>{if(!s||!t||0===r.length)return;let e=null,a=()=>{if(!i||i<=0){n();return}e&&clearTimeout(e),e=setTimeout(()=>{e=null,n()},i)};return r.forEach(e=>t.on(e,a)),()=>{e&&clearTimeout(e),r.forEach(e=>t.off(e,a))}},[s,t,r,n,i]),(0,a.useEffect)(()=>{if(!s||!o)return;let e=setInterval(n,o);return()=>clearInterval(e)},[s,o,n])}},12028:function(e,t,r){"use strict";r.d(t,{b:function(){return a},g:function(){return n}});let a={system:{announcement:"system:announcement"},users:{create:"users:create",update:"users:update",delete:"users:delete",status:"users:update-status"},roles:{create:"roles:create",update:"roles:update",delete:"roles:delete"},branches:{create:"branches:create",update:"branches:update",delete:"branches:delete"},products:{create:"products:create",update:"products:update",delete:"products:delete"},productsUnit:{create:"productsUnit:create",update:"productsUnit:update",delete:"productsUnit:delete"},categories:{create:"category:create",update:"category:update",delete:"category:delete"},tables:{create:"tables:create",update:"tables:update",delete:"tables:delete"},orders:{create:"orders:create",update:"orders:update",delete:"orders:delete"},payments:{create:"payments:create",update:"payments:update",delete:"payments:delete"},discounts:{create:"discounts:create",update:"discounts:update",delete:"discounts:delete"},delivery:{create:"delivery:create",update:"delivery:update",delete:"delivery:delete"},shifts:{update:"shifts:update"},orderQueue:{added:"order-queue:added",updated:"order-queue:updated",removed:"order-queue:removed",reordered:"order-queue:reordered"},ingredients:{create:"ingredients:create",update:"ingredients:update",delete:"ingredients:delete"},ingredientsUnit:{create:"ingredientsUnit:create",update:"ingredientsUnit:update",delete:"ingredientsUnit:delete"},stock:{update:"stock:update"},stockOrders:{create:"stock:orders:create",update:"stock:orders:update",status:"stock:orders:status",delete:"stock:orders:delete",detailUpdate:"stock:orders:detail:update"},paymentAccounts:{create:"payment-accounts:create",update:"payment-accounts:update",delete:"payment-accounts:delete"},paymentMethods:{create:"paymentMethod:create",update:"paymentMethod:update",delete:"paymentMethod:delete"},shopProfile:{update:"shopProfile:update"},salesOrderItem:{create:"salesOrderItem:create",update:"salesOrderItem:update",delete:"salesOrderItem:delete"},salesOrderDetail:{create:"salesOrderDetail:create",update:"salesOrderDetail:update",delete:"salesOrderDetail:delete"}},n={stockOrdersUpdated:"orders_updated"}}},function(e){e.O(0,[253,1522,3418,742,9486,4252,3916,8651,6931,4159,3831,2224,3248,2401,9,8879,8589,19,9845,5713,4725,4480,2239,4513,2971,2117,1744],function(){return e(e.s=28997)}),_N_E=e.O()}]);