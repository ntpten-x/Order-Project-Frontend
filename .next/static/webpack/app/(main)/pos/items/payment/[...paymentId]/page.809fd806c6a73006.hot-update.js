"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(main)/pos/items/payment/[...paymentId]/page",{

/***/ "(app-pages-browser)/./src/app/(main)/pos/items/payment/[...paymentId]/page.tsx":
/*!******************************************************************!*\
  !*** ./src/app/(main)/pos/items/payment/[...paymentId]/page.tsx ***!
  \******************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ POSPaymentPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/typography/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/message/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/empty/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/button/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/tag/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/row/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/col/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/card/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/avatar/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/divider/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/modal/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/alert/index.js\");\n/* harmony import */ var _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! __barrel_optimize__?names=Alert,Avatar,Button,Card,Col,Divider,Empty,InputNumber,Modal,Row,Tag,Typography,message!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/input-number/index.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftOutlined,CreditCardOutlined,DollarOutlined,EditOutlined,QrcodeOutlined,SettingOutlined,ShopOutlined,UndoOutlined!=!@ant-design/icons */ \"(app-pages-browser)/./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftOutlined,CreditCardOutlined,DollarOutlined,EditOutlined,QrcodeOutlined,SettingOutlined,ShopOutlined,UndoOutlined!=!@ant-design/icons */ \"(app-pages-browser)/./node_modules/@ant-design/icons/es/icons/EditOutlined.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftOutlined,CreditCardOutlined,DollarOutlined,EditOutlined,QrcodeOutlined,SettingOutlined,ShopOutlined,UndoOutlined!=!@ant-design/icons */ \"(app-pages-browser)/./node_modules/@ant-design/icons/es/icons/ShopOutlined.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftOutlined,CreditCardOutlined,DollarOutlined,EditOutlined,QrcodeOutlined,SettingOutlined,ShopOutlined,UndoOutlined!=!@ant-design/icons */ \"(app-pages-browser)/./node_modules/@ant-design/icons/es/icons/DollarOutlined.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftOutlined,CreditCardOutlined,DollarOutlined,EditOutlined,QrcodeOutlined,SettingOutlined,ShopOutlined,UndoOutlined!=!@ant-design/icons */ \"(app-pages-browser)/./node_modules/@ant-design/icons/es/icons/QrcodeOutlined.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftOutlined,CreditCardOutlined,DollarOutlined,EditOutlined,QrcodeOutlined,SettingOutlined,ShopOutlined,UndoOutlined!=!@ant-design/icons */ \"(app-pages-browser)/./node_modules/@ant-design/icons/es/icons/CreditCardOutlined.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftOutlined,CreditCardOutlined,DollarOutlined,EditOutlined,QrcodeOutlined,SettingOutlined,ShopOutlined,UndoOutlined!=!@ant-design/icons */ \"(app-pages-browser)/./node_modules/@ant-design/icons/es/icons/SettingOutlined.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftOutlined,CreditCardOutlined,DollarOutlined,EditOutlined,QrcodeOutlined,SettingOutlined,ShopOutlined,UndoOutlined!=!@ant-design/icons */ \"(app-pages-browser)/./node_modules/@ant-design/icons/es/icons/UndoOutlined.js\");\n/* harmony import */ var qrcode_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! qrcode.react */ \"(app-pages-browser)/./node_modules/qrcode.react/lib/esm/index.js\");\n/* harmony import */ var promptpay_qr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! promptpay-qr */ \"(app-pages-browser)/./node_modules/promptpay-qr/index.js\");\n/* harmony import */ var promptpay_qr__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(promptpay_qr__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _services_pos_orders_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../services/pos/orders.service */ \"(app-pages-browser)/./src/services/pos/orders.service.ts\");\n/* harmony import */ var _services_pos_paymentMethod_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../services/pos/paymentMethod.service */ \"(app-pages-browser)/./src/services/pos/paymentMethod.service.ts\");\n/* harmony import */ var _services_pos_discounts_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../services/pos/discounts.service */ \"(app-pages-browser)/./src/services/pos/discounts.service.ts\");\n/* harmony import */ var _services_pos_payments_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../services/pos/payments.service */ \"(app-pages-browser)/./src/services/pos/payments.service.ts\");\n/* harmony import */ var _services_pos_tables_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../services/pos/tables.service */ \"(app-pages-browser)/./src/services/pos/tables.service.ts\");\n/* harmony import */ var _services_pos_shopProfile_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../services/pos/shopProfile.service */ \"(app-pages-browser)/./src/services/pos/shopProfile.service.ts\");\n/* harmony import */ var _utils_pos_csrf__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../utils/pos/csrf */ \"(app-pages-browser)/./src/utils/pos/csrf.ts\");\n/* harmony import */ var _utils_orderGrouping__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../utils/orderGrouping */ \"(app-pages-browser)/./src/utils/orderGrouping.ts\");\n/* harmony import */ var _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../types/api/pos/salesOrder */ \"(app-pages-browser)/./src/types/api/pos/salesOrder.ts\");\n/* harmony import */ var _types_api_pos_tables__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../types/api/pos/tables */ \"(app-pages-browser)/./src/types/api/pos/tables.ts\");\n/* harmony import */ var _types_api_pos_discounts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../../types/api/pos/discounts */ \"(app-pages-browser)/./src/types/api/pos/discounts.ts\");\n/* harmony import */ var _types_api_pos_payments__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../../types/api/pos/payments */ \"(app-pages-browser)/./src/types/api/pos/payments.ts\");\n/* harmony import */ var _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../../theme/pos/items/style */ \"(app-pages-browser)/./src/theme/pos/items/style.ts\");\n/* harmony import */ var _utils_payments__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../../utils/payments */ \"(app-pages-browser)/./src/utils/payments/index.ts\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! dayjs */ \"(app-pages-browser)/./node_modules/dayjs/dayjs.min.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var dayjs_locale_th__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! dayjs/locale/th */ \"(app-pages-browser)/./node_modules/dayjs/locale/th.js\");\n/* harmony import */ var dayjs_locale_th__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(dayjs_locale_th__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _utils_orders__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../../utils/orders */ \"(app-pages-browser)/./src/utils/orders/index.ts\");\n/* harmony import */ var _components_dialog_ConfirmationDialog__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../../components/dialog/ConfirmationDialog */ \"(app-pages-browser)/./src/components/dialog/ConfirmationDialog.tsx\");\n/* harmony import */ var _contexts_pos_GlobalLoadingContext__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../../contexts/pos/GlobalLoadingContext */ \"(app-pages-browser)/./src/contexts/pos/GlobalLoadingContext.tsx\");\n/* harmony import */ var _hooks_useSocket__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../../../hooks/useSocket */ \"(app-pages-browser)/./src/hooks/useSocket.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst { Title, Text } = _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_26__[\"default\"];\ndayjs__WEBPACK_IMPORTED_MODULE_20___default().locale(\"th\");\nfunction POSPaymentPage() {\n    var _paymentMethods_find, _paymentMethods_find1;\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams)();\n    const [messageApi, contextHolder] = _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_27__[\"default\"].useMessage();\n    const paymentId = Array.isArray(params === null || params === void 0 ? void 0 : params.paymentId) ? params.paymentId[0] : params === null || params === void 0 ? void 0 : params.paymentId;\n    const [order, setOrder] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [paymentMethods, setPaymentMethods] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [discounts, setDiscounts] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [shopProfile, setShopProfile] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Payment State\n    const [selectedPaymentMethod, setSelectedPaymentMethod] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [receivedAmount, setReceivedAmount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [appliedDiscount, setAppliedDiscount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [discountModalVisible, setDiscountModalVisible] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const { showLoading, hideLoading } = (0,_contexts_pos_GlobalLoadingContext__WEBPACK_IMPORTED_MODULE_24__.useGlobalLoading)();\n    (0,_hooks_useSocket__WEBPACK_IMPORTED_MODULE_25__.useSocket)();\n    // Refs for input fields\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const cashInputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const cardInputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    // Confirmation Dialog State\n    const [confirmConfig, setConfirmConfig] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        open: false,\n        type: \"confirm\",\n        title: \"\",\n        content: \"\",\n        onOk: ()=>{}\n    });\n    const closeConfirm = ()=>setConfirmConfig((prev)=>({\n                ...prev,\n                open: false\n            }));\n    const fetchInitialData = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async function() {\n        let silent = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        if (!paymentId) return;\n        try {\n            if (!silent) {\n                setIsLoading(true);\n                showLoading(\"กำลังโหลดข้อมูลการชำระเงิน...\");\n            }\n            // Fetch shop profile separately\n            const shopRes = await _services_pos_shopProfile_service__WEBPACK_IMPORTED_MODULE_11__.shopProfileService.getProfile().catch(()=>null);\n            const [orderData, methodsRes, discountsRes] = await Promise.all([\n                _services_pos_orders_service__WEBPACK_IMPORTED_MODULE_6__.ordersService.getById(paymentId),\n                _services_pos_paymentMethod_service__WEBPACK_IMPORTED_MODULE_7__.paymentMethodService.getAll(),\n                _services_pos_discounts_service__WEBPACK_IMPORTED_MODULE_8__.discountsService.getAll()\n            ]);\n            if ([\n                _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Paid,\n                _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Cancelled\n            ].includes(orderData.status)) {\n                router.push(\"/pos/channels\");\n                return;\n            }\n            setOrder(orderData);\n            // Filter Payment Methods\n            const filteredMethods = (methodsRes.data || []).filter((m)=>{\n                // If not delivery order, hide 'Delivery' method\n                if (orderData.order_type !== _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderType.Delivery && m.payment_method_name === \"Delivery\") {\n                    return false;\n                }\n                return true;\n            });\n            setPaymentMethods(filteredMethods);\n            // Ensure discounts is always an array\n            // discountsService.getAll() should always return Discounts[]\n            // but handle edge cases just in case\n            let discountsArray = [];\n            if (Array.isArray(discountsRes)) {\n                discountsArray = discountsRes;\n            } else if (discountsRes && typeof discountsRes === \"object\") {\n                // Handle single object response\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const discountObj = discountsRes;\n                if (discountObj.id && (discountObj.discount_name || discountObj.display_name)) {\n                    discountsArray = [\n                        discountObj\n                    ];\n                } else if (discountObj.data && Array.isArray(discountObj.data)) {\n                    discountsArray = discountObj.data;\n                } else if (discountObj.success && Array.isArray(discountObj.data)) {\n                    discountsArray = discountObj.data;\n                } else if (discountObj.success && discountObj.data && typeof discountObj.data === \"object\" && !Array.isArray(discountObj.data)) {\n                    if (discountObj.data.id && (discountObj.data.discount_name || discountObj.data.display_name)) {\n                        discountsArray = [\n                            discountObj.data\n                        ];\n                    }\n                }\n            }\n            setDiscounts(discountsArray);\n            setShopProfile(shopRes);\n            // Sync initial discount\n            if (orderData.discount) {\n                setAppliedDiscount(orderData.discount);\n            }\n            // Default received amount to total if exists\n            if (orderData) {\n                setReceivedAmount(Number(orderData.total_amount));\n            }\n        } catch (e) {\n            if (!silent) messageApi.error(\"ไม่สามารถโหลดข้อมูลการชำระเงินได้\");\n        } finally{\n            if (!silent) {\n                setIsLoading(false);\n                hideLoading();\n            }\n        }\n    }, [\n        messageApi,\n        paymentId,\n        router,\n        showLoading,\n        hideLoading\n    ]);\n    // Memoize discount options for Select component\n    const discountOptions = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!discounts || !Array.isArray(discounts) || discounts.length === 0) {\n            return [];\n        }\n        const activeDiscounts = discounts.filter((d)=>{\n            if (!d) return false;\n            return d.is_active === true || d.is_active === undefined;\n        });\n        if (activeDiscounts.length === 0) {\n            return [];\n        }\n        const options = activeDiscounts.map((d)=>{\n            // Use display_name first, fallback to discount_name\n            const displayName = d.display_name || d.discount_name;\n            if (!displayName || !d.id) {\n                return null;\n            }\n            const label = \"\".concat(displayName, \" (\").concat(d.discount_type === _types_api_pos_discounts__WEBPACK_IMPORTED_MODULE_16__.DiscountType.Percentage ? \"\".concat(d.discount_amount, \"%\") : \"-\".concat(d.discount_amount, \"฿\"), \")\");\n            return {\n                label,\n                value: d.id\n            };\n        }).filter((opt)=>opt !== null);\n        return options;\n    }, [\n        discounts\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (paymentId) {\n            fetchInitialData(false);\n        }\n    }, [\n        fetchInitialData,\n        paymentId\n    ]);\n    // Temporarily disable realtime refresh to test if it causes dropdown issues\n    /*\n    useRealtimeRefresh({\n        socket,\n        events: [\"orders:update\", \"orders:delete\", \"payments:create\", \"payments:update\"],\n        onRefresh: async () => {\n             // fetchInitialData(true);\n        }\n    });\n    */ // Prevent auto-scroll when component re-renders\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Disable Next.js auto-scroll behavior\n        if (true) {\n            // Prevent scroll restoration\n            if (\"scrollRestoration\" in window.history) {\n                window.history.scrollRestoration = \"manual\";\n            }\n        }\n    }, []);\n    const { subtotal, discount, vat, total, change } = (0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.calculatePaymentTotals)(order, receivedAmount);\n    // Group items for display\n    const groupedItems = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!(order === null || order === void 0 ? void 0 : order.items)) return [];\n        const activeItems = order.items.filter((item)=>item.status !== _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Cancelled);\n        return (0,_utils_orderGrouping__WEBPACK_IMPORTED_MODULE_13__.groupOrderItems)(activeItems);\n    }, [\n        order === null || order === void 0 ? void 0 : order.items\n    ]);\n    const handleDiscountChange = async (value)=>{\n        if (!order) return;\n        try {\n            showLoading(\"กำลังอัปเดตส่วนลด...\");\n            const csrfToken = await (0,_utils_pos_csrf__WEBPACK_IMPORTED_MODULE_12__.getCsrfTokenCached)();\n            const updatedOrder = await _services_pos_orders_service__WEBPACK_IMPORTED_MODULE_6__.ordersService.update(order.id, {\n                discount_id: value || null\n            }, undefined, csrfToken);\n            setOrder(updatedOrder);\n            // Update applied discount state\n            if (value) {\n                const selected = discounts.find((d)=>d.id === value);\n                if (selected) {\n                    setAppliedDiscount(selected);\n                    messageApi.success('ใช้ส่วนลด \"'.concat(selected.display_name, '\" เรียบร้อย'));\n                }\n            } else {\n                setAppliedDiscount(null);\n                messageApi.info(\"ยกเลิกการใช้ส่วนลด\");\n            }\n            // Update received amount to match new total for convenience\n            setReceivedAmount(Number(updatedOrder.total_amount));\n        } catch (e) {\n            messageApi.error(\"ไม่สามารถบันทึกส่วนลดได้\");\n        } finally{\n            hideLoading();\n        }\n    };\n    const handleConfirmPayment = async ()=>{\n        if (!selectedPaymentMethod) {\n            messageApi.error(\"กรุณาเลือกวิธีการชำระเงิน\");\n            return;\n        }\n        if (receivedAmount < total) {\n            messageApi.error(\"ยอดเงินที่รับต้องมากกว่าหรือเท่ากับยอดชำระ\");\n            return;\n        }\n        const method = paymentMethods.find((m)=>m.id === selectedPaymentMethod);\n        const methodName = (method === null || method === void 0 ? void 0 : method.display_name) || \"ไม่ระบุ\";\n        setConfirmConfig({\n            open: true,\n            type: \"success\",\n            title: \"ยืนยันการชำระเงิน\",\n            content: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    textAlign: \"center\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: 16,\n                            marginBottom: 8\n                        },\n                        children: [\n                            \"วิธีการชำระเงิน: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                strong: true,\n                                children: methodName\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                lineNumber: 280,\n                                columnNumber: 42\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                        lineNumber: 279,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: 24,\n                            fontWeight: 700,\n                            color: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.primary\n                        },\n                        children: [\n                            \"ยอดสุทธิ \",\n                            (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(total)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                        lineNumber: 282,\n                        columnNumber: 21\n                    }, this),\n                    change > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.success,\n                            fontSize: 18,\n                            marginTop: 4\n                        },\n                        children: [\n                            \"เงินทอน \",\n                            (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(change)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                        lineNumber: 286,\n                        columnNumber: 25\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                lineNumber: 278,\n                columnNumber: 17\n            }, this),\n            okText: \"ยืนยัน\",\n            cancelText: \"ยกเลิก\",\n            onOk: async ()=>{\n                try {\n                    showLoading(\"กำลังดำเนินการชำระเงิน...\");\n                    closeConfirm();\n                    const csrfToken = await (0,_utils_pos_csrf__WEBPACK_IMPORTED_MODULE_12__.getCsrfTokenCached)();\n                    // 1. Create Payment Record\n                    const paymentData = {\n                        order_id: order.id,\n                        payment_method_id: selectedPaymentMethod,\n                        amount: total,\n                        amount_received: receivedAmount,\n                        change_amount: change,\n                        status: _types_api_pos_payments__WEBPACK_IMPORTED_MODULE_17__.PaymentStatus.Success\n                    };\n                    await _services_pos_payments_service__WEBPACK_IMPORTED_MODULE_9__.paymentsService.create(paymentData, undefined, csrfToken);\n                    // 2. Update Order Status to Paid\n                    await _services_pos_orders_service__WEBPACK_IMPORTED_MODULE_6__.ordersService.updateStatus(order.id, _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Paid, csrfToken);\n                    // 3. Update Table Status if DineIn\n                    if (order.table_id) {\n                        await _services_pos_tables_service__WEBPACK_IMPORTED_MODULE_10__.tablesService.update(order.table_id, {\n                            status: _types_api_pos_tables__WEBPACK_IMPORTED_MODULE_15__.TableStatus.Available\n                        }, undefined, csrfToken);\n                    }\n                    messageApi.success(\"ชำระเงินเรียบร้อย\");\n                    router.push(\"/pos/dashboard/\".concat(order.id)); // Go to order detail/dashboard\n                } catch (e) {\n                    messageApi.error(\"การชำระเงินล้มเหลว\");\n                } finally{\n                    hideLoading();\n                }\n            }\n        });\n    };\n    const handleEditOrder = async ()=>{\n        if (!order) return;\n        setConfirmConfig({\n            open: true,\n            type: \"warning\",\n            title: \"ย้อนกลับไปแก้ไขออเดอร์?\",\n            content: 'สถานะออเดอร์จะถูกเปลี่ยนกลับเป็น \"กำลังดำเนินการ\" เพื่อให้คุณสามารถแก้ไขรายการอาหารได้ คุณแน่ใจหรือไม่?',\n            okText: \"ตกลง\",\n            cancelText: \"ยกเลิก\",\n            onOk: async ()=>{\n                try {\n                    var _order_items;\n                    showLoading(\"กำลังดำเนินการ...\");\n                    closeConfirm();\n                    const csrfToken = await (0,_utils_pos_csrf__WEBPACK_IMPORTED_MODULE_12__.getCsrfTokenCached)();\n                    // 1. Revert all non-cancelled items to 'Served' status\n                    const activeItems = ((_order_items = order.items) === null || _order_items === void 0 ? void 0 : _order_items.filter((item)=>item.status !== _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Cancelled)) || [];\n                    await Promise.all(activeItems.map((item)=>_services_pos_orders_service__WEBPACK_IMPORTED_MODULE_6__.ordersService.updateItemStatus(item.id, _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Served, undefined, csrfToken)));\n                    // 2. Revert order status back to 'Pending'\n                    await _services_pos_orders_service__WEBPACK_IMPORTED_MODULE_6__.ordersService.updateStatus(order.id, _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Pending, csrfToken);\n                    messageApi.success(\"ย้อนกลับไปแก้ไขออเดอร์เรียบร้อย\");\n                    router.push((0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.getEditOrderRedirect)(order.id));\n                } catch (e) {\n                    messageApi.error(\"ไม่สามารถเปลี่ยนสถานะออเดอร์ได้\");\n                } finally{\n                    hideLoading();\n                }\n            }\n        });\n    };\n    const handleCancelOrder = ()=>{\n        if (!order) return;\n        setConfirmConfig({\n            open: true,\n            type: \"danger\",\n            title: \"ยืนยันการยกเลิกออเดอร์?\",\n            content: \"การดำเนินการนี้จะยกเลิกสินค้าทุกรายการและคืนสถานะโต๊ะ (หากมี) คุณแน่ใจหรือไม่?\",\n            okText: \"ยืนยันการยกเลิก\",\n            cancelText: \"ยกเลิก\",\n            onOk: async ()=>{\n                try {\n                    var _order_items;\n                    showLoading(\"กำลังดำเนินการยกเลิก...\");\n                    closeConfirm();\n                    const csrfToken = await (0,_utils_pos_csrf__WEBPACK_IMPORTED_MODULE_12__.getCsrfTokenCached)();\n                    // 1. Cancel all non-cancelled items\n                    const activeItems = ((_order_items = order.items) === null || _order_items === void 0 ? void 0 : _order_items.filter((item)=>item.status !== _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Cancelled)) || [];\n                    await Promise.all(activeItems.map((item)=>_services_pos_orders_service__WEBPACK_IMPORTED_MODULE_6__.ordersService.updateItemStatus(item.id, _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Cancelled, undefined, csrfToken)));\n                    // 2. Set Order status to Cancelled\n                    await _services_pos_orders_service__WEBPACK_IMPORTED_MODULE_6__.ordersService.updateStatus(order.id, _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderStatus.Cancelled, csrfToken);\n                    // 3. Set Table to Available if Dine-In\n                    if (order.table_id) {\n                        await _services_pos_tables_service__WEBPACK_IMPORTED_MODULE_10__.tablesService.update(order.table_id, {\n                            status: _types_api_pos_tables__WEBPACK_IMPORTED_MODULE_15__.TableStatus.Available\n                        }, undefined, csrfToken);\n                    }\n                    messageApi.success(\"ยกเลิกออเดอร์เรียบร้อย\");\n                    router.push((0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.getPostCancelPaymentRedirect)());\n                } catch (e) {\n                    messageApi.error(\"ไม่สามารถยกเลิกออเดอร์ได้\");\n                } finally{\n                    hideLoading();\n                }\n            }\n        });\n    };\n    const handleBack = ()=>{\n        if ((order === null || order === void 0 ? void 0 : order.order_type) === _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderType.DineIn) {\n            router.push(\"/pos/channels/dine-in\");\n        } else if ((order === null || order === void 0 ? void 0 : order.order_type) === _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderType.TakeAway) {\n            router.push(\"/pos/channels/takeaway\");\n        } else if ((order === null || order === void 0 ? void 0 : order.order_type) === _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_14__.OrderType.Delivery) {\n            router.push(\"/pos/channels/delivery\");\n        } else {\n            router.back();\n        }\n    };\n    if (isLoading && !order) return null;\n    if (!order) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n        description: \"ไม่พบข้อมูลออเดอร์\"\n    }, void 0, false, {\n        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n        lineNumber: 428,\n        columnNumber: 24\n    }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.container,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsResponsiveStyles.__hash,\n                children: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsResponsiveStyles\n            }, void 0, false, void 0, this),\n            contextHolder,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.heroSection,\n                className: \"payment-hero-mobile\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.contentWrapper,\n                    className: \"payment-content-mobile\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            justifyContent: \"space-between\",\n                            flexWrap: \"wrap\",\n                            gap: 16\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"flex-start\",\n                                    gap: 16\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                        type: \"text\",\n                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                            style: {\n                                                fontSize: 20\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                            lineNumber: 442,\n                                            columnNumber: 39\n                                        }, void 0),\n                                        style: {\n                                            color: \"#fff\",\n                                            padding: 0,\n                                            height: \"auto\",\n                                            marginTop: 4\n                                        },\n                                        onClick: handleBack\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                        lineNumber: 440,\n                                        columnNumber: 30\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Title, {\n                                                level: 3,\n                                                style: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.pageTitle,\n                                                children: \"ชำระเงิน\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 447,\n                                                columnNumber: 33\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: 8,\n                                                    marginTop: 8,\n                                                    flexWrap: \"wrap\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                        color: \"blue\",\n                                                        style: {\n                                                            borderRadius: 4,\n                                                            border: \"none\"\n                                                        },\n                                                        children: [\n                                                            (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.getOrderChannelText)(order.order_type),\n                                                            \" \",\n                                                            (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.getOrderReference)(order)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 449,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                        color: (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.getOrderStatusColor)(order.status),\n                                                        style: {\n                                                            borderRadius: 4,\n                                                            border: \"none\"\n                                                        },\n                                                        children: (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.getOrderStatusText)(order.status)\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 452,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                        style: {\n                                                            color: \"rgba(255,255,255,0.85)\",\n                                                            fontSize: 13\n                                                        },\n                                                        children: [\n                                                            \"#\",\n                                                            order.order_no\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 455,\n                                                        columnNumber: 37\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 448,\n                                                columnNumber: 33\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                        lineNumber: 446,\n                                        columnNumber: 30\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                lineNumber: 439,\n                                columnNumber: 26\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: 8\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {}, void 0, false, {\n                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                            lineNumber: 462,\n                                            columnNumber: 39\n                                        }, void 0),\n                                        onClick: handleEditOrder,\n                                        style: {\n                                            background: \"rgba(255,255,255,0.2)\",\n                                            border: \"none\",\n                                            color: \"#fff\"\n                                        },\n                                        children: \"แก้ไขออเดอร์\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                        lineNumber: 461,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                        danger: true,\n                                        onClick: handleCancelOrder,\n                                        children: \"ยกเลิกออเดอร์\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                        lineNumber: 468,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                lineNumber: 460,\n                                columnNumber: 26\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                        lineNumber: 438,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                    lineNumber: 437,\n                    columnNumber: 17\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                lineNumber: 436,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    ..._theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.contentWrapper,\n                    marginTop: -30,\n                    paddingBottom: 40\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                    gutter: [\n                        24,\n                        24\n                    ],\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                            xs: 24,\n                            lg: 14,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                style: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.card,\n                                styles: {\n                                    body: {\n                                        height: \"100%\",\n                                        display: \"flex\",\n                                        flexDirection: \"column\"\n                                    }\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Title, {\n                                        level: 4,\n                                        style: {\n                                            marginBottom: 16,\n                                            marginTop: 0\n                                        },\n                                        children: \"รายการสรุป (Order Summary)\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                        lineNumber: 487,\n                                        columnNumber: 30\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            flex: 1,\n                                            overflowY: \"auto\",\n                                            paddingRight: 8,\n                                            minHeight: 300,\n                                            maxHeight: 500\n                                        },\n                                        children: groupedItems.map((item, idx)=>{\n                                            var _item_product, _item_product1;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    display: \"flex\",\n                                                    justifyContent: \"space-between\",\n                                                    marginBottom: 16,\n                                                    paddingBottom: 16,\n                                                    borderBottom: \"1px solid \".concat(_theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.borderLight)\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            display: \"flex\",\n                                                            gap: 12,\n                                                            flex: 1,\n                                                            minWidth: 0\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_36__[\"default\"], {\n                                                                shape: \"square\",\n                                                                size: 50,\n                                                                src: (_item_product = item.product) === null || _item_product === void 0 ? void 0 : _item_product.img_url,\n                                                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {}, void 0, false, {\n                                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                    lineNumber: 496,\n                                                                    columnNumber: 55\n                                                                }, void 0),\n                                                                style: {\n                                                                    backgroundColor: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.backgroundSecondary,\n                                                                    flexShrink: 0,\n                                                                    borderRadius: 8\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                lineNumber: 492,\n                                                                columnNumber: 45\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    flex: 1,\n                                                                    minWidth: 0\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                        strong: true,\n                                                                        style: {\n                                                                            display: \"block\"\n                                                                        },\n                                                                        ellipsis: true,\n                                                                        children: (_item_product1 = item.product) === null || _item_product1 === void 0 ? void 0 : _item_product1.display_name\n                                                                    }, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 500,\n                                                                        columnNumber: 49\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            gap: 8,\n                                                                            alignItems: \"center\"\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                                type: \"secondary\",\n                                                                                style: {\n                                                                                    fontSize: 13\n                                                                                },\n                                                                                children: (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(item.price)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                lineNumber: 502,\n                                                                                columnNumber: 53\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                                style: {\n                                                                                    margin: 0,\n                                                                                    fontSize: 11\n                                                                                },\n                                                                                children: [\n                                                                                    \"x\",\n                                                                                    item.quantity\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                lineNumber: 503,\n                                                                                columnNumber: 53\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 501,\n                                                                        columnNumber: 49\n                                                                    }, this),\n                                                                    item.notes && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                        style: {\n                                                                            display: \"block\",\n                                                                            fontSize: 12,\n                                                                            fontStyle: \"italic\",\n                                                                            color: \"#ef4444\",\n                                                                            marginTop: 2\n                                                                        },\n                                                                        children: [\n                                                                            \"* \",\n                                                                            item.notes\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 506,\n                                                                        columnNumber: 53\n                                                                    }, this),\n                                                                    item.details && item.details.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            marginTop: 2,\n                                                                            display: \"flex\",\n                                                                            flexDirection: \"column\",\n                                                                            gap: 0\n                                                                        },\n                                                                        children: item.details.map((detail, dIdx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                                    style: {\n                                                                                        color: \"#10b981\",\n                                                                                        fontSize: 12\n                                                                                    },\n                                                                                    children: [\n                                                                                        \"+ \",\n                                                                                        detail.detail_name,\n                                                                                        \" \",\n                                                                                        Number(detail.extra_price) > 0 ? \"(+\".concat(Number(detail.extra_price), \")\") : \"\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                    lineNumber: 514,\n                                                                                    columnNumber: 65\n                                                                                }, this)\n                                                                            }, dIdx, false, {\n                                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                lineNumber: 513,\n                                                                                columnNumber: 61\n                                                                            }, this))\n                                                                    }, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 511,\n                                                                        columnNumber: 53\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                lineNumber: 499,\n                                                                columnNumber: 45\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 491,\n                                                        columnNumber: 42\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                        strong: true,\n                                                        children: (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(Number(item.total_price || Number(item.price) * item.quantity))\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 523,\n                                                        columnNumber: 42\n                                                    }, this)\n                                                ]\n                                            }, idx, true, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 490,\n                                                columnNumber: 37\n                                            }, this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                        lineNumber: 488,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.summaryBox,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                                justify: \"space-between\",\n                                                style: {\n                                                    marginBottom: 8\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                        type: \"secondary\",\n                                                        children: \"ยอดรวม (Subtotal)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 530,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                        children: (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(subtotal)\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 531,\n                                                        columnNumber: 37\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 529,\n                                                columnNumber: 33\n                                            }, this),\n                                            discount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                                justify: \"space-between\",\n                                                style: {\n                                                    marginBottom: 8,\n                                                    color: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.success\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                        type: \"success\",\n                                                        children: \"ส่วนลด (Discount)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 535,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                        type: \"success\",\n                                                        children: [\n                                                            \"-\",\n                                                            (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(discount)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 536,\n                                                        columnNumber: 41\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 534,\n                                                columnNumber: 37\n                                            }, this),\n                                            vat > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                                justify: \"space-between\",\n                                                style: {\n                                                    marginBottom: 8\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                        type: \"secondary\",\n                                                        children: \"VAT (7%)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 541,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                        children: (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(vat)\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 542,\n                                                        columnNumber: 41\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 540,\n                                                columnNumber: 37\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                style: {\n                                                    margin: \"12px 0\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 545,\n                                                columnNumber: 33\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                                justify: \"space-between\",\n                                                align: \"middle\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Title, {\n                                                        level: 4,\n                                                        style: {\n                                                            margin: 0\n                                                        },\n                                                        children: \"ยอดสุทธิ (Total)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 547,\n                                                        columnNumber: 37\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Title, {\n                                                        level: 3,\n                                                        style: {\n                                                            color: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.primary,\n                                                            margin: 0\n                                                        },\n                                                        children: (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(total)\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 548,\n                                                        columnNumber: 37\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 546,\n                                                columnNumber: 33\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                        lineNumber: 528,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                lineNumber: 483,\n                                columnNumber: 25\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                            lineNumber: 482,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                            xs: 24,\n                            lg: 10,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                    style: {\n                                        ..._theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.card,\n                                        height: \"auto\",\n                                        marginBottom: 12,\n                                        overflow: \"visible\"\n                                    },\n                                    styles: {\n                                        body: {\n                                            padding: \"12px 16px\",\n                                            overflow: \"visible\"\n                                        }\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                            strong: true,\n                                            style: {\n                                                display: \"block\",\n                                                marginBottom: 8,\n                                                fontSize: 13\n                                            },\n                                            children: \"ส่วนลด (Discount)\"\n                                        }, void 0, false, {\n                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                            lineNumber: 560,\n                                            columnNumber: 29\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                border: \"1px solid \".concat(appliedDiscount ? \"#4F46E5\" : \"#d9d9d9\"),\n                                                borderRadius: 8,\n                                                padding: \"8px 12px\",\n                                                cursor: \"pointer\",\n                                                background: \"#fff\",\n                                                display: \"flex\",\n                                                justifyContent: \"space-between\",\n                                                alignItems: \"center\",\n                                                height: 48,\n                                                transition: \"all 0.2s\"\n                                            },\n                                            onClick: ()=>{\n                                                if (!isLoading) {\n                                                    setDiscountModalVisible(true);\n                                                }\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: appliedDiscount ? \"#1f2937\" : \"#9ca3af\"\n                                                    },\n                                                    children: appliedDiscount ? \"\".concat(appliedDiscount.display_name || appliedDiscount.discount_name, \" (\").concat(appliedDiscount.discount_type === \"Percentage\" ? \"\".concat(appliedDiscount.discount_amount, \"%\") : \"-\".concat(appliedDiscount.discount_amount, \"฿\"), \")\") : \"เลือกส่วนลด (Select Discount)\"\n                                                }, void 0, false, {\n                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                    lineNumber: 581,\n                                                    columnNumber: 33\n                                                }, this),\n                                                appliedDiscount ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        handleDiscountChange(undefined);\n                                                    },\n                                                    style: {\n                                                        color: \"#ef4444\",\n                                                        padding: 4\n                                                    },\n                                                    children: \"✕\"\n                                                }, void 0, false, {\n                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                    lineNumber: 587,\n                                                    columnNumber: 37\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        color: \"#9ca3af\"\n                                                    },\n                                                    children: \"▼\"\n                                                }, void 0, false, {\n                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                    lineNumber: 597,\n                                                    columnNumber: 37\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                            lineNumber: 562,\n                                            columnNumber: 29\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                    lineNumber: 556,\n                                    columnNumber: 26\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                    title: \"เลือกส่วนลด\",\n                                    open: discountModalVisible,\n                                    onCancel: ()=>setDiscountModalVisible(false),\n                                    footer: null,\n                                    centered: true,\n                                    width: 400,\n                                    zIndex: 10001,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            flexDirection: \"column\",\n                                            gap: 8,\n                                            maxHeight: \"60vh\",\n                                            overflowY: \"auto\"\n                                        },\n                                        children: [\n                                            discountOptions.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    textAlign: \"center\",\n                                                    padding: 24,\n                                                    color: \"#9ca3af\"\n                                                },\n                                                children: \"ไม่มีส่วนลดที่ใช้งานได้\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 614,\n                                                columnNumber: 37\n                                            }, this) : discountOptions.map((opt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    onClick: ()=>{\n                                                        handleDiscountChange(opt.value);\n                                                        setDiscountModalVisible(false);\n                                                    },\n                                                    style: {\n                                                        padding: \"12px 16px\",\n                                                        border: \"1px solid #e5e7eb\",\n                                                        borderRadius: 8,\n                                                        cursor: \"pointer\",\n                                                        background: (appliedDiscount === null || appliedDiscount === void 0 ? void 0 : appliedDiscount.id) === opt.value ? \"#eff6ff\" : \"#fff\",\n                                                        borderColor: (appliedDiscount === null || appliedDiscount === void 0 ? void 0 : appliedDiscount.id) === opt.value ? \"#3b82f6\" : \"#e5e7eb\",\n                                                        display: \"flex\",\n                                                        justifyContent: \"space-between\",\n                                                        alignItems: \"center\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                fontWeight: (appliedDiscount === null || appliedDiscount === void 0 ? void 0 : appliedDiscount.id) === opt.value ? 500 : 400\n                                                            },\n                                                            children: opt.label\n                                                        }, void 0, false, {\n                                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                            lineNumber: 637,\n                                                            columnNumber: 45\n                                                        }, this),\n                                                        (appliedDiscount === null || appliedDiscount === void 0 ? void 0 : appliedDiscount.id) === opt.value && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                color: \"#3b82f6\"\n                                                            },\n                                                            children: \"✓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                            lineNumber: 641,\n                                                            columnNumber: 49\n                                                        }, this)\n                                                    ]\n                                                }, opt.value, true, {\n                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                    lineNumber: 619,\n                                                    columnNumber: 41\n                                                }, this)),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                onClick: ()=>{\n                                                    handleDiscountChange(undefined);\n                                                    setDiscountModalVisible(false);\n                                                },\n                                                style: {\n                                                    padding: \"12px 16px\",\n                                                    marginTop: 8,\n                                                    textAlign: \"center\",\n                                                    color: \"#ef4444\",\n                                                    cursor: \"pointer\",\n                                                    border: \"1px dashed #ef4444\",\n                                                    borderRadius: 8\n                                                },\n                                                children: \"ไม่ใช้ส่วนลด\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 646,\n                                                columnNumber: 33\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                        lineNumber: 612,\n                                        columnNumber: 29\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                    lineNumber: 603,\n                                    columnNumber: 26\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                    style: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.card,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            flexDirection: \"column\",\n                                            gap: 16\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                strong: true,\n                                                style: {\n                                                    fontSize: 16\n                                                },\n                                                children: \"วิธีการชำระเงิน (Payment Method)\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 668,\n                                                columnNumber: 33\n                                            }, this),\n                                            paymentMethods.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_40__[\"default\"], {\n                                                message: \"ยังไม่มีวิธีการชำระเงิน\",\n                                                description: \"กรุณาเพิ่มวิธีการชำระเงินในเมนูตั้งค่าก่อนทำรายการ\",\n                                                type: \"warning\",\n                                                showIcon: true,\n                                                style: {\n                                                    marginTop: 16\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 670,\n                                                columnNumber: 37\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                                gutter: [\n                                                    12,\n                                                    12\n                                                ],\n                                                children: paymentMethods.map((method)=>{\n                                                    const isSelected = selectedPaymentMethod === method.id;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                        span: 12,\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            onClick: ()=>{\n                                                                setSelectedPaymentMethod(method.id);\n                                                                // Auto-fill amount based on payment type\n                                                                if ((0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.isPromptPayMethod)(method.payment_method_name, method.display_name)) {\n                                                                    setReceivedAmount(total);\n                                                                } else if ((0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.isCashMethod)(method.payment_method_name, method.display_name)) {\n                                                                    setReceivedAmount(0);\n                                                                } else {\n                                                                    setReceivedAmount(total);\n                                                                }\n                                                            },\n                                                            style: {\n                                                                ..._theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.methodCard,\n                                                                ...isSelected ? _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.methodCardSelected : {}\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        fontSize: 24,\n                                                                        marginBottom: 8,\n                                                                        color: isSelected ? _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.primary : \"#595959\"\n                                                                    },\n                                                                    children: (0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.isCashMethod)(method.payment_method_name, method.display_name) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {}, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 701,\n                                                                        columnNumber: 126\n                                                                    }, this) : (0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.isPromptPayMethod)(method.payment_method_name, method.display_name) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {}, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 702,\n                                                                        columnNumber: 131\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {}, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 702,\n                                                                        columnNumber: 152\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                    lineNumber: 700,\n                                                                    columnNumber: 57\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                    strong: true,\n                                                                    style: {\n                                                                        color: isSelected ? _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.primary : undefined\n                                                                    },\n                                                                    children: method.display_name\n                                                                }, void 0, false, {\n                                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                    lineNumber: 704,\n                                                                    columnNumber: 57\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                            lineNumber: 683,\n                                                            columnNumber: 53\n                                                        }, this)\n                                                    }, method.id, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 682,\n                                                        columnNumber: 49\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 678,\n                                                columnNumber: 37\n                                            }, this),\n                                            selectedPaymentMethod && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    animation: \"fadeIn 0.5s\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        style: {\n                                                            margin: \"16px 0\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                        lineNumber: 714,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    (()=>{\n                                                        const method = paymentMethods.find((m)=>m.id === selectedPaymentMethod);\n                                                        const isCash = (0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.isCashMethod)(method === null || method === void 0 ? void 0 : method.payment_method_name, method === null || method === void 0 ? void 0 : method.display_name);\n                                                        const isPromptPay = (0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.isPromptPayMethod)(method === null || method === void 0 ? void 0 : method.payment_method_name, method === null || method === void 0 ? void 0 : method.display_name);\n                                                        if (isPromptPay) {\n                                                            if (!(shopProfile === null || shopProfile === void 0 ? void 0 : shopProfile.promptpay_number)) {\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        textAlign: \"center\",\n                                                                        padding: \"16px 0\"\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            style: {\n                                                                                color: \"#ff4d4f\",\n                                                                                marginBottom: 12,\n                                                                                fontWeight: 500\n                                                                            },\n                                                                            children: \"กรุณาตั้งค่าเบอร์ PromptPay ในระบบก่อน (Shop Profile)\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                            lineNumber: 724,\n                                                                            columnNumber: 61\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                                            type: \"primary\",\n                                                                            danger: true,\n                                                                            ghost: true,\n                                                                            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {}, void 0, false, {\n                                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                lineNumber: 731,\n                                                                                columnNumber: 71\n                                                                            }, void 0),\n                                                                            onClick: ()=>router.push(\"/pos/settings\"),\n                                                                            children: \"ไปตั้งค่าที่ Shop Profile\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                            lineNumber: 727,\n                                                                            columnNumber: 61\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                    lineNumber: 723,\n                                                                    columnNumber: 57\n                                                                }, this);\n                                                            }\n                                                            const payload = promptpay_qr__WEBPACK_IMPORTED_MODULE_5___default()(shopProfile.promptpay_number, {\n                                                                amount: total\n                                                            });\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.qrArea,\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                        style: {\n                                                                            display: \"block\",\n                                                                            marginBottom: 16,\n                                                                            fontSize: 16\n                                                                        },\n                                                                        children: \"สแกน QR เพื่อชำระเงิน\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 742,\n                                                                        columnNumber: 57\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            background: \"white\",\n                                                                            padding: 12,\n                                                                            display: \"inline-block\",\n                                                                            borderRadius: 8\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(qrcode_react__WEBPACK_IMPORTED_MODULE_4__.QRCodeSVG, {\n                                                                            value: payload,\n                                                                            size: 180,\n                                                                            level: \"L\",\n                                                                            includeMargin: true\n                                                                        }, void 0, false, {\n                                                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                            lineNumber: 744,\n                                                                            columnNumber: 61\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 743,\n                                                                        columnNumber: 57\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            marginTop: 16\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Title, {\n                                                                            level: 3,\n                                                                            style: {\n                                                                                color: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.primary,\n                                                                                margin: 0\n                                                                            },\n                                                                            children: (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(total)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                            lineNumber: 747,\n                                                                            columnNumber: 61\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 746,\n                                                                        columnNumber: 57\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                        type: \"secondary\",\n                                                                        style: {\n                                                                            display: \"block\",\n                                                                            marginTop: 8\n                                                                        },\n                                                                        children: [\n                                                                            shopProfile.promptpay_number,\n                                                                            shopProfile.promptpay_name && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                        lineNumber: 751,\n                                                                                        columnNumber: 94\n                                                                                    }, this),\n                                                                                    \"(\",\n                                                                                    shopProfile.promptpay_name,\n                                                                                    \")\"\n                                                                                ]\n                                                                            }, void 0, true)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 749,\n                                                                        columnNumber: 57\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                lineNumber: 741,\n                                                                columnNumber: 53\n                                                            }, this);\n                                                        }\n                                                        if (isCash) {\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                style: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsPaymentStyles.inputArea,\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                        style: {\n                                                                            display: \"block\",\n                                                                            marginBottom: 8\n                                                                        },\n                                                                        children: \"รับเงินมา (Received)\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 760,\n                                                                        columnNumber: 57\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                                        ref: cashInputRef,\n                                                                        style: {\n                                                                            width: \"100%\",\n                                                                            fontSize: 24,\n                                                                            padding: 8,\n                                                                            borderRadius: 8,\n                                                                            marginBottom: 12\n                                                                        },\n                                                                        size: \"large\",\n                                                                        min: 0,\n                                                                        value: receivedAmount,\n                                                                        onChange: (val)=>setReceivedAmount(val || 0),\n                                                                        formatter: (value)=>\"฿ \".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n                                                                        parser: (value)=>Number(value.replace(/฿\\s?|(,*)/g, \"\")),\n                                                                        onFocus: (e)=>e.target.select(),\n                                                                        controls: false,\n                                                                        inputMode: \"decimal\",\n                                                                        onKeyDown: (e)=>{\n                                                                            const allowedKeys = [\n                                                                                \"Backspace\",\n                                                                                \"Delete\",\n                                                                                \"ArrowLeft\",\n                                                                                \"ArrowRight\",\n                                                                                \"Tab\",\n                                                                                \"Enter\",\n                                                                                \"Escape\",\n                                                                                \".\",\n                                                                                \",\",\n                                                                                \"0\",\n                                                                                \"1\",\n                                                                                \"2\",\n                                                                                \"3\",\n                                                                                \"4\",\n                                                                                \"5\",\n                                                                                \"6\",\n                                                                                \"7\",\n                                                                                \"8\",\n                                                                                \"9\"\n                                                                            ];\n                                                                            if (!allowedKeys.includes(e.key) && !e.ctrlKey && !e.metaKey) {\n                                                                                e.preventDefault();\n                                                                            }\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 761,\n                                                                        columnNumber: 58\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        style: {\n                                                                            display: \"flex\",\n                                                                            gap: 6,\n                                                                            flexWrap: \"wrap\",\n                                                                            marginBottom: 16\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                                                onClick: ()=>setReceivedAmount(total),\n                                                                                type: \"primary\",\n                                                                                ghost: true,\n                                                                                size: \"small\",\n                                                                                children: \"พอดี\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                lineNumber: 783,\n                                                                                columnNumber: 61\n                                                                            }, this),\n                                                                            _utils_payments__WEBPACK_IMPORTED_MODULE_19__.quickCashAmounts.map((amt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                                                    onClick: ()=>setReceivedAmount(amt),\n                                                                                    size: \"small\",\n                                                                                    children: [\n                                                                                        \"฿\",\n                                                                                        amt\n                                                                                    ]\n                                                                                }, amt, true, {\n                                                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                    lineNumber: 785,\n                                                                                    columnNumber: 65\n                                                                                }, this)),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftOutlined_CreditCardOutlined_DollarOutlined_EditOutlined_QrcodeOutlined_SettingOutlined_ShopOutlined_UndoOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {}, void 0, false, {\n                                                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                    lineNumber: 787,\n                                                                                    columnNumber: 75\n                                                                                }, void 0),\n                                                                                onClick: ()=>setReceivedAmount(0),\n                                                                                danger: true,\n                                                                                size: \"small\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                lineNumber: 787,\n                                                                                columnNumber: 61\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 782,\n                                                                        columnNumber: 57\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                                        style: {\n                                                                            margin: \"12px 0\"\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 790,\n                                                                        columnNumber: 57\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                                                        justify: \"space-between\",\n                                                                        align: \"middle\",\n                                                                        style: {\n                                                                            background: change >= 0 ? \"#f6ffed\" : \"#fff1f0\",\n                                                                            padding: 12,\n                                                                            borderRadius: 8,\n                                                                            border: \"1px solid \".concat(change >= 0 ? \"#b7eb8f\" : \"#ffa39e\")\n                                                                        },\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                                style: {\n                                                                                    fontSize: 16\n                                                                                },\n                                                                                children: \"เงินทอน (Change)\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                lineNumber: 798,\n                                                                                columnNumber: 61\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                                strong: true,\n                                                                                style: {\n                                                                                    fontSize: 24,\n                                                                                    color: change >= 0 ? _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.success : _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.cancelled\n                                                                                },\n                                                                                children: (0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(Math.max(0, change))\n                                                                            }, void 0, false, {\n                                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                                lineNumber: 799,\n                                                                                columnNumber: 61\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 792,\n                                                                        columnNumber: 57\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                lineNumber: 759,\n                                                                columnNumber: 53\n                                                            }, this);\n                                                        }\n                                                        // Credit Card / Other\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                textAlign: \"center\",\n                                                                padding: 20\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Text, {\n                                                                    type: \"secondary\",\n                                                                    children: \"ตรวจสอบยอดเงินและชำระผ่านช่องทางที่เลือก\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                    lineNumber: 810,\n                                                                    columnNumber: 53\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        marginTop: 16\n                                                                    },\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                                        ref: cardInputRef,\n                                                                        style: {\n                                                                            width: \"100%\",\n                                                                            fontSize: 24\n                                                                        },\n                                                                        value: receivedAmount,\n                                                                        onChange: (val)=>setReceivedAmount(val || 0),\n                                                                        formatter: (value)=>\"฿ \".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n                                                                        parser: (value)=>Number(value.replace(/฿\\s?|(,*)/g, \"\")),\n                                                                        controls: false,\n                                                                        inputMode: \"decimal\",\n                                                                        onKeyDown: (e)=>{\n                                                                            const allowedKeys = [\n                                                                                \"Backspace\",\n                                                                                \"Delete\",\n                                                                                \"ArrowLeft\",\n                                                                                \"ArrowRight\",\n                                                                                \"Tab\",\n                                                                                \"Enter\",\n                                                                                \"Escape\",\n                                                                                \".\",\n                                                                                \",\",\n                                                                                \"0\",\n                                                                                \"1\",\n                                                                                \"2\",\n                                                                                \"3\",\n                                                                                \"4\",\n                                                                                \"5\",\n                                                                                \"6\",\n                                                                                \"7\",\n                                                                                \"8\",\n                                                                                \"9\"\n                                                                            ];\n                                                                            if (!allowedKeys.includes(e.key) && !e.ctrlKey && !e.metaKey) {\n                                                                                e.preventDefault();\n                                                                            }\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                        lineNumber: 812,\n                                                                        columnNumber: 58\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                                    lineNumber: 811,\n                                                                    columnNumber: 53\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                            lineNumber: 809,\n                                                            columnNumber: 49\n                                                        }, this);\n                                                    })()\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 713,\n                                                columnNumber: 37\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                type: \"primary\",\n                                                size: \"large\",\n                                                block: true,\n                                                style: {\n                                                    height: 56,\n                                                    fontSize: 18,\n                                                    marginTop: 8,\n                                                    background: _theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.success,\n                                                    border: \"1px solid \".concat(_theme_pos_items_style__WEBPACK_IMPORTED_MODULE_18__.itemsColors.success),\n                                                    fontWeight: 700\n                                                },\n                                                onClick: handleConfirmPayment,\n                                                disabled: !selectedPaymentMethod || receivedAmount < total || !(0,_utils_payments__WEBPACK_IMPORTED_MODULE_19__.isPaymentMethodConfigured)((_paymentMethods_find = paymentMethods.find((m)=>m.id === selectedPaymentMethod)) === null || _paymentMethods_find === void 0 ? void 0 : _paymentMethods_find.payment_method_name, (_paymentMethods_find1 = paymentMethods.find((m)=>m.id === selectedPaymentMethod)) === null || _paymentMethods_find1 === void 0 ? void 0 : _paymentMethods_find1.display_name, shopProfile),\n                                                children: [\n                                                    \"ยืนยันการชำระเงิน\",\n                                                    receivedAmount >= total && \" (\".concat((0,_utils_orders__WEBPACK_IMPORTED_MODULE_22__.formatCurrency)(total), \")\")\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                                lineNumber: 835,\n                                                columnNumber: 34\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                        lineNumber: 667,\n                                        columnNumber: 30\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                                    lineNumber: 666,\n                                    columnNumber: 27\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                            lineNumber: 555,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                    lineNumber: 480,\n                    columnNumber: 17\n                }, this)\n            }, void 0, false, {\n                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                lineNumber: 479,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_dialog_ConfirmationDialog__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                open: confirmConfig.open,\n                type: confirmConfig.type,\n                title: confirmConfig.title,\n                content: confirmConfig.content,\n                okText: confirmConfig.okText,\n                cancelText: confirmConfig.cancelText,\n                onOk: confirmConfig.onOk,\n                onCancel: closeConfirm\n            }, void 0, false, {\n                fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n                lineNumber: 860,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Project\\\\Order-Project-Frontend\\\\src\\\\app\\\\(main)\\\\pos\\\\items\\\\payment\\\\[...paymentId]\\\\page.tsx\",\n        lineNumber: 431,\n        columnNumber: 9\n    }, this);\n}\n_s(POSPaymentPage, \"ej/VHb/Hbn+2bncode9kyaPXDpg=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams,\n        _barrel_optimize_names_Alert_Avatar_Button_Card_Col_Divider_Empty_InputNumber_Modal_Row_Tag_Typography_message_antd__WEBPACK_IMPORTED_MODULE_27__[\"default\"].useMessage,\n        _contexts_pos_GlobalLoadingContext__WEBPACK_IMPORTED_MODULE_24__.useGlobalLoading,\n        _hooks_useSocket__WEBPACK_IMPORTED_MODULE_25__.useSocket\n    ];\n});\n_c = POSPaymentPage;\nvar _c;\n$RefreshReg$(_c, \"POSPaymentPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvKG1haW4pL3Bvcy9pdGVtcy9wYXltZW50L1suLi5wYXltZW50SWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWlGO0FBQzFCO0FBQ29FO0FBQzBDO0FBQzVIO0FBQ0U7QUFDbUM7QUFDYztBQUNSO0FBQ0Y7QUFDSjtBQUN1QjtBQUMvQjtBQUNFO0FBRXdCO0FBRTNCO0FBQ2U7QUFDWDtBQUN3QztBQUMyRjtBQUNsTDtBQUNEO0FBQzRJO0FBQzdFO0FBQ0Q7QUFDekI7QUFHOUQsTUFBTSxFQUFFK0QsS0FBSyxFQUFFQyxJQUFJLEVBQUUsR0FBR3hELDRKQUFVQTtBQUNsQzhDLG9EQUFZLENBQUM7QUFHRSxTQUFTWTtRQXd5Qm9CQyxzQkFDQUE7O0lBeHlCeEMsTUFBTUMsU0FBUzlELDBEQUFTQTtJQUN4QixNQUFNK0QsU0FBUzlELDBEQUFTQTtJQUN4QixNQUFNLENBQUMrRCxZQUFZQyxjQUFjLEdBQUd4RCw0SkFBT0EsQ0FBQ3lELFVBQVU7SUFDdEQsTUFBTUMsWUFBWUMsTUFBTUMsT0FBTyxDQUFDTixtQkFBQUEsNkJBQUFBLE9BQVFJLFNBQVMsSUFBSUosT0FBT0ksU0FBUyxDQUFDLEVBQUUsR0FBR0osbUJBQUFBLDZCQUFBQSxPQUFRSSxTQUFTO0lBRTVGLE1BQU0sQ0FBQ0csT0FBT0MsU0FBUyxHQUFHMUUsK0NBQVFBLENBQW9CO0lBQ3RELE1BQU0sQ0FBQzJFLFdBQVdDLGFBQWEsR0FBRzVFLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ2dFLGdCQUFnQmEsa0JBQWtCLEdBQUc3RSwrQ0FBUUEsQ0FBa0IsRUFBRTtJQUN4RSxNQUFNLENBQUM4RSxXQUFXQyxhQUFhLEdBQUcvRSwrQ0FBUUEsQ0FBYyxFQUFFO0lBQzFELE1BQU0sQ0FBQ2dGLGFBQWFDLGVBQWUsR0FBR2pGLCtDQUFRQSxDQUFx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QUEsc0JBQTBEbUUsWUFBWSxFQUN0RW5EOztvREFHWDtvREFFSUksa0JBQWtCeUUsU0FBUyxLQUEyQixPQUF0QnJHLDhEQUFjQSxDQUFDcUcsUUFBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBUS9FLDhEQUFDcEcsOEVBQWtCQTtnQkFDZnVDLE1BQU1GLGNBQWNFLElBQUk7Z0JBQ3hCQyxNQUFNSCxjQUFjRyxJQUFJO2dCQUN4QkMsT0FBT0osY0FBY0ksS0FBSztnQkFDMUJDLFNBQVNMLGNBQWNLLE9BQU87Z0JBQzlCcUYsUUFBUTFGLGNBQWMwRixNQUFNO2dCQUM1QkMsWUFBWTNGLGNBQWMyRixVQUFVO2dCQUNwQ3JGLE1BQU1OLGNBQWNNLElBQUk7Z0JBQ3hCNEssVUFBVTNLOzs7Ozs7Ozs7Ozs7QUFJMUI7R0FuMEJ3QnRDOztRQUNMNUQsc0RBQVNBO1FBQ1RDLHNEQUFTQTtRQUNZUSw0SkFBT0EsQ0FBQ3lEO1FBY1BYLGlGQUFnQkE7UUFDckRDLHdEQUFTQTs7O0tBbEJXSSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwLyhtYWluKS9wb3MvaXRlbXMvcGF5bWVudC9bLi4ucGF5bWVudElkXS9wYWdlLnRzeD8zZDFmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyBUeXBvZ3JhcGh5LCBSb3csIENvbCwgQ2FyZCwgQnV0dG9uLCBFbXB0eSwgRGl2aWRlciwgbWVzc2FnZSwgSW5wdXROdW1iZXIsIFRhZywgQXZhdGFyLCBBbGVydCwgTW9kYWwgfSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IHsgQXJyb3dMZWZ0T3V0bGluZWQsIFNob3BPdXRsaW5lZCwgRG9sbGFyT3V0bGluZWQsIENyZWRpdENhcmRPdXRsaW5lZCwgUXJjb2RlT3V0bGluZWQsIFVuZG9PdXRsaW5lZCwgRWRpdE91dGxpbmVkLCBTZXR0aW5nT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7IFFSQ29kZVNWRyB9IGZyb20gJ3FyY29kZS5yZWFjdCc7XG5pbXBvcnQgZ2VuZXJhdGVQYXlsb2FkIGZyb20gJ3Byb21wdHBheS1xcic7XG5pbXBvcnQgeyBvcmRlcnNTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uLy4uL3NlcnZpY2VzL3Bvcy9vcmRlcnMuc2VydmljZVwiO1xuaW1wb3J0IHsgcGF5bWVudE1ldGhvZFNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vc2VydmljZXMvcG9zL3BheW1lbnRNZXRob2Quc2VydmljZVwiO1xuaW1wb3J0IHsgZGlzY291bnRzU2VydmljZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi9zZXJ2aWNlcy9wb3MvZGlzY291bnRzLnNlcnZpY2VcIjtcbmltcG9ydCB7IHBheW1lbnRzU2VydmljZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi9zZXJ2aWNlcy9wb3MvcGF5bWVudHMuc2VydmljZVwiO1xuaW1wb3J0IHsgdGFibGVzU2VydmljZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi9zZXJ2aWNlcy9wb3MvdGFibGVzLnNlcnZpY2VcIjtcbmltcG9ydCB7IHNob3BQcm9maWxlU2VydmljZSwgU2hvcFByb2ZpbGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vc2VydmljZXMvcG9zL3Nob3BQcm9maWxlLnNlcnZpY2VcIjtcbmltcG9ydCB7IGdldENzcmZUb2tlbkNhY2hlZCB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi91dGlscy9wb3MvY3NyZlwiO1xuaW1wb3J0IHsgZ3JvdXBPcmRlckl0ZW1zIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uLy4uL3V0aWxzL29yZGVyR3JvdXBpbmdcIjtcblxuaW1wb3J0IHsgU2FsZXNPcmRlciwgT3JkZXJTdGF0dXMsIE9yZGVyVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi90eXBlcy9hcGkvcG9zL3NhbGVzT3JkZXJcIjtcbmltcG9ydCB7IFBheW1lbnRNZXRob2QgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vdHlwZXMvYXBpL3Bvcy9wYXltZW50TWV0aG9kXCI7XG5pbXBvcnQgeyBUYWJsZVN0YXR1cyB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi90eXBlcy9hcGkvcG9zL3RhYmxlc1wiO1xuaW1wb3J0IHsgRGlzY291bnRzLCBEaXNjb3VudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vdHlwZXMvYXBpL3Bvcy9kaXNjb3VudHNcIjtcbmltcG9ydCB7IFBheW1lbnRTdGF0dXMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vdHlwZXMvYXBpL3Bvcy9wYXltZW50c1wiO1xuaW1wb3J0IHsgaXRlbXNQYXltZW50U3R5bGVzLCBpdGVtc0NvbG9ycywgaXRlbXNSZXNwb25zaXZlU3R5bGVzIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uLy4uL3RoZW1lL3Bvcy9pdGVtcy9zdHlsZVwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlUGF5bWVudFRvdGFscywgaXNDYXNoTWV0aG9kLCBpc1Byb21wdFBheU1ldGhvZCwgcXVpY2tDYXNoQW1vdW50cywgZ2V0UG9zdENhbmNlbFBheW1lbnRSZWRpcmVjdCwgZ2V0RWRpdE9yZGVyUmVkaXJlY3QsIGlzUGF5bWVudE1ldGhvZENvbmZpZ3VyZWQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vdXRpbHMvcGF5bWVudHNcIjtcbmltcG9ydCBkYXlqcyBmcm9tIFwiZGF5anNcIjtcbmltcG9ydCAnZGF5anMvbG9jYWxlL3RoJztcbmltcG9ydCB7IGdldE9yZGVyQ2hhbm5lbFRleHQsIGdldE9yZGVyUmVmZXJlbmNlLCBnZXRPcmRlclN0YXR1c0NvbG9yLCBnZXRPcmRlclN0YXR1c1RleHQsIENvbmZpcm1hdGlvbkNvbmZpZywgZm9ybWF0Q3VycmVuY3kgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vdXRpbHMvb3JkZXJzXCI7XG5pbXBvcnQgQ29uZmlybWF0aW9uRGlhbG9nIGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi9jb21wb25lbnRzL2RpYWxvZy9Db25maXJtYXRpb25EaWFsb2dcIjtcbmltcG9ydCB7IHVzZUdsb2JhbExvYWRpbmcgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vY29udGV4dHMvcG9zL0dsb2JhbExvYWRpbmdDb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VTb2NrZXQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vaG9va3MvdXNlU29ja2V0XCI7XG5cblxuY29uc3QgeyBUaXRsZSwgVGV4dCB9ID0gVHlwb2dyYXBoeTtcbmRheWpzLmxvY2FsZSgndGgnKTtcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQT1NQYXltZW50UGFnZSgpIHtcbiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgICBjb25zdCBbbWVzc2FnZUFwaSwgY29udGV4dEhvbGRlcl0gPSBtZXNzYWdlLnVzZU1lc3NhZ2UoKTtcbiAgICBjb25zdCBwYXltZW50SWQgPSBBcnJheS5pc0FycmF5KHBhcmFtcz8ucGF5bWVudElkKSA/IHBhcmFtcy5wYXltZW50SWRbMF0gOiBwYXJhbXM/LnBheW1lbnRJZDsgXG5cbiAgICBjb25zdCBbb3JkZXIsIHNldE9yZGVyXSA9IHVzZVN0YXRlPFNhbGVzT3JkZXIgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW3BheW1lbnRNZXRob2RzLCBzZXRQYXltZW50TWV0aG9kc10gPSB1c2VTdGF0ZTxQYXltZW50TWV0aG9kW10+KFtdKTtcbiAgICBjb25zdCBbZGlzY291bnRzLCBzZXREaXNjb3VudHNdID0gdXNlU3RhdGU8RGlzY291bnRzW10+KFtdKTtcbiAgICBjb25zdCBbc2hvcFByb2ZpbGUsIHNldFNob3BQcm9maWxlXSA9IHVzZVN0YXRlPFNob3BQcm9maWxlIHwgbnVsbD4obnVsbCk7XG4gICAgXG4gICAgLy8gUGF5bWVudCBTdGF0ZVxuICAgIGNvbnN0IFtzZWxlY3RlZFBheW1lbnRNZXRob2QsIHNldFNlbGVjdGVkUGF5bWVudE1ldGhvZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbcmVjZWl2ZWRBbW91bnQsIHNldFJlY2VpdmVkQW1vdW50XSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gICAgY29uc3QgW2FwcGxpZWREaXNjb3VudCwgc2V0QXBwbGllZERpc2NvdW50XSA9IHVzZVN0YXRlPERpc2NvdW50cyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtkaXNjb3VudE1vZGFsVmlzaWJsZSwgc2V0RGlzY291bnRNb2RhbFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHsgc2hvd0xvYWRpbmcsIGhpZGVMb2FkaW5nIH0gPSB1c2VHbG9iYWxMb2FkaW5nKCk7XG4gICAgdXNlU29ja2V0KCk7XG4gICAgXG4gICAgLy8gUmVmcyBmb3IgaW5wdXQgZmllbGRzXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBjYXNoSW5wdXRSZWYgPSB1c2VSZWY8YW55PihudWxsKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IGNhcmRJbnB1dFJlZiA9IHVzZVJlZjxhbnk+KG51bGwpO1xuXG5cbiAgICAvLyBDb25maXJtYXRpb24gRGlhbG9nIFN0YXRlXG4gICAgY29uc3QgW2NvbmZpcm1Db25maWcsIHNldENvbmZpcm1Db25maWddID0gdXNlU3RhdGU8Q29uZmlybWF0aW9uQ29uZmlnPih7XG4gICAgICAgIG9wZW46IGZhbHNlLFxuICAgICAgICB0eXBlOiAnY29uZmlybScsXG4gICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgY29udGVudDogJycsXG4gICAgICAgIG9uT2s6ICgpID0+IHt9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VDb25maXJtID0gKCkgPT4gc2V0Q29uZmlybUNvbmZpZyhwcmV2ID0+ICh7IC4uLnByZXYsIG9wZW46IGZhbHNlIH0pKTtcblxuICAgIGNvbnN0IGZldGNoSW5pdGlhbERhdGEgPSB1c2VDYWxsYmFjayhhc3luYyAoc2lsZW50ID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgaWYgKCFwYXltZW50SWQpIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKFwi4LiB4Liz4Lil4Lix4LiH4LmC4Lir4Lil4LiU4LiC4LmJ4Lit4Lih4Li54Lil4LiB4Liy4Lij4LiK4Liz4Lij4Liw4LmA4LiH4Li04LiZLi4uXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGZXRjaCBzaG9wIHByb2ZpbGUgc2VwYXJhdGVseVxuICAgICAgICAgICAgY29uc3Qgc2hvcFJlcyA9IGF3YWl0IHNob3BQcm9maWxlU2VydmljZS5nZXRQcm9maWxlKCkuY2F0Y2goKCkgPT4gbnVsbCk7XG5cbiAgICAgICAgICAgIGNvbnN0IFtvcmRlckRhdGEsIG1ldGhvZHNSZXMsIGRpc2NvdW50c1Jlc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgb3JkZXJzU2VydmljZS5nZXRCeUlkKHBheW1lbnRJZCksXG4gICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZFNlcnZpY2UuZ2V0QWxsKCksXG4gICAgICAgICAgICAgICAgZGlzY291bnRzU2VydmljZS5nZXRBbGwoKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChbT3JkZXJTdGF0dXMuUGFpZCwgT3JkZXJTdGF0dXMuQ2FuY2VsbGVkXS5pbmNsdWRlcyhvcmRlckRhdGEuc3RhdHVzKSkge1xuICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvcG9zL2NoYW5uZWxzJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXRPcmRlcihvcmRlckRhdGEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGaWx0ZXIgUGF5bWVudCBNZXRob2RzXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZE1ldGhvZHMgPSAobWV0aG9kc1Jlcy5kYXRhIHx8IFtdKS5maWx0ZXIobSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm90IGRlbGl2ZXJ5IG9yZGVyLCBoaWRlICdEZWxpdmVyeScgbWV0aG9kXG4gICAgICAgICAgICAgICAgaWYgKG9yZGVyRGF0YS5vcmRlcl90eXBlICE9PSBPcmRlclR5cGUuRGVsaXZlcnkgJiYgbS5wYXltZW50X21ldGhvZF9uYW1lID09PSAnRGVsaXZlcnknKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2V0UGF5bWVudE1ldGhvZHMoZmlsdGVyZWRNZXRob2RzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW5zdXJlIGRpc2NvdW50cyBpcyBhbHdheXMgYW4gYXJyYXlcbiAgICAgICAgICAgIC8vIGRpc2NvdW50c1NlcnZpY2UuZ2V0QWxsKCkgc2hvdWxkIGFsd2F5cyByZXR1cm4gRGlzY291bnRzW11cbiAgICAgICAgICAgIC8vIGJ1dCBoYW5kbGUgZWRnZSBjYXNlcyBqdXN0IGluIGNhc2VcbiAgICAgICAgICAgIGxldCBkaXNjb3VudHNBcnJheTogRGlzY291bnRzW10gPSBbXTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRpc2NvdW50c1JlcykpIHtcbiAgICAgICAgICAgICAgICBkaXNjb3VudHNBcnJheSA9IGRpc2NvdW50c1JlcztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzY291bnRzUmVzICYmIHR5cGVvZiBkaXNjb3VudHNSZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHNpbmdsZSBvYmplY3QgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc2NvdW50T2JqID0gZGlzY291bnRzUmVzIGFzIGFueTtcbiAgICAgICAgICAgICAgICBpZiAoZGlzY291bnRPYmouaWQgJiYgKGRpc2NvdW50T2JqLmRpc2NvdW50X25hbWUgfHwgZGlzY291bnRPYmouZGlzcGxheV9uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNjb3VudHNBcnJheSA9IFtkaXNjb3VudE9iaiBhcyBEaXNjb3VudHNdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzY291bnRPYmouZGF0YSAmJiBBcnJheS5pc0FycmF5KGRpc2NvdW50T2JqLmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2NvdW50c0FycmF5ID0gZGlzY291bnRPYmouZGF0YTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpc2NvdW50T2JqLnN1Y2Nlc3MgJiYgQXJyYXkuaXNBcnJheShkaXNjb3VudE9iai5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNjb3VudHNBcnJheSA9IGRpc2NvdW50T2JqLmRhdGE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXNjb3VudE9iai5zdWNjZXNzICYmIGRpc2NvdW50T2JqLmRhdGEgJiYgdHlwZW9mIGRpc2NvdW50T2JqLmRhdGEgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGRpc2NvdW50T2JqLmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNjb3VudE9iai5kYXRhLmlkICYmIChkaXNjb3VudE9iai5kYXRhLmRpc2NvdW50X25hbWUgfHwgZGlzY291bnRPYmouZGF0YS5kaXNwbGF5X25hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudHNBcnJheSA9IFtkaXNjb3VudE9iai5kYXRhIGFzIERpc2NvdW50c107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREaXNjb3VudHMoZGlzY291bnRzQXJyYXkpO1xuICAgICAgICAgICAgc2V0U2hvcFByb2ZpbGUoc2hvcFJlcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN5bmMgaW5pdGlhbCBkaXNjb3VudFxuICAgICAgICAgICAgaWYgKG9yZGVyRGF0YS5kaXNjb3VudCkge1xuICAgICAgICAgICAgICAgIHNldEFwcGxpZWREaXNjb3VudChvcmRlckRhdGEuZGlzY291bnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEZWZhdWx0IHJlY2VpdmVkIGFtb3VudCB0byB0b3RhbCBpZiBleGlzdHNcbiAgICAgICAgICAgIGlmIChvcmRlckRhdGEpIHtcbiAgICAgICAgICAgICAgICBzZXRSZWNlaXZlZEFtb3VudChOdW1iZXIob3JkZXJEYXRhLnRvdGFsX2Ftb3VudCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgaWYgKCFzaWxlbnQpIG1lc3NhZ2VBcGkuZXJyb3IoXCLguYTguKHguYjguKrguLLguKHguLLguKPguJbguYLguKvguKXguJTguILguYnguK3guKHguLnguKXguIHguLLguKPguIrguLPguKPguLDguYDguIfguLTguJnguYTguJTguYlcIik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFttZXNzYWdlQXBpLCBwYXltZW50SWQsIHJvdXRlciwgc2hvd0xvYWRpbmcsIGhpZGVMb2FkaW5nXSk7XG5cblxuICAgIC8vIE1lbW9pemUgZGlzY291bnQgb3B0aW9ucyBmb3IgU2VsZWN0IGNvbXBvbmVudFxuICAgIGNvbnN0IGRpc2NvdW50T3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoIWRpc2NvdW50cyB8fCAhQXJyYXkuaXNBcnJheShkaXNjb3VudHMpIHx8IGRpc2NvdW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgYWN0aXZlRGlzY291bnRzID0gZGlzY291bnRzLmZpbHRlcihkID0+IHtcbiAgICAgICAgICAgIGlmICghZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGQuaXNfYWN0aXZlID09PSB0cnVlIHx8IGQuaXNfYWN0aXZlID09PSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGFjdGl2ZURpc2NvdW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGFjdGl2ZURpc2NvdW50cy5tYXAoZCA9PiB7XG4gICAgICAgICAgICAvLyBVc2UgZGlzcGxheV9uYW1lIGZpcnN0LCBmYWxsYmFjayB0byBkaXNjb3VudF9uYW1lXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IGQuZGlzcGxheV9uYW1lIHx8IGQuZGlzY291bnRfbmFtZTtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU5hbWUgfHwgIWQuaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gYCR7ZGlzcGxheU5hbWV9ICgke2QuZGlzY291bnRfdHlwZSA9PT0gRGlzY291bnRUeXBlLlBlcmNlbnRhZ2UgPyBgJHtkLmRpc2NvdW50X2Ftb3VudH0lYCA6IGAtJHtkLmRpc2NvdW50X2Ftb3VudH3guL9gfSlgO1xuICAgICAgICAgICAgcmV0dXJuIHsgbGFiZWwsIHZhbHVlOiBkLmlkIH07XG4gICAgICAgIH0pLmZpbHRlcigob3B0KTogb3B0IGlzIHsgbGFiZWw6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9ID0+IG9wdCAhPT0gbnVsbCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9LCBbZGlzY291bnRzXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocGF5bWVudElkKSB7XG4gICAgICAgICAgICBmZXRjaEluaXRpYWxEYXRhKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtmZXRjaEluaXRpYWxEYXRhLCBwYXltZW50SWRdKTtcblxuICAgIC8vIFRlbXBvcmFyaWx5IGRpc2FibGUgcmVhbHRpbWUgcmVmcmVzaCB0byB0ZXN0IGlmIGl0IGNhdXNlcyBkcm9wZG93biBpc3N1ZXNcbiAgICAvKlxuICAgIHVzZVJlYWx0aW1lUmVmcmVzaCh7XG4gICAgICAgIHNvY2tldCxcbiAgICAgICAgZXZlbnRzOiBbXCJvcmRlcnM6dXBkYXRlXCIsIFwib3JkZXJzOmRlbGV0ZVwiLCBcInBheW1lbnRzOmNyZWF0ZVwiLCBcInBheW1lbnRzOnVwZGF0ZVwiXSxcbiAgICAgICAgb25SZWZyZXNoOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgLy8gZmV0Y2hJbml0aWFsRGF0YSh0cnVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICovXG4gICAgXG4gICAgLy8gUHJldmVudCBhdXRvLXNjcm9sbCB3aGVuIGNvbXBvbmVudCByZS1yZW5kZXJzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gRGlzYWJsZSBOZXh0LmpzIGF1dG8tc2Nyb2xsIGJlaGF2aW9yXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gUHJldmVudCBzY3JvbGwgcmVzdG9yYXRpb25cbiAgICAgICAgICAgIGlmICgnc2Nyb2xsUmVzdG9yYXRpb24nIGluIHdpbmRvdy5oaXN0b3J5KSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnbWFudWFsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IHsgc3VidG90YWwsIGRpc2NvdW50LCB2YXQsIHRvdGFsLCBjaGFuZ2UgfSA9IGNhbGN1bGF0ZVBheW1lbnRUb3RhbHMob3JkZXIsIHJlY2VpdmVkQW1vdW50KTtcbiAgICBcbiAgICAvLyBHcm91cCBpdGVtcyBmb3IgZGlzcGxheVxuICAgIGNvbnN0IGdyb3VwZWRJdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoIW9yZGVyPy5pdGVtcykgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBhY3RpdmVJdGVtcyA9IG9yZGVyLml0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uc3RhdHVzICE9PSBPcmRlclN0YXR1cy5DYW5jZWxsZWQpO1xuICAgICAgICByZXR1cm4gZ3JvdXBPcmRlckl0ZW1zKGFjdGl2ZUl0ZW1zKTtcbiAgICB9LCBbb3JkZXI/Lml0ZW1zXSk7XG5cbiAgICBjb25zdCBoYW5kbGVEaXNjb3VudENoYW5nZSA9IGFzeW5jICh2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgICAgIGlmICghb3JkZXIpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzaG93TG9hZGluZyhcIuC4geC4s+C4peC4seC4h+C4reC4seC4m+C5gOC4lOC4leC4quC5iOC4p+C4meC4peC4lC4uLlwiKTtcbiAgICAgICAgICAgIGNvbnN0IGNzcmZUb2tlbiA9IGF3YWl0IGdldENzcmZUb2tlbkNhY2hlZCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlcnNTZXJ2aWNlLnVwZGF0ZShcbiAgICAgICAgICAgICAgICBvcmRlci5pZCwgXG4gICAgICAgICAgICAgICAgeyBkaXNjb3VudF9pZDogdmFsdWUgfHwgbnVsbCB9LCAvLyBTZW5kIG51bGwgaWYgY2xlYXJlZFxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBjc3JmVG9rZW5cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHNldE9yZGVyKHVwZGF0ZWRPcmRlcik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBhcHBsaWVkIGRpc2NvdW50IHN0YXRlXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGRpc2NvdW50cy5maW5kKGQgPT4gZC5pZCA9PT0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRBcHBsaWVkRGlzY291bnQoc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQXBpLnN1Y2Nlc3MoYOC5g+C4iuC5ieC4quC5iOC4p+C4meC4peC4lCBcIiR7c2VsZWN0ZWQuZGlzcGxheV9uYW1lfVwiIOC5gOC4o+C4teC4ouC4muC4o+C5ieC4reC4omApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0QXBwbGllZERpc2NvdW50KG51bGwpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VBcGkuaW5mbyhcIuC4ouC4geC5gOC4peC4tOC4geC4geC4suC4o+C5g+C4iuC5ieC4quC5iOC4p+C4meC4peC4lFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIHJlY2VpdmVkIGFtb3VudCB0byBtYXRjaCBuZXcgdG90YWwgZm9yIGNvbnZlbmllbmNlXG4gICAgICAgICAgICBzZXRSZWNlaXZlZEFtb3VudChOdW1iZXIodXBkYXRlZE9yZGVyLnRvdGFsX2Ftb3VudCkpO1xuXG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgbWVzc2FnZUFwaS5lcnJvcihcIuC5hOC4oeC5iOC4quC4suC4oeC4suC4o+C4luC4muC4seC4meC4l+C4tuC4geC4quC5iOC4p+C4meC4peC4lOC5hOC4lOC5iVwiKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ29uZmlybVBheW1lbnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghc2VsZWN0ZWRQYXltZW50TWV0aG9kKSB7XG4gICAgICAgICAgICBtZXNzYWdlQXBpLmVycm9yKFwi4LiB4Lij4Li44LiT4Liy4LmA4Lil4Li34Lit4LiB4Lin4Li04LiY4Li14LiB4Liy4Lij4LiK4Liz4Lij4Liw4LmA4LiH4Li04LiZXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAocmVjZWl2ZWRBbW91bnQgPCB0b3RhbCkge1xuICAgICAgICAgICAgbWVzc2FnZUFwaS5lcnJvcihcIuC4ouC4reC4lOC5gOC4h+C4tOC4meC4l+C4teC5iOC4o+C4seC4muC4leC5ieC4reC4h+C4oeC4suC4geC4geC4p+C5iOC4suC4q+C4o+C4t+C4reC5gOC4l+C5iOC4suC4geC4seC4muC4ouC4reC4lOC4iuC4s+C4o+C4sFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHBheW1lbnRNZXRob2RzLmZpbmQobSA9PiBtLmlkID09PSBzZWxlY3RlZFBheW1lbnRNZXRob2QpO1xuICAgICAgICBjb25zdCBtZXRob2ROYW1lID0gbWV0aG9kPy5kaXNwbGF5X25hbWUgfHwgJ+C5hOC4oeC5iOC4o+C4sOC4muC4uCc7XG5cbiAgICAgICAgc2V0Q29uZmlybUNvbmZpZyh7XG4gICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgdGl0bGU6ICfguKLguLfguJnguKLguLHguJnguIHguLLguKPguIrguLPguKPguLDguYDguIfguLTguJknLFxuICAgICAgICAgICAgY29udGVudDogKFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogMTYsIG1hcmdpbkJvdHRvbTogOCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIOC4p+C4tOC4mOC4teC4geC4suC4o+C4iuC4s+C4o+C4sOC5gOC4h+C4tOC4mTogPFRleHQgc3Ryb25nPnttZXRob2ROYW1lfTwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IDI0LCBmb250V2VpZ2h0OiA3MDAsIGNvbG9yOiBpdGVtc0NvbG9ycy5wcmltYXJ5IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAg4Lii4Lit4LiU4Liq4Li44LiX4LiY4Li0IHtmb3JtYXRDdXJyZW5jeSh0b3RhbCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7Y2hhbmdlID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBpdGVtc0NvbG9ycy5zdWNjZXNzLCBmb250U2l6ZTogMTgsIG1hcmdpblRvcDogNCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDguYDguIfguLTguJnguJfguK3guJkge2Zvcm1hdEN1cnJlbmN5KGNoYW5nZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBva1RleHQ6ICfguKLguLfguJnguKLguLHguJknLFxuICAgICAgICAgICAgY2FuY2VsVGV4dDogJ+C4ouC4geC5gOC4peC4tOC4gScsXG4gICAgICAgICAgICBvbk9rOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoXCLguIHguLPguKXguLHguIfguJTguLPguYDguJnguLTguJnguIHguLLguKPguIrguLPguKPguLDguYDguIfguLTguJkuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQ29uZmlybSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjc3JmVG9rZW4gPSBhd2FpdCBnZXRDc3JmVG9rZW5DYWNoZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIDEuIENyZWF0ZSBQYXltZW50IFJlY29yZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyX2lkOiBvcmRlciEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X21ldGhvZF9pZDogc2VsZWN0ZWRQYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiB0b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudF9yZWNlaXZlZDogcmVjZWl2ZWRBbW91bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VfYW1vdW50OiBjaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFBheW1lbnRTdGF0dXMuU3VjY2Vzc1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBheW1lbnRzU2VydmljZS5jcmVhdGUocGF5bWVudERhdGEsIHVuZGVmaW5lZCwgY3NyZlRva2VuKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyAyLiBVcGRhdGUgT3JkZXIgU3RhdHVzIHRvIFBhaWRcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgb3JkZXJzU2VydmljZS51cGRhdGVTdGF0dXMob3JkZXIhLmlkLCBPcmRlclN0YXR1cy5QYWlkLCBjc3JmVG9rZW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIDMuIFVwZGF0ZSBUYWJsZSBTdGF0dXMgaWYgRGluZUluXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmRlciEudGFibGVfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0YWJsZXNTZXJ2aWNlLnVwZGF0ZShvcmRlciEudGFibGVfaWQsIHsgc3RhdHVzOiBUYWJsZVN0YXR1cy5BdmFpbGFibGUgfSwgdW5kZWZpbmVkLCBjc3JmVG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUFwaS5zdWNjZXNzKFwi4LiK4Liz4Lij4Liw4LmA4LiH4Li04LiZ4LmA4Lij4Li14Lii4Lia4Lij4LmJ4Lit4LiiXCIpO1xuICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaChgL3Bvcy9kYXNoYm9hcmQvJHtvcmRlciEuaWR9YCk7IC8vIEdvIHRvIG9yZGVyIGRldGFpbC9kYXNoYm9hcmRcblxuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQXBpLmVycm9yKFwi4LiB4Liy4Lij4LiK4Liz4Lij4Liw4LmA4LiH4Li04LiZ4Lil4LmJ4Lih4LmA4Lir4Lil4LinXCIpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZUVkaXRPcmRlciA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFvcmRlcikgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgc2V0Q29uZmlybUNvbmZpZyh7XG4gICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgdGl0bGU6ICfguKLguYnguK3guJnguIHguKXguLHguJrguYTguJvguYHguIHguYnguYTguILguK3guK3guYDguJTguK3guKPguYw/JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICfguKrguJbguLLguJnguLDguK3guK3guYDguJTguK3guKPguYzguIjguLDguJbguLnguIHguYDguJvguKXguLXguYjguKLguJnguIHguKXguLHguJrguYDguJvguYfguJkgXCLguIHguLPguKXguLHguIfguJTguLPguYDguJnguLTguJnguIHguLLguKNcIiDguYDguJ7guLfguYjguK3guYPguKvguYnguITguLjguJPguKrguLLguKHguLLguKPguJbguYHguIHguYnguYTguILguKPguLLguKLguIHguLLguKPguK3guLLguKvguLLguKPguYTguJTguYkg4LiE4Li44LiT4LmB4LiZ4LmI4LmD4LiI4Lir4Lij4Li34Lit4LmE4Lih4LmIPycsXG4gICAgICAgICAgICBva1RleHQ6ICfguJXguIHguKXguIcnLFxuICAgICAgICAgICAgY2FuY2VsVGV4dDogJ+C4ouC4geC5gOC4peC4tOC4gScsXG4gICAgICAgICAgICBvbk9rOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoXCLguIHguLPguKXguLHguIfguJTguLPguYDguJnguLTguJnguIHguLLguKMuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQ29uZmlybSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjc3JmVG9rZW4gPSBhd2FpdCBnZXRDc3JmVG9rZW5DYWNoZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIDEuIFJldmVydCBhbGwgbm9uLWNhbmNlbGxlZCBpdGVtcyB0byAnU2VydmVkJyBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlSXRlbXMgPSBvcmRlci5pdGVtcz8uZmlsdGVyKGl0ZW0gPT4gaXRlbS5zdGF0dXMgIT09IE9yZGVyU3RhdHVzLkNhbmNlbGxlZCkgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSXRlbXMubWFwKGl0ZW0gPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzU2VydmljZS51cGRhdGVJdGVtU3RhdHVzKGl0ZW0uaWQsIE9yZGVyU3RhdHVzLlNlcnZlZCwgdW5kZWZpbmVkLCBjc3JmVG9rZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gMi4gUmV2ZXJ0IG9yZGVyIHN0YXR1cyBiYWNrIHRvICdQZW5kaW5nJ1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBvcmRlcnNTZXJ2aWNlLnVwZGF0ZVN0YXR1cyhvcmRlci5pZCwgT3JkZXJTdGF0dXMuUGVuZGluZywgY3NyZlRva2VuKTtcblxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQXBpLnN1Y2Nlc3MoXCLguKLguYnguK3guJnguIHguKXguLHguJrguYTguJvguYHguIHguYnguYTguILguK3guK3guYDguJTguK3guKPguYzguYDguKPguLXguKLguJrguKPguYnguK3guKJcIik7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKGdldEVkaXRPcmRlclJlZGlyZWN0KG9yZGVyLmlkKSk7XG5cbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUFwaS5lcnJvcihcIuC5hOC4oeC5iOC4quC4suC4oeC4suC4o+C4luC5gOC4m+C4peC4teC5iOC4ouC4meC4quC4luC4suC4meC4sOC4reC4reC5gOC4lOC4reC4o+C5jOC5hOC4lOC5iVwiKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbmNlbE9yZGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAoIW9yZGVyKSByZXR1cm47XG5cbiAgICAgICAgc2V0Q29uZmlybUNvbmZpZyh7XG4gICAgICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICB0aXRsZTogJ+C4ouC4t+C4meC4ouC4seC4meC4geC4suC4o+C4ouC4geC5gOC4peC4tOC4geC4reC4reC5gOC4lOC4reC4o+C5jD8nLFxuICAgICAgICAgICAgY29udGVudDogJ+C4geC4suC4o+C4lOC4s+C5gOC4meC4tOC4meC4geC4suC4o+C4meC4teC5ieC4iOC4sOC4ouC4geC5gOC4peC4tOC4geC4quC4tOC4meC4hOC5ieC4suC4l+C4uOC4geC4o+C4suC4ouC4geC4suC4o+C5geC4peC4sOC4hOC4t+C4meC4quC4luC4suC4meC4sOC5guC4leC5iuC4sCAo4Lir4Liy4LiB4Lih4Li1KSDguITguLjguJPguYHguJnguYjguYPguIjguKvguKPguLfguK3guYTguKHguYg/JyxcbiAgICAgICAgICAgIG9rVGV4dDogJ+C4ouC4t+C4meC4ouC4seC4meC4geC4suC4o+C4ouC4geC5gOC4peC4tOC4gScsXG4gICAgICAgICAgICBjYW5jZWxUZXh0OiAn4Lii4LiB4LmA4Lil4Li04LiBJyxcbiAgICAgICAgICAgIG9uT2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzaG93TG9hZGluZyhcIuC4geC4s+C4peC4seC4h+C4lOC4s+C5gOC4meC4tOC4meC4geC4suC4o+C4ouC4geC5gOC4peC4tOC4gS4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VDb25maXJtKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNzcmZUb2tlbiA9IGF3YWl0IGdldENzcmZUb2tlbkNhY2hlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIDEuIENhbmNlbCBhbGwgbm9uLWNhbmNlbGxlZCBpdGVtc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVJdGVtcyA9IG9yZGVyLml0ZW1zPy5maWx0ZXIoaXRlbSA9PiBpdGVtLnN0YXR1cyAhPT0gT3JkZXJTdGF0dXMuQ2FuY2VsbGVkKSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVJdGVtcy5tYXAoaXRlbSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnNTZXJ2aWNlLnVwZGF0ZUl0ZW1TdGF0dXMoaXRlbS5pZCwgT3JkZXJTdGF0dXMuQ2FuY2VsbGVkLCB1bmRlZmluZWQsIGNzcmZUb2tlbilcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyAyLiBTZXQgT3JkZXIgc3RhdHVzIHRvIENhbmNlbGxlZFxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBvcmRlcnNTZXJ2aWNlLnVwZGF0ZVN0YXR1cyhvcmRlci5pZCwgT3JkZXJTdGF0dXMuQ2FuY2VsbGVkLCBjc3JmVG9rZW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIDMuIFNldCBUYWJsZSB0byBBdmFpbGFibGUgaWYgRGluZS1JblxuICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXIudGFibGVfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRhYmxlc1NlcnZpY2UudXBkYXRlKG9yZGVyLnRhYmxlX2lkLCB7IHN0YXR1czogVGFibGVTdGF0dXMuQXZhaWxhYmxlIH0sIHVuZGVmaW5lZCwgY3NyZlRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VBcGkuc3VjY2VzcyhcIuC4ouC4geC5gOC4peC4tOC4geC4reC4reC5gOC4lOC4reC4o+C5jOC5gOC4o+C4teC4ouC4muC4o+C5ieC4reC4olwiKTtcbiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goZ2V0UG9zdENhbmNlbFBheW1lbnRSZWRpcmVjdCgpKTtcblxuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQXBpLmVycm9yKFwi4LmE4Lih4LmI4Liq4Liy4Lih4Liy4Lij4LiW4Lii4LiB4LmA4Lil4Li04LiB4Lit4Lit4LmA4LiU4Lit4Lij4LmM4LmE4LiU4LmJXCIpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQmFjayA9ICgpID0+IHtcbiAgICAgICAgaWYgKG9yZGVyPy5vcmRlcl90eXBlID09PSBPcmRlclR5cGUuRGluZUluKSB7XG4gICAgICAgICAgICByb3V0ZXIucHVzaCgnL3Bvcy9jaGFubmVscy9kaW5lLWluJyk7XG4gICAgICAgIH0gZWxzZSBpZiAob3JkZXI/Lm9yZGVyX3R5cGUgPT09IE9yZGVyVHlwZS5UYWtlQXdheSkge1xuICAgICAgICAgICAgcm91dGVyLnB1c2goJy9wb3MvY2hhbm5lbHMvdGFrZWF3YXknKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcmRlcj8ub3JkZXJfdHlwZSA9PT0gT3JkZXJUeXBlLkRlbGl2ZXJ5KSB7XG4gICAgICAgICAgICByb3V0ZXIucHVzaCgnL3Bvcy9jaGFubmVscy9kZWxpdmVyeScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcm91dGVyLmJhY2soKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoaXNMb2FkaW5nICYmICFvcmRlcikgcmV0dXJuIG51bGw7XG4gICAgaWYgKCFvcmRlcikgcmV0dXJuIDxFbXB0eSBkZXNjcmlwdGlvbj1cIuC5hOC4oeC5iOC4nuC4muC4guC5ieC4reC4oeC4ueC4peC4reC4reC5gOC4lOC4reC4o+C5jFwiIC8+O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBzdHlsZT17aXRlbXNQYXltZW50U3R5bGVzLmNvbnRhaW5lcn0+XG4gICAgICAgICAgICA8c3R5bGUganN4IGdsb2JhbD57aXRlbXNSZXNwb25zaXZlU3R5bGVzfTwvc3R5bGU+XG4gICAgICAgICAgICB7Y29udGV4dEhvbGRlcn1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogSGVybyBIZWFkZXIgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17aXRlbXNQYXltZW50U3R5bGVzLmhlcm9TZWN0aW9ufSBjbGFzc05hbWU9XCJwYXltZW50LWhlcm8tbW9iaWxlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17aXRlbXNQYXltZW50U3R5bGVzLmNvbnRlbnRXcmFwcGVyfSBjbGFzc05hbWU9XCJwYXltZW50LWNvbnRlbnQtbW9iaWxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBmbGV4V3JhcDogJ3dyYXAnLCBnYXA6IDE2IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsIGdhcDogMTYgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxBcnJvd0xlZnRPdXRsaW5lZCBzdHlsZT17eyBmb250U2l6ZTogMjAgfX0gLz59IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJyNmZmYnLCBwYWRkaW5nOiAwLCBoZWlnaHQ6ICdhdXRvJywgbWFyZ2luVG9wOiA0IH19IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVCYWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpdGxlIGxldmVsPXszfSBzdHlsZT17aXRlbXNQYXltZW50U3R5bGVzLnBhZ2VUaXRsZX0+4LiK4Liz4Lij4Liw4LmA4LiH4Li04LiZPC9UaXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6IDgsIG1hcmdpblRvcDogOCwgZmxleFdyYXA6ICd3cmFwJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWcgY29sb3I9XCJibHVlXCIgc3R5bGU9e3sgYm9yZGVyUmFkaXVzOiA0LCBib3JkZXI6ICdub25lJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0T3JkZXJDaGFubmVsVGV4dChvcmRlci5vcmRlcl90eXBlKX0ge2dldE9yZGVyUmVmZXJlbmNlKG9yZGVyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhZyBjb2xvcj17Z2V0T3JkZXJTdGF0dXNDb2xvcihvcmRlci5zdGF0dXMpfSBzdHlsZT17eyBib3JkZXJSYWRpdXM6IDQsIGJvcmRlcjogJ25vbmUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRPcmRlclN0YXR1c1RleHQob3JkZXIuc3RhdHVzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgc3R5bGU9e3sgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuODUpJywgZm9udFNpemU6IDEzIH19PiN7b3JkZXIub3JkZXJfbm99PC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogOCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8RWRpdE91dGxpbmVkIC8+fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRWRpdE9yZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsMjU1LDI1NSwwLjIpJywgYm9yZGVyOiAnbm9uZScsIGNvbG9yOiAnI2ZmZicgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOC5geC4geC5ieC5hOC4guC4reC4reC5gOC4lOC4reC4o+C5jFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbmdlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWxPcmRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOC4ouC4geC5gOC4peC4tOC4geC4reC4reC5gOC4lOC4reC4o+C5jFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uaXRlbXNQYXltZW50U3R5bGVzLmNvbnRlbnRXcmFwcGVyLCBtYXJnaW5Ub3A6IC0zMCwgcGFkZGluZ0JvdHRvbTogNDAgfX0+XG4gICAgICAgICAgICAgICAgPFJvdyBndXR0ZXI9e1syNCwgMjRdfT5cbiAgICAgICAgICAgICAgICAgICAgey8qIExlZnQ6IFN1bW1hcnkgKi99XG4gICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9ezI0fSBsZz17MTR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENhcmQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2l0ZW1zUGF5bWVudFN0eWxlcy5jYXJkfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXM9e3sgYm9keTogeyBoZWlnaHQ6ICcxMDAlJywgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9IH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUaXRsZSBsZXZlbD17NH0gc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAxNiwgbWFyZ2luVG9wOiAwIH19PuC4o+C4suC4ouC4geC4suC4o+C4quC4o+C4uOC4myAoT3JkZXIgU3VtbWFyeSk8L1RpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgb3ZlcmZsb3dZOiAnYXV0bycsIHBhZGRpbmdSaWdodDogOCwgbWluSGVpZ2h0OiAzMDAsIG1heEhlaWdodDogNTAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z3JvdXBlZEl0ZW1zLm1hcCgoaXRlbTogYW55LCBpZHg6IG51bWJlcikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBtYXJnaW5Cb3R0b206IDE2LCBwYWRkaW5nQm90dG9tOiAxNiwgYm9yZGVyQm90dG9tOiBgMXB4IHNvbGlkICR7aXRlbXNDb2xvcnMuYm9yZGVyTGlnaHR9YCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogMTIsIGZsZXg6IDEsIG1pbldpZHRoOiAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU9XCJzcXVhcmVcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9ezUwfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17aXRlbS5wcm9kdWN0Py5pbWdfdXJsfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxTaG9wT3V0bGluZWQgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGl0ZW1zQ29sb3JzLmJhY2tncm91bmRTZWNvbmRhcnksIGZsZXhTaHJpbms6IDAsIGJvcmRlclJhZGl1czogOCB9fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBtaW5XaWR0aDogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHN0cm9uZyBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snIH19IGVsbGlwc2lzPntpdGVtLnByb2R1Y3Q/LmRpc3BsYXlfbmFtZX08L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiA4LCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB0eXBlPVwic2Vjb25kYXJ5XCIgc3R5bGU9e3sgZm9udFNpemU6IDEzIH19Pntmb3JtYXRDdXJyZW5jeShpdGVtLnByaWNlKX08L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhZyBzdHlsZT17eyBtYXJnaW46IDAsIGZvbnRTaXplOiAxMSB9fT54e2l0ZW0ucXVhbnRpdHl9PC9UYWc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLm5vdGVzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBmb250U2l6ZTogMTIsIGZvbnRTdHlsZTogJ2l0YWxpYycsIGNvbG9yOiAnI2VmNDQ0NCcsIG1hcmdpblRvcDogMiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB7aXRlbS5ub3Rlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uZGV0YWlscyAmJiBpdGVtLmRldGFpbHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDIsIGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uZGV0YWlscy5tYXAoKGRldGFpbDogeyBkZXRhaWxfbmFtZTogc3RyaW5nOyBleHRyYV9wcmljZTogbnVtYmVyIH0sIGRJZHg6IG51bWJlcikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2RJZHh9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHN0eWxlPXt7IGNvbG9yOiAnIzEwYjk4MScsIGZvbnRTaXplOiAxMiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyB7ZGV0YWlsLmRldGFpbF9uYW1lfSB7TnVtYmVyKGRldGFpbC5leHRyYV9wcmljZSkgPiAwID8gYCgrJHtOdW1iZXIoZGV0YWlsLmV4dHJhX3ByaWNlKX0pYCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgc3Ryb25nPntmb3JtYXRDdXJyZW5jeShOdW1iZXIoaXRlbS50b3RhbF9wcmljZSB8fCAoTnVtYmVyKGl0ZW0ucHJpY2UpICogaXRlbS5xdWFudGl0eSkpKX08L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17aXRlbXNQYXltZW50U3R5bGVzLnN1bW1hcnlCb3h9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Um93IGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCIgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiA4IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgdHlwZT1cInNlY29uZGFyeVwiPuC4ouC4reC4lOC4o+C4p+C4oSAoU3VidG90YWwpPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQ+e2Zvcm1hdEN1cnJlbmN5KHN1YnRvdGFsKX08L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGlzY291bnQgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3cganVzdGlmeT1cInNwYWNlLWJldHdlZW5cIiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDgsIGNvbG9yOiBpdGVtc0NvbG9ycy5zdWNjZXNzIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHR5cGU9XCJzdWNjZXNzXCI+4Liq4LmI4Lin4LiZ4Lil4LiUIChEaXNjb3VudCk8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgdHlwZT1cInN1Y2Nlc3NcIj4te2Zvcm1hdEN1cnJlbmN5KGRpc2NvdW50KX08L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3ZhdCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvdyBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogOCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB0eXBlPVwic2Vjb25kYXJ5XCI+VkFUICg3JSk8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQ+e2Zvcm1hdEN1cnJlbmN5KHZhdCl9PC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEaXZpZGVyIHN0eWxlPXt7IG1hcmdpbjogJzEycHggMCcgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvdyBqdXN0aWZ5PVwic3BhY2UtYmV0d2VlblwiIGFsaWduPVwibWlkZGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGl0bGUgbGV2ZWw9ezR9IHN0eWxlPXt7IG1hcmdpbjogMCB9fT7guKLguK3guJTguKrguLjguJfguJjguLQgKFRvdGFsKTwvVGl0bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGl0bGUgbGV2ZWw9ezN9IHN0eWxlPXt7IGNvbG9yOiBpdGVtc0NvbG9ycy5wcmltYXJ5LCBtYXJnaW46IDAgfX0+e2Zvcm1hdEN1cnJlbmN5KHRvdGFsKX08L1RpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogUmlnaHQ6IFBheW1lbnQgQWN0aW9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgPENvbCB4cz17MjR9IGxnPXsxMH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPENhcmQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgLi4uaXRlbXNQYXltZW50U3R5bGVzLmNhcmQsIGhlaWdodDogJ2F1dG8nLCBtYXJnaW5Cb3R0b206IDEyLCBvdmVyZmxvdzogJ3Zpc2libGUnIH19IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcz17eyBib2R5OiB7IHBhZGRpbmc6ICcxMnB4IDE2cHgnLCBvdmVyZmxvdzogJ3Zpc2libGUnIH0gfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBzdHJvbmcgc3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgbWFyZ2luQm90dG9tOiA4LCBmb250U2l6ZTogMTMgfX0+4Liq4LmI4Lin4LiZ4Lil4LiUIChEaXNjb3VudCk8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIERpc2NvdW50IFNlbGVjdGlvbiAtIFN3aXRjaGVkIHRvIE1vZGFsIGZvciBiZXR0ZXIgTW9iaWxlL1RvdWNoIGV4cGVyaWVuY2UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHthcHBsaWVkRGlzY291bnQgPyAnIzRGNDZFNScgOiAnI2Q5ZDlkOSd9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDgsIC8vIFRvdWNoIGZyaWVuZGx5IGhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERpc2NvdW50TW9kYWxWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IGFwcGxpZWREaXNjb3VudCA/ICcjMWYyOTM3JyA6ICcjOWNhM2FmJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthcHBsaWVkRGlzY291bnQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHthcHBsaWVkRGlzY291bnQuZGlzcGxheV9uYW1lIHx8IGFwcGxpZWREaXNjb3VudC5kaXNjb3VudF9uYW1lfSAoJHthcHBsaWVkRGlzY291bnQuZGlzY291bnRfdHlwZSA9PT0gJ1BlcmNlbnRhZ2UnID8gYCR7YXBwbGllZERpc2NvdW50LmRpc2NvdW50X2Ftb3VudH0lYCA6IGAtJHthcHBsaWVkRGlzY291bnQuZGlzY291bnRfYW1vdW50feC4v2B9KWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwi4LmA4Lil4Li34Lit4LiB4Liq4LmI4Lin4LiZ4Lil4LiUIChTZWxlY3QgRGlzY291bnQpXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FwcGxpZWREaXNjb3VudCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURpc2NvdW50Q2hhbmdlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJyNlZjQ0NDQnLCBwYWRkaW5nOiA0IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyVXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogJyM5Y2EzYWYnIH19PuKWvDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgey8qIERpc2NvdW50IFNlbGVjdGlvbiBNb2RhbCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICA8TW9kYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIuC5gOC4peC4t+C4reC4geC4quC5iOC4p+C4meC4peC4lFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Blbj17ZGlzY291bnRNb2RhbFZpc2libGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw9eygpID0+IHNldERpc2NvdW50TW9kYWxWaXNpYmxlKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI9e251bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17NDAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleD17MTAwMDF9IC8vIEVuc3VyZSBhYm92ZSBldmVyeXRoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiA4LCBtYXhIZWlnaHQ6ICc2MHZoJywgb3ZlcmZsb3dZOiAnYXV0bycgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkaXNjb3VudE9wdGlvbnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAyNCwgY29sb3I6ICcjOWNhM2FmJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDguYTguKHguYjguKHguLXguKrguYjguKfguJnguKXguJTguJfguLXguYjguYPguIrguYnguIfguLLguJnguYTguJTguYlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnRPcHRpb25zLm1hcChvcHQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtvcHQudmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURpc2NvdW50Q2hhbmdlKG9wdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREaXNjb3VudE1vZGFsVmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTJweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZTVlN2ViJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogYXBwbGllZERpc2NvdW50Py5pZCA9PT0gb3B0LnZhbHVlID8gJyNlZmY2ZmYnIDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGFwcGxpZWREaXNjb3VudD8uaWQgPT09IG9wdC52YWx1ZSA/ICcjM2I4MmY2JyA6ICcjZTVlN2ViJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFdlaWdodDogYXBwbGllZERpc2NvdW50Py5pZCA9PT0gb3B0LnZhbHVlID8gNTAwIDogNDAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge29wdC5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YXBwbGllZERpc2NvdW50Py5pZCA9PT0gb3B0LnZhbHVlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAnIzNiODJmNicgfX0+4pyTPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURpc2NvdW50Q2hhbmdlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RGlzY291bnRNb2RhbFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHggMTZweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiA4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZWY0NDQ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggZGFzaGVkICNlZjQ0NDQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogOFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4LmE4Lih4LmI4LmD4LiK4LmJ4Liq4LmI4Lin4LiZ4Lil4LiUXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvTW9kYWw+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcmQgc3R5bGU9e2l0ZW1zUGF5bWVudFN0eWxlcy5jYXJkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6IDE2IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBzdHJvbmcgc3R5bGU9e3sgZm9udFNpemU6IDE2IH19PuC4p+C4tOC4mOC4teC4geC4suC4o+C4iuC4s+C4o+C4sOC5gOC4h+C4tOC4mSAoUGF5bWVudCBNZXRob2QpPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGF5bWVudE1ldGhvZHMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT1cIuC4ouC4seC4h+C5hOC4oeC5iOC4oeC4teC4p+C4tOC4mOC4teC4geC4suC4o+C4iuC4s+C4o+C4sOC5gOC4h+C4tOC4mVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb249XCLguIHguKPguLjguJPguLLguYDguJ7guLTguYjguKHguKfguLTguJjguLXguIHguLLguKPguIrguLPguKPguLDguYDguIfguLTguJnguYPguJnguYDguKHguJnguLnguJXguLHguYnguIfguITguYjguLLguIHguYjguK3guJnguJfguLPguKPguLLguKLguIHguLLguKNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ3YXJuaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogMTYgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Um93IGd1dHRlcj17WzEyLCAxMl19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXltZW50TWV0aG9kcy5tYXAobWV0aG9kID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkUGF5bWVudE1ldGhvZCA9PT0gbWV0aG9kLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbCBzcGFuPXsxMn0ga2V5PXttZXRob2QuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUGF5bWVudE1ldGhvZChtZXRob2QuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXV0by1maWxsIGFtb3VudCBiYXNlZCBvbiBwYXltZW50IHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Byb21wdFBheU1ldGhvZChtZXRob2QucGF5bWVudF9tZXRob2RfbmFtZSwgbWV0aG9kLmRpc3BsYXlfbmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWNlaXZlZEFtb3VudCh0b3RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQ2FzaE1ldGhvZChtZXRob2QucGF5bWVudF9tZXRob2RfbmFtZSwgbWV0aG9kLmRpc3BsYXlfbmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWNlaXZlZEFtb3VudCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVjZWl2ZWRBbW91bnQodG90YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLml0ZW1zUGF5bWVudFN0eWxlcy5tZXRob2RDYXJkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGlzU2VsZWN0ZWQgPyBpdGVtc1BheW1lbnRTdHlsZXMubWV0aG9kQ2FyZFNlbGVjdGVkIDoge30pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPiAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAyNCwgbWFyZ2luQm90dG9tOiA4LCBjb2xvcjogaXNTZWxlY3RlZCA/IGl0ZW1zQ29sb3JzLnByaW1hcnkgOiAnIzU5NTk1OScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNDYXNoTWV0aG9kKG1ldGhvZC5wYXltZW50X21ldGhvZF9uYW1lLCBtZXRob2QuZGlzcGxheV9uYW1lKSA/IDxEb2xsYXJPdXRsaW5lZCAvPiA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJvbXB0UGF5TWV0aG9kKG1ldGhvZC5wYXltZW50X21ldGhvZF9uYW1lLCBtZXRob2QuZGlzcGxheV9uYW1lKSA/IDxRcmNvZGVPdXRsaW5lZCAvPiA6IDxDcmVkaXRDYXJkT3V0bGluZWQgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBzdHJvbmcgc3R5bGU9e3sgY29sb3I6IGlzU2VsZWN0ZWQgPyBpdGVtc0NvbG9ycy5wcmltYXJ5IDogdW5kZWZpbmVkIH19PnttZXRob2QuZGlzcGxheV9uYW1lfTwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkUGF5bWVudE1ldGhvZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGFuaW1hdGlvbjogJ2ZhZGVJbiAwLjVzJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGl2aWRlciBzdHlsZT17eyBtYXJnaW46ICcxNnB4IDAnIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IHBheW1lbnRNZXRob2RzLmZpbmQobSA9PiBtLmlkID09PSBzZWxlY3RlZFBheW1lbnRNZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0Nhc2ggPSBpc0Nhc2hNZXRob2QobWV0aG9kPy5wYXltZW50X21ldGhvZF9uYW1lLCBtZXRob2Q/LmRpc3BsYXlfbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUHJvbXB0UGF5ID0gaXNQcm9tcHRQYXlNZXRob2QobWV0aG9kPy5wYXltZW50X21ldGhvZF9uYW1lLCBtZXRob2Q/LmRpc3BsYXlfbmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Byb21wdFBheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG9wUHJvZmlsZT8ucHJvbXB0cGF5X251bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7dGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzE2cHggMCd9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tjb2xvcjogJyNmZjRkNGYnLCBtYXJnaW5Cb3R0b206IDEyLCBmb250V2VpZ2h0OiA1MDB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDguIHguKPguLjguJPguLLguJXguLHguYnguIfguITguYjguLLguYDguJrguK3guKPguYwgUHJvbXB0UGF5IOC5g+C4meC4o+C4sOC4muC4muC4geC5iOC4reC4mSAoU2hvcCBQcm9maWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2VyIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxTZXR0aW5nT3V0bGluZWQgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goJy9wb3Mvc2V0dGluZ3MnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDguYTguJvguJXguLHguYnguIfguITguYjguLLguJfguLXguYggU2hvcCBQcm9maWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gZ2VuZXJhdGVQYXlsb2FkKHNob3BQcm9maWxlLnByb21wdHBheV9udW1iZXIsIHsgYW1vdW50OiB0b3RhbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17aXRlbXNQYXltZW50U3R5bGVzLnFyQXJlYX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpbkJvdHRvbTogMTYsIGZvbnRTaXplOiAxNiB9fT7guKrguYHguIHguJkgUVIg4LmA4Lie4Li34LmI4Lit4LiK4Liz4Lij4Liw4LmA4LiH4Li04LiZPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGJhY2tncm91bmQ6ICd3aGl0ZScsIHBhZGRpbmc6IDEyLCBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgYm9yZGVyUmFkaXVzOiA4IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFFSQ29kZVNWRyB2YWx1ZT17cGF5bG9hZH0gc2l6ZT17MTgwfSBsZXZlbD1cIkxcIiBpbmNsdWRlTWFyZ2luIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogMTYgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGl0bGUgbGV2ZWw9ezN9IHN0eWxlPXt7IGNvbG9yOiBpdGVtc0NvbG9ycy5wcmltYXJ5LCBtYXJnaW46IDAgfX0+e2Zvcm1hdEN1cnJlbmN5KHRvdGFsKX08L1RpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgdHlwZT1cInNlY29uZGFyeVwiIHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpblRvcDogOCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG9wUHJvZmlsZS5wcm9tcHRwYXlfbnVtYmVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3BQcm9maWxlLnByb21wdHBheV9uYW1lICYmIDw+PGJyLz4oe3Nob3BQcm9maWxlLnByb21wdHBheV9uYW1lfSk8Lz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e2l0ZW1zUGF5bWVudFN0eWxlcy5pbnB1dEFyZWF9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBtYXJnaW5Cb3R0b206IDggfX0+4Lij4Lix4Lia4LmA4LiH4Li04LiZ4Lih4LiyIChSZWNlaXZlZCk8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXROdW1iZXIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2Nhc2hJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIGZvbnRTaXplOiAyNCwgcGFkZGluZzogOCwgYm9yZGVyUmFkaXVzOiA4LCBtYXJnaW5Cb3R0b206IDEyIH19IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImxhcmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZWNlaXZlZEFtb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsKSA9PiBzZXRSZWNlaXZlZEFtb3VudCh2YWwgfHwgMCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI9e3ZhbHVlID0+IGDguL8gJHt2YWx1ZX1gLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csICcsJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZXI9e3ZhbHVlID0+IE51bWJlcih2YWx1ZSEucmVwbGFjZSgv4Li/XFxzP3woLCopL2csICcnKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoZSkgPT4gZS50YXJnZXQuc2VsZWN0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9scz17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dE1vZGU9XCJkZWNpbWFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxvd2VkS2V5cyA9IFsnQmFja3NwYWNlJywgJ0RlbGV0ZScsICdBcnJvd0xlZnQnLCAnQXJyb3dSaWdodCcsICdUYWInLCAnRW50ZXInLCAnRXNjYXBlJywgJy4nLCAnLCcsICcwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5J107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbGxvd2VkS2V5cy5pbmNsdWRlcyhlLmtleSkgJiYgIWUuY3RybEtleSAmJiAhZS5tZXRhS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFF1aWNrIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6IDYsIGZsZXhXcmFwOiAnd3JhcCcsIG1hcmdpbkJvdHRvbTogMTYgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFJlY2VpdmVkQW1vdW50KHRvdGFsKX0gdHlwZT1cInByaW1hcnlcIiBnaG9zdCBzaXplPVwic21hbGxcIj7guJ7guK3guJTguLU8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdWlja0Nhc2hBbW91bnRzLm1hcChhbXQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24ga2V5PXthbXR9IG9uQ2xpY2s9eygpID0+IHNldFJlY2VpdmVkQW1vdW50KGFtdCl9IHNpemU9XCJzbWFsbFwiPuC4v3thbXR9PC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gaWNvbj17PFVuZG9PdXRsaW5lZCAvPn0gb25DbGljaz17KCkgPT4gc2V0UmVjZWl2ZWRBbW91bnQoMCl9IGRhbmdlciBzaXplPVwic21hbGxcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGl2aWRlciBzdHlsZT17eyBtYXJnaW46ICcxMnB4IDAnIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Um93IGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCIgYWxpZ249XCJtaWRkbGVcIiBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGNoYW5nZSA+PSAwID8gJyNmNmZmZWQnIDogJyNmZmYxZjAnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogOCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtjaGFuZ2UgPj0gMCA/ICcjYjdlYjhmJyA6ICcjZmZhMzllJ31gIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHN0eWxlPXt7IGZvbnRTaXplOiAxNiB9fT7guYDguIfguLTguJnguJfguK3guJkgKENoYW5nZSk8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBzdHJvbmcgc3R5bGU9e3sgZm9udFNpemU6IDI0LCBjb2xvcjogY2hhbmdlID49IDAgPyBpdGVtc0NvbG9ycy5zdWNjZXNzIDogaXRlbXNDb2xvcnMuY2FuY2VsbGVkIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRDdXJyZW5jeShNYXRoLm1heCgwLCBjaGFuZ2UpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlZGl0IENhcmQgLyBPdGhlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAyMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB0eXBlPVwic2Vjb25kYXJ5XCI+4LiV4Lij4Lin4LiI4Liq4Lit4Lia4Lii4Lit4LiU4LmA4LiH4Li04LiZ4LmB4Lil4Liw4LiK4Liz4Lij4Liw4Lic4LmI4Liy4LiZ4LiK4LmI4Lit4LiH4LiX4Liy4LiH4LiX4Li14LmI4LmA4Lil4Li34Lit4LiBPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxNiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dE51bWJlciBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17Y2FyZElucHV0UmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgZm9udFNpemU6IDI0IH19IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JlY2VpdmVkQW1vdW50fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2YWwgPT4gc2V0UmVjZWl2ZWRBbW91bnQodmFsIHx8IDApfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcj17dmFsdWUgPT4gYOC4vyAke3ZhbHVlfWAucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgJywnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlcj17dmFsdWUgPT4gTnVtYmVyKHZhbHVlIS5yZXBsYWNlKC/guL9cXHM/fCgsKikvZywgJycpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0TW9kZT1cImRlY2ltYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbG93ZWRLZXlzID0gWydCYWNrc3BhY2UnLCAnRGVsZXRlJywgJ0Fycm93TGVmdCcsICdBcnJvd1JpZ2h0JywgJ1RhYicsICdFbnRlcicsICdFc2NhcGUnLCAnLicsICcsJywgJzAnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFsbG93ZWRLZXlzLmluY2x1ZGVzKGUua2V5KSAmJiAhZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImxhcmdlXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogNTYsIGZvbnRTaXplOiAxOCwgbWFyZ2luVG9wOiA4LCBiYWNrZ3JvdW5kOiBpdGVtc0NvbG9ycy5zdWNjZXNzLCBib3JkZXI6IGAxcHggc29saWQgJHtpdGVtc0NvbG9ycy5zdWNjZXNzfWAsIGZvbnRXZWlnaHQ6IDcwMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29uZmlybVBheW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXNlbGVjdGVkUGF5bWVudE1ldGhvZCB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVjZWl2ZWRBbW91bnQgPCB0b3RhbCkgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzUGF5bWVudE1ldGhvZENvbmZpZ3VyZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2RzLmZpbmQobSA9PiBtLmlkID09PSBzZWxlY3RlZFBheW1lbnRNZXRob2QpPy5wYXltZW50X21ldGhvZF9uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kcy5maW5kKG0gPT4gbS5pZCA9PT0gc2VsZWN0ZWRQYXltZW50TWV0aG9kKT8uZGlzcGxheV9uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wUHJvZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4Lii4Li34LiZ4Lii4Lix4LiZ4LiB4Liy4Lij4LiK4Liz4Lij4Liw4LmA4LiH4Li04LiZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVjZWl2ZWRBbW91bnQgPj0gdG90YWwgJiYgYCAoJHtmb3JtYXRDdXJyZW5jeSh0b3RhbCl9KWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxDb25maXJtYXRpb25EaWFsb2dcbiAgICAgICAgICAgICAgICBvcGVuPXtjb25maXJtQ29uZmlnLm9wZW59XG4gICAgICAgICAgICAgICAgdHlwZT17Y29uZmlybUNvbmZpZy50eXBlfVxuICAgICAgICAgICAgICAgIHRpdGxlPXtjb25maXJtQ29uZmlnLnRpdGxlfVxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2NvbmZpcm1Db25maWcuY29udGVudH1cbiAgICAgICAgICAgICAgICBva1RleHQ9e2NvbmZpcm1Db25maWcub2tUZXh0fVxuICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ9e2NvbmZpcm1Db25maWcuY2FuY2VsVGV4dH1cbiAgICAgICAgICAgICAgICBvbk9rPXtjb25maXJtQ29uZmlnLm9uT2t9XG4gICAgICAgICAgICAgICAgb25DYW5jZWw9e2Nsb3NlQ29uZmlybX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlTWVtbyIsInVzZVJvdXRlciIsInVzZVBhcmFtcyIsIlR5cG9ncmFwaHkiLCJSb3ciLCJDb2wiLCJDYXJkIiwiQnV0dG9uIiwiRW1wdHkiLCJEaXZpZGVyIiwibWVzc2FnZSIsIklucHV0TnVtYmVyIiwiVGFnIiwiQXZhdGFyIiwiQWxlcnQiLCJNb2RhbCIsIkFycm93TGVmdE91dGxpbmVkIiwiU2hvcE91dGxpbmVkIiwiRG9sbGFyT3V0bGluZWQiLCJDcmVkaXRDYXJkT3V0bGluZWQiLCJRcmNvZGVPdXRsaW5lZCIsIlVuZG9PdXRsaW5lZCIsIkVkaXRPdXRsaW5lZCIsIlNldHRpbmdPdXRsaW5lZCIsIlFSQ29kZVNWRyIsImdlbmVyYXRlUGF5bG9hZCIsIm9yZGVyc1NlcnZpY2UiLCJwYXltZW50TWV0aG9kU2VydmljZSIsImRpc2NvdW50c1NlcnZpY2UiLCJwYXltZW50c1NlcnZpY2UiLCJ0YWJsZXNTZXJ2aWNlIiwic2hvcFByb2ZpbGVTZXJ2aWNlIiwiZ2V0Q3NyZlRva2VuQ2FjaGVkIiwiZ3JvdXBPcmRlckl0ZW1zIiwiT3JkZXJTdGF0dXMiLCJPcmRlclR5cGUiLCJUYWJsZVN0YXR1cyIsIkRpc2NvdW50VHlwZSIsIlBheW1lbnRTdGF0dXMiLCJpdGVtc1BheW1lbnRTdHlsZXMiLCJpdGVtc0NvbG9ycyIsIml0ZW1zUmVzcG9uc2l2ZVN0eWxlcyIsImNhbGN1bGF0ZVBheW1lbnRUb3RhbHMiLCJpc0Nhc2hNZXRob2QiLCJpc1Byb21wdFBheU1ldGhvZCIsInF1aWNrQ2FzaEFtb3VudHMiLCJnZXRQb3N0Q2FuY2VsUGF5bWVudFJlZGlyZWN0IiwiZ2V0RWRpdE9yZGVyUmVkaXJlY3QiLCJpc1BheW1lbnRNZXRob2RDb25maWd1cmVkIiwiZGF5anMiLCJnZXRPcmRlckNoYW5uZWxUZXh0IiwiZ2V0T3JkZXJSZWZlcmVuY2UiLCJnZXRPcmRlclN0YXR1c0NvbG9yIiwiZ2V0T3JkZXJTdGF0dXNUZXh0IiwiZm9ybWF0Q3VycmVuY3kiLCJDb25maXJtYXRpb25EaWFsb2ciLCJ1c2VHbG9iYWxMb2FkaW5nIiwidXNlU29ja2V0IiwiVGl0bGUiLCJUZXh0IiwibG9jYWxlIiwiUE9TUGF5bWVudFBhZ2UiLCJwYXltZW50TWV0aG9kcyIsInJvdXRlciIsInBhcmFtcyIsIm1lc3NhZ2VBcGkiLCJjb250ZXh0SG9sZGVyIiwidXNlTWVzc2FnZSIsInBheW1lbnRJZCIsIkFycmF5IiwiaXNBcnJheSIsIm9yZGVyIiwic2V0T3JkZXIiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJzZXRQYXltZW50TWV0aG9kcyIsImRpc2NvdW50cyIsInNldERpc2NvdW50cyIsInNob3BQcm9maWxlIiwic2V0U2hvcFByb2ZpbGUiLCJzZWxlY3RlZFBheW1lbnRNZXRob2QiLCJzZXRTZWxlY3RlZFBheW1lbnRNZXRob2QiLCJyZWNlaXZlZEFtb3VudCIsInNldFJlY2VpdmVkQW1vdW50IiwiYXBwbGllZERpc2NvdW50Iiwic2V0QXBwbGllZERpc2NvdW50IiwiZGlzY291bnRNb2RhbFZpc2libGUiLCJzZXREaXNjb3VudE1vZGFsVmlzaWJsZSIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJjYXNoSW5wdXRSZWYiLCJjYXJkSW5wdXRSZWYiLCJjb25maXJtQ29uZmlnIiwic2V0Q29uZmlybUNvbmZpZyIsIm9wZW4iLCJ0eXBlIiwidGl0bGUiLCJjb250ZW50Iiwib25PayIsImNsb3NlQ29uZmlybSIsInByZXYiLCJmZXRjaEluaXRpYWxEYXRhIiwic2lsZW50Iiwic2hvcFJlcyIsImdldFByb2ZpbGUiLCJjYXRjaCIsIm9yZGVyRGF0YSIsIm1ldGhvZHNSZXMiLCJkaXNjb3VudHNSZXMiLCJQcm9taXNlIiwiYWxsIiwiZ2V0QnlJZCIsImdldEFsbCIsIlBhaWQiLCJDYW5jZWxsZWQiLCJpbmNsdWRlcyIsInN0YXR1cyIsInB1c2giLCJmaWx0ZXJlZE1ldGhvZHMiLCJkYXRhIiwiZmlsdGVyIiwibSIsIm9yZGVyX3R5cGUiLCJEZWxpdmVyeSIsInBheW1lbnRfbWV0aG9kX25hbWUiLCJkaXNjb3VudHNBcnJheSIsImRpc2NvdW50T2JqIiwiaWQiLCJkaXNjb3VudF9uYW1lIiwiZGlzcGxheV9uYW1lIiwic3VjY2VzcyIsImRpc2NvdW50IiwiTnVtYmVyIiwidG90YWxfYW1vdW50IiwiZXJyb3IiLCJkaXNjb3VudE9wdGlvbnMiLCJsZW5ndGgiLCJhY3RpdmVEaXNjb3VudHMiLCJkIiwiaXNfYWN0aXZlIiwidW5kZWZpbmVkIiwib3B0aW9ucyIsIm1hcCIsImRpc3BsYXlOYW1lIiwibGFiZWwiLCJkaXNjb3VudF90eXBlIiwiUGVyY2VudGFnZSIsImRpc2NvdW50X2Ftb3VudCIsInZhbHVlIiwib3B0Iiwid2luZG93IiwiaGlzdG9yeSIsInNjcm9sbFJlc3RvcmF0aW9uIiwic3VidG90YWwiLCJ2YXQiLCJ0b3RhbCIsImNoYW5nZSIsImdyb3VwZWRJdGVtcyIsIml0ZW1zIiwiYWN0aXZlSXRlbXMiLCJpdGVtIiwiaGFuZGxlRGlzY291bnRDaGFuZ2UiLCJjc3JmVG9rZW4iLCJ1cGRhdGVkT3JkZXIiLCJ1cGRhdGUiLCJkaXNjb3VudF9pZCIsInNlbGVjdGVkIiwiZmluZCIsImluZm8iLCJoYW5kbGVDb25maXJtUGF5bWVudCIsIm1ldGhvZCIsIm1ldGhvZE5hbWUiLCJkaXYiLCJzdHlsZSIsInRleHRBbGlnbiIsImZvbnRTaXplIiwibWFyZ2luQm90dG9tIiwic3Ryb25nIiwiZm9udFdlaWdodCIsImNvbG9yIiwicHJpbWFyeSIsIm1hcmdpblRvcCIsIm9rVGV4dCIsImNhbmNlbFRleHQiLCJwYXltZW50RGF0YSIsIm9yZGVyX2lkIiwicGF5bWVudF9tZXRob2RfaWQiLCJhbW91bnQiLCJhbW91bnRfcmVjZWl2ZWQiLCJjaGFuZ2VfYW1vdW50IiwiU3VjY2VzcyIsImNyZWF0ZSIsInVwZGF0ZVN0YXR1cyIsInRhYmxlX2lkIiwiQXZhaWxhYmxlIiwiaGFuZGxlRWRpdE9yZGVyIiwidXBkYXRlSXRlbVN0YXR1cyIsIlNlcnZlZCIsIlBlbmRpbmciLCJoYW5kbGVDYW5jZWxPcmRlciIsImhhbmRsZUJhY2siLCJEaW5lSW4iLCJUYWtlQXdheSIsImJhY2siLCJkZXNjcmlwdGlvbiIsImNvbnRhaW5lciIsImhlcm9TZWN0aW9uIiwiY29udGVudFdyYXBwZXIiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJmbGV4V3JhcCIsImdhcCIsImFsaWduSXRlbXMiLCJpY29uIiwicGFkZGluZyIsImhlaWdodCIsIm9uQ2xpY2siLCJsZXZlbCIsInBhZ2VUaXRsZSIsImJvcmRlclJhZGl1cyIsImJvcmRlciIsIm9yZGVyX25vIiwiYmFja2dyb3VuZCIsImRhbmdlciIsInBhZGRpbmdCb3R0b20iLCJndXR0ZXIiLCJ4cyIsImxnIiwiY2FyZCIsInN0eWxlcyIsImJvZHkiLCJmbGV4RGlyZWN0aW9uIiwiZmxleCIsIm92ZXJmbG93WSIsInBhZGRpbmdSaWdodCIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsImlkeCIsImJvcmRlckJvdHRvbSIsImJvcmRlckxpZ2h0IiwibWluV2lkdGgiLCJzaGFwZSIsInNpemUiLCJzcmMiLCJwcm9kdWN0IiwiaW1nX3VybCIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRTZWNvbmRhcnkiLCJmbGV4U2hyaW5rIiwiZWxsaXBzaXMiLCJwcmljZSIsIm1hcmdpbiIsInF1YW50aXR5Iiwibm90ZXMiLCJmb250U3R5bGUiLCJkZXRhaWxzIiwiZGV0YWlsIiwiZElkeCIsImRldGFpbF9uYW1lIiwiZXh0cmFfcHJpY2UiLCJ0b3RhbF9wcmljZSIsInN1bW1hcnlCb3giLCJqdXN0aWZ5IiwiYWxpZ24iLCJvdmVyZmxvdyIsImN1cnNvciIsInRyYW5zaXRpb24iLCJzcGFuIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIm9uQ2FuY2VsIiwiZm9vdGVyIiwiY2VudGVyZWQiLCJ3aWR0aCIsInpJbmRleCIsImJvcmRlckNvbG9yIiwic2hvd0ljb24iLCJpc1NlbGVjdGVkIiwibWV0aG9kQ2FyZCIsIm1ldGhvZENhcmRTZWxlY3RlZCIsImFuaW1hdGlvbiIsImlzQ2FzaCIsImlzUHJvbXB0UGF5IiwicHJvbXB0cGF5X251bWJlciIsImdob3N0IiwicGF5bG9hZCIsInFyQXJlYSIsImluY2x1ZGVNYXJnaW4iLCJwcm9tcHRwYXlfbmFtZSIsImJyIiwiaW5wdXRBcmVhIiwicmVmIiwibWluIiwib25DaGFuZ2UiLCJ2YWwiLCJmb3JtYXR0ZXIiLCJyZXBsYWNlIiwicGFyc2VyIiwib25Gb2N1cyIsInRhcmdldCIsInNlbGVjdCIsImNvbnRyb2xzIiwiaW5wdXRNb2RlIiwib25LZXlEb3duIiwiYWxsb3dlZEtleXMiLCJrZXkiLCJjdHJsS2V5IiwibWV0YUtleSIsInByZXZlbnREZWZhdWx0IiwiYW10IiwiY2FuY2VsbGVkIiwiTWF0aCIsIm1heCIsImJsb2NrIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/(main)/pos/items/payment/[...paymentId]/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/services/pos/discounts.service.ts":
/*!***********************************************!*\
  !*** ./src/services/pos/discounts.service.ts ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   discountsService: function() { return /* binding */ discountsService; }\n/* harmony export */ });\n/* harmony import */ var _lib_proxy_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/proxy-utils */ \"(app-pages-browser)/./src/lib/proxy-utils.ts\");\n/* harmony import */ var _config_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config/api */ \"(app-pages-browser)/./src/config/api.ts\");\n\n\nconst BASE_PATH = _config_api__WEBPACK_IMPORTED_MODULE_1__.API_ROUTES.POS.DISCOUNTS;\nconst getHeaders = function(cookie) {\n    let contentType = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"application/json\";\n    const headers = {};\n    if (contentType) headers[\"Content-Type\"] = contentType;\n    if (cookie) headers.Cookie = cookie;\n    return headers;\n};\nconst discountsService = {\n    getAll: async (cookie, searchParams)=>{\n        let url = (0,_lib_proxy_utils__WEBPACK_IMPORTED_MODULE_0__.getProxyUrl)(\"GET\", BASE_PATH);\n        const params = new URLSearchParams(searchParams || \"\");\n        if (params.toString()) {\n            url += \"?\".concat(params.toString());\n        }\n        const headers = getHeaders(cookie, \"\");\n        const response = await fetch(url, {\n            cache: \"no-store\",\n            headers,\n            credentials: \"include\"\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            throw new Error(errorData.error || errorData.message || \"ไม่สามารถดึงข้อมูลส่วนลดได้\");\n        }\n        const json = await response.json();\n        // Handle different response formats\n        if (Array.isArray(json)) {\n            return json;\n        }\n        // Backend returns { success: true, data: [...] }\n        if ((json === null || json === void 0 ? void 0 : json.success) && Array.isArray(json.data)) {\n            return json.data;\n        }\n        // Backend returns { data: [...] } without success flag\n        if ((json === null || json === void 0 ? void 0 : json.data) && Array.isArray(json.data)) {\n            return json.data;\n        }\n        // Backend returns single object (shouldn't happen but handle it)\n        // Check if it's a discount object by checking required fields\n        if (json && typeof json === \"object\" && !Array.isArray(json)) {\n            // Check if it's wrapped in success response but data is object instead of array\n            if (json.success && json.data && typeof json.data === \"object\" && !Array.isArray(json.data)) {\n                if (json.data.id && (json.data.discount_name || json.data.display_name)) {\n                    return [\n                        json.data\n                    ];\n                }\n            }\n            // Check if it's a single discount object\n            if (json.id && (json.discount_name || json.display_name)) {\n                // Single discount object - convert to array\n                return [\n                    json\n                ];\n            }\n        }\n        return [];\n    },\n    getById: async (id, cookie)=>{\n        const url = (0,_lib_proxy_utils__WEBPACK_IMPORTED_MODULE_0__.getProxyUrl)(\"GET\", \"\".concat(BASE_PATH, \"/\").concat(id));\n        const headers = getHeaders(cookie, \"\");\n        const response = await fetch(url, {\n            cache: \"no-store\",\n            headers,\n            credentials: \"include\"\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            throw new Error(errorData.error || errorData.message || \"ไม่สามารถดึงข้อมูลส่วนลดได้\");\n        }\n        const json = await response.json();\n        if ((json === null || json === void 0 ? void 0 : json.success) && json.data) {\n            return json.data;\n        }\n        return json;\n    },\n    getByName: async (name, cookie)=>{\n        const url = (0,_lib_proxy_utils__WEBPACK_IMPORTED_MODULE_0__.getProxyUrl)(\"GET\", \"\".concat(BASE_PATH, \"/getByName/\").concat(name));\n        const headers = getHeaders(cookie, \"\");\n        const response = await fetch(url, {\n            cache: \"no-store\",\n            headers,\n            credentials: \"include\"\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            throw new Error(errorData.error || errorData.message || \"ไม่สามารถดึงข้อมูลส่วนลดได้\");\n        }\n        const json = await response.json();\n        if ((json === null || json === void 0 ? void 0 : json.success) && json.data) {\n            return json.data;\n        }\n        return json;\n    },\n    create: async (data, cookie, csrfToken)=>{\n        const url = (0,_lib_proxy_utils__WEBPACK_IMPORTED_MODULE_0__.getProxyUrl)(\"POST\", BASE_PATH);\n        const headers = getHeaders(cookie);\n        if (csrfToken) headers[\"X-CSRF-Token\"] = csrfToken;\n        const response = await fetch(url, {\n            method: \"POST\",\n            headers,\n            credentials: \"include\",\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            throw new Error(errorData.error || errorData.message || \"ไม่สามารถสร้างส่วนลดได้\");\n        }\n        return response.json();\n    },\n    update: async (id, data, cookie, csrfToken)=>{\n        const url = (0,_lib_proxy_utils__WEBPACK_IMPORTED_MODULE_0__.getProxyUrl)(\"PUT\", \"\".concat(BASE_PATH, \"/\").concat(id));\n        const headers = getHeaders(cookie);\n        if (csrfToken) headers[\"X-CSRF-Token\"] = csrfToken;\n        const response = await fetch(url, {\n            method: \"PUT\",\n            headers,\n            credentials: \"include\",\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            throw new Error(errorData.error || errorData.message || \"ไม่สามารถแก้ไขส่วนลดได้\");\n        }\n        return response.json();\n    },\n    delete: async (id, cookie, csrfToken)=>{\n        const url = (0,_lib_proxy_utils__WEBPACK_IMPORTED_MODULE_0__.getProxyUrl)(\"DELETE\", \"\".concat(BASE_PATH, \"/\").concat(id));\n        const headers = getHeaders(cookie, \"\");\n        if (csrfToken) headers[\"X-CSRF-Token\"] = csrfToken;\n        const response = await fetch(url, {\n            method: \"DELETE\",\n            headers,\n            credentials: \"include\"\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            throw new Error(errorData.error || errorData.message || \"ไม่สามารถลบส่วนลดได้\");\n        }\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9wb3MvZGlzY291bnRzLnNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ29EO0FBQ047QUFFOUMsTUFBTUUsWUFBWUQsbURBQVVBLENBQUNFLEdBQUcsQ0FBQ0MsU0FBUztBQUUxQyxNQUFNQyxhQUFhLFNBQUNDO1FBQWlCQywrRUFBc0I7SUFDdkQsTUFBTUMsVUFBa0MsQ0FBQztJQUN6QyxJQUFJRCxhQUFhQyxPQUFPLENBQUMsZUFBZSxHQUFHRDtJQUMzQyxJQUFJRCxRQUFRRSxRQUFRQyxNQUFNLEdBQUdIO0lBQzdCLE9BQU9FO0FBQ1g7QUFFTyxNQUFNRSxtQkFBbUI7SUFDNUJDLFFBQVEsT0FBT0wsUUFBaUJNO1FBQzVCLElBQUlDLE1BQU1iLDZEQUFXQSxDQUFDLE9BQU9FO1FBQzdCLE1BQU1ZLFNBQVMsSUFBSUMsZ0JBQWdCSCxnQkFBZ0I7UUFDbkQsSUFBSUUsT0FBT0UsUUFBUSxJQUFJO1lBQ25CSCxPQUFPLElBQXNCLE9BQWxCQyxPQUFPRSxRQUFRO1FBQzlCO1FBQ0EsTUFBTVIsVUFBVUgsV0FBV0MsUUFBUTtRQUVuQyxNQUFNVyxXQUFXLE1BQU1DLE1BQU1MLEtBQU07WUFDL0JNLE9BQU87WUFDUFg7WUFDQVksYUFBYTtRQUNqQjtRQUNBLElBQUksQ0FBQ0gsU0FBU0ksRUFBRSxFQUFFO1lBQ2QsTUFBTUMsWUFBWSxNQUFNTCxTQUFTTSxJQUFJLEdBQUdDLEtBQUssQ0FBQyxJQUFPLEVBQUM7WUFDdEQsTUFBTSxJQUFJQyxNQUFNSCxVQUFVSSxLQUFLLElBQUlKLFVBQVVLLE9BQU8sSUFBSTtRQUM1RDtRQUNBLE1BQU1KLE9BQU8sTUFBTU4sU0FBU00sSUFBSTtRQUVoQyxvQ0FBb0M7UUFDcEMsSUFBSUssTUFBTUMsT0FBTyxDQUFDTixPQUFPO1lBQ3JCLE9BQU9BO1FBQ1g7UUFFQSxpREFBaUQ7UUFDakQsSUFBSUEsQ0FBQUEsaUJBQUFBLDJCQUFBQSxLQUFNTyxPQUFPLEtB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T0FBbUMsQ0FBQyxlQUFlLEdBQUdBO1FBRXJFLE1BQU10QixXQUFXLE1BQU1DLE1BQU1MLEtBQU07WUFDL0IyQixRQUFRO1lBQ1JoQztZQUNBWSxhQUFhO1FBQ2pCO1FBQ0EsSUFBSSxDQUFDSCxTQUFTSSxFQUFFLEVBQUU7WUFDZCxNQUFNQyxZQUFZLE1BQU1MLFNBQVNNLElBQUksR0FBR0MsS0FBSyxDQUFDLElBQU8sRUFBQztZQUN0RCxNQUFNLElBQUlDLE1BQU1ILFVBQVVJLEtBQUssSUFBSUosVUFBVUssT0FBTyxJQUFJO1FBQzVEO0lBQ0o7QUFDSixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9zZXJ2aWNlcy9wb3MvZGlzY291bnRzLnNlcnZpY2UudHM/NzJmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXNjb3VudHMgfSBmcm9tIFwiLi4vLi4vdHlwZXMvYXBpL3Bvcy9kaXNjb3VudHNcIjtcbmltcG9ydCB7IGdldFByb3h5VXJsIH0gZnJvbSBcIi4uLy4uL2xpYi9wcm94eS11dGlsc1wiO1xuaW1wb3J0IHsgQVBJX1JPVVRFUyB9IGZyb20gXCIuLi8uLi9jb25maWcvYXBpXCI7XG5cbmNvbnN0IEJBU0VfUEFUSCA9IEFQSV9ST1VURVMuUE9TLkRJU0NPVU5UUztcblxuY29uc3QgZ2V0SGVhZGVycyA9IChjb29raWU/OiBzdHJpbmcsIGNvbnRlbnRUeXBlOiBzdHJpbmcgPSBcImFwcGxpY2F0aW9uL2pzb25cIik6IEhlYWRlcnNJbml0ID0+IHtcbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKGNvbnRlbnRUeXBlKSBoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gY29udGVudFR5cGU7XG4gICAgaWYgKGNvb2tpZSkgaGVhZGVycy5Db29raWUgPSBjb29raWU7XG4gICAgcmV0dXJuIGhlYWRlcnM7XG59O1xuXG5leHBvcnQgY29uc3QgZGlzY291bnRzU2VydmljZSA9IHtcbiAgICBnZXRBbGw6IGFzeW5jIChjb29raWU/OiBzdHJpbmcsIHNlYXJjaFBhcmFtcz86IFVSTFNlYXJjaFBhcmFtcyk6IFByb21pc2U8RGlzY291bnRzW10+ID0+IHtcbiAgICAgICAgbGV0IHVybCA9IGdldFByb3h5VXJsKFwiR0VUXCIsIEJBU0VfUEFUSCk7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoUGFyYW1zIHx8IFwiXCIpO1xuICAgICAgICBpZiAocGFyYW1zLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICAgIHVybCArPSBgPyR7cGFyYW1zLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWFkZXJzID0gZ2V0SGVhZGVycyhjb29raWUsIFwiXCIpO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsISwge1xuICAgICAgICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgZXJyb3JEYXRhLm1lc3NhZ2UgfHwgXCLguYTguKHguYjguKrguLLguKHguLLguKPguJbguJTguLbguIfguILguYnguK3guKHguLnguKXguKrguYjguKfguJnguKXguJTguYTguJTguYlcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIGZvcm1hdHNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmFja2VuZCByZXR1cm5zIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogWy4uLl0gfVxuICAgICAgICBpZiAoanNvbj8uc3VjY2VzcyAmJiBBcnJheS5pc0FycmF5KGpzb24uZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiBqc29uLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCYWNrZW5kIHJldHVybnMgeyBkYXRhOiBbLi4uXSB9IHdpdGhvdXQgc3VjY2VzcyBmbGFnXG4gICAgICAgIGlmIChqc29uPy5kYXRhICYmIEFycmF5LmlzQXJyYXkoanNvbi5kYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGpzb24uZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJhY2tlbmQgcmV0dXJucyBzaW5nbGUgb2JqZWN0IChzaG91bGRuJ3QgaGFwcGVuIGJ1dCBoYW5kbGUgaXQpXG4gICAgICAgIC8vIENoZWNrIGlmIGl0J3MgYSBkaXNjb3VudCBvYmplY3QgYnkgY2hlY2tpbmcgcmVxdWlyZWQgZmllbGRzXG4gICAgICAgIGlmIChqc29uICYmIHR5cGVvZiBqc29uID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyB3cmFwcGVkIGluIHN1Y2Nlc3MgcmVzcG9uc2UgYnV0IGRhdGEgaXMgb2JqZWN0IGluc3RlYWQgb2YgYXJyYXlcbiAgICAgICAgICAgIGlmIChqc29uLnN1Y2Nlc3MgJiYganNvbi5kYXRhICYmIHR5cGVvZiBqc29uLmRhdGEgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGpzb24uZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoanNvbi5kYXRhLmlkICYmIChqc29uLmRhdGEuZGlzY291bnRfbmFtZSB8fCBqc29uLmRhdGEuZGlzcGxheV9uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2pzb24uZGF0YSBhcyBEaXNjb3VudHNdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIHNpbmdsZSBkaXNjb3VudCBvYmplY3RcbiAgICAgICAgICAgIGlmIChqc29uLmlkICYmIChqc29uLmRpc2NvdW50X25hbWUgfHwganNvbi5kaXNwbGF5X25hbWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gU2luZ2xlIGRpc2NvdW50IG9iamVjdCAtIGNvbnZlcnQgdG8gYXJyYXlcbiAgICAgICAgICAgICAgICByZXR1cm4gW2pzb24gYXMgRGlzY291bnRzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuXG4gICAgZ2V0QnlJZDogYXN5bmMgKGlkOiBzdHJpbmcsIGNvb2tpZT86IHN0cmluZyk6IFByb21pc2U8RGlzY291bnRzPiA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IGdldFByb3h5VXJsKFwiR0VUXCIsIGAke0JBU0VfUEFUSH0vJHtpZH1gKTtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IGdldEhlYWRlcnMoY29va2llLCBcIlwiKTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCEsIHtcbiAgICAgICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8IFwi4LmE4Lih4LmI4Liq4Liy4Lih4Liy4Lij4LiW4LiU4Li24LiH4LiC4LmJ4Lit4Lih4Li54Lil4Liq4LmI4Lin4LiZ4Lil4LiU4LmE4LiU4LmJXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmIChqc29uPy5zdWNjZXNzICYmIGpzb24uZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGpzb24uZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ganNvbjtcbiAgICB9LFxuXG4gICAgZ2V0QnlOYW1lOiBhc3luYyAobmFtZTogc3RyaW5nLCBjb29raWU/OiBzdHJpbmcpOiBQcm9taXNlPERpc2NvdW50cz4gPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBnZXRQcm94eVVybChcIkdFVFwiLCBgJHtCQVNFX1BBVEh9L2dldEJ5TmFtZS8ke25hbWV9YCk7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBnZXRIZWFkZXJzKGNvb2tpZSwgXCJcIik7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwhLCB7XG4gICAgICAgICAgICBjYWNoZTogXCJuby1zdG9yZVwiLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIlxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBlcnJvckRhdGEubWVzc2FnZSB8fCBcIuC5hOC4oeC5iOC4quC4suC4oeC4suC4o+C4luC4lOC4tuC4h+C4guC5ieC4reC4oeC4ueC4peC4quC5iOC4p+C4meC4peC4lOC5hOC4lOC5iVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoanNvbj8uc3VjY2VzcyAmJiBqc29uLmRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBqc29uLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfSxcblxuICAgIGNyZWF0ZTogYXN5bmMgKGRhdGE6IFBhcnRpYWw8RGlzY291bnRzPiwgY29va2llPzogc3RyaW5nLCBjc3JmVG9rZW4/OiBzdHJpbmcpOiBQcm9taXNlPERpc2NvdW50cz4gPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBnZXRQcm94eVVybChcIlBPU1RcIiwgQkFTRV9QQVRIKTtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IGdldEhlYWRlcnMoY29va2llKSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgICBpZiAoY3NyZlRva2VuKSBoZWFkZXJzW1wiWC1DU1JGLVRva2VuXCJdID0gY3NyZlRva2VuO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsISwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogXCJpbmNsdWRlXCIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgZXJyb3JEYXRhLm1lc3NhZ2UgfHwgXCLguYTguKHguYjguKrguLLguKHguLLguKPguJbguKrguKPguYnguLLguIfguKrguYjguKfguJnguKXguJTguYTguJTguYlcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyAoaWQ6IHN0cmluZywgZGF0YTogUGFydGlhbDxEaXNjb3VudHM+LCBjb29raWU/OiBzdHJpbmcsIGNzcmZUb2tlbj86IHN0cmluZyk6IFByb21pc2U8RGlzY291bnRzPiA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IGdldFByb3h5VXJsKFwiUFVUXCIsIGAke0JBU0VfUEFUSH0vJHtpZH1gKTtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IGdldEhlYWRlcnMoY29va2llKSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgICBpZiAoY3NyZlRva2VuKSBoZWFkZXJzW1wiWC1DU1JGLVRva2VuXCJdID0gY3NyZlRva2VuO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsISwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBlcnJvckRhdGEubWVzc2FnZSB8fCBcIuC5hOC4oeC5iOC4quC4suC4oeC4suC4o+C4luC5geC4geC5ieC5hOC4guC4quC5iOC4p+C4meC4peC4lOC5hOC4lOC5iVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0sXG5cbiAgICBkZWxldGU6IGFzeW5jIChpZDogc3RyaW5nLCBjb29raWU/OiBzdHJpbmcsIGNzcmZUb2tlbj86IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBnZXRQcm94eVVybChcIkRFTEVURVwiLCBgJHtCQVNFX1BBVEh9LyR7aWR9YCk7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBnZXRIZWFkZXJzKGNvb2tpZSwgXCJcIik7XG4gICAgICAgIGlmIChjc3JmVG9rZW4pIChoZWFkZXJzIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4pW1wiWC1DU1JGLVRva2VuXCJdID0gY3NyZlRva2VuO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsISwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIlxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBlcnJvckRhdGEubWVzc2FnZSB8fCBcIuC5hOC4oeC5iOC4quC4suC4oeC4suC4o+C4luC4peC4muC4quC5iOC4p+C4meC4peC4lOC5hOC4lOC5iVwiKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iXSwibmFtZXMiOlsiZ2V0UHJveHlVcmwiLCJBUElfUk9VVEVTIiwiQkFTRV9QQVRIIiwiUE9TIiwiRElTQ09VTlRTIiwiZ2V0SGVhZGVycyIsImNvb2tpZSIsImNvbnRlbnRUeXBlIiwiaGVhZGVycyIsIkNvb2tpZSIsImRpc2NvdW50c1NlcnZpY2UiLCJnZXRBbGwiLCJzZWFyY2hQYXJhbXMiLCJ1cmwiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ0b1N0cmluZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJjYWNoZSIsImNyZWRlbnRpYWxzIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJFcnJvciIsImVycm9yIiwibWVzc2FnZSIsIkFycmF5IiwiaXNBcnJheSIsInN1Y2Nlc3MiLCJkYXRhIiwiaWQiLCJkaXNjb3VudF9uYW1lIiwiZGlzcGxheV9uYW1lIiwiZ2V0QnlJZCIsImdldEJ5TmFtZSIsIm5hbWUiLCJjcmVhdGUiLCJjc3JmVG9rZW4iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVwZGF0ZSIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/pos/discounts.service.ts\n"));

/***/ })

});