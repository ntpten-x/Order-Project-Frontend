"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("common",{

/***/ "(app-pages-browser)/./src/utils/orders/index.ts":
/*!***********************************!*\
  !*** ./src/utils/orders/index.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateItemExtras: function() { return /* binding */ calculateItemExtras; },\n/* harmony export */   calculateItemTotal: function() { return /* binding */ calculateItemTotal; },\n/* harmony export */   calculateOrderTotal: function() { return /* binding */ calculateOrderTotal; },\n/* harmony export */   createOrderPayload: function() { return /* binding */ createOrderPayload; },\n/* harmony export */   formatCurrency: function() { return /* binding */ formatCurrency; },\n/* harmony export */   getCancelOrderNavigationPath: function() { return /* binding */ getCancelOrderNavigationPath; },\n/* harmony export */   getConfirmServeActionText: function() { return /* binding */ getConfirmServeActionText; },\n/* harmony export */   getEditOrderNavigationPath: function() { return /* binding */ getEditOrderNavigationPath; },\n/* harmony export */   getNonCancelledItems: function() { return /* binding */ getNonCancelledItems; },\n/* harmony export */   getOrderChannelColor: function() { return /* binding */ getOrderChannelColor; },\n/* harmony export */   getOrderChannelText: function() { return /* binding */ getOrderChannelText; },\n/* harmony export */   getOrderNavigationPath: function() { return /* binding */ getOrderNavigationPath; },\n/* harmony export */   getOrderReference: function() { return /* binding */ getOrderReference; },\n/* harmony export */   getOrderStatusColor: function() { return /* binding */ getOrderStatusColor; },\n/* harmony export */   getOrderStatusText: function() { return /* binding */ getOrderStatusText; },\n/* harmony export */   getPostConfirmServeNavigationPath: function() { return /* binding */ getPostConfirmServeNavigationPath; },\n/* harmony export */   getServeActionText: function() { return /* binding */ getServeActionText; },\n/* harmony export */   getServedStatusText: function() { return /* binding */ getServedStatusText; },\n/* harmony export */   getTableNavigationPath: function() { return /* binding */ getTableNavigationPath; },\n/* harmony export */   getTotalItemsQuantity: function() { return /* binding */ getTotalItemsQuantity; },\n/* harmony export */   groupItemsByCategory: function() { return /* binding */ groupItemsByCategory; },\n/* harmony export */   groupSameItems: function() { return /* binding */ groupSameItems; },\n/* harmony export */   sortOrdersByDate: function() { return /* binding */ sortOrdersByDate; },\n/* harmony export */   sortOrdersByQuantity: function() { return /* binding */ sortOrdersByQuantity; }\n/* harmony export */ });\n/* harmony import */ var _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types/api/pos/salesOrder */ \"(app-pages-browser)/./src/types/api/pos/salesOrder.ts\");\n/* harmony import */ var _types_api_pos_tables__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types/api/pos/tables */ \"(app-pages-browser)/./src/types/api/pos/tables.ts\");\n\n\nconst getTableNavigationPath = (table)=>{\n    var _table_active_order, _table_active_order1;\n    // 1. Available -> Go to Table Detail Page (New Order)\n    if (table.status === _types_api_pos_tables__WEBPACK_IMPORTED_MODULE_1__.TableStatus.Available) {\n        return \"/pos/channels/dine-in/\".concat(table.id);\n    }\n    // 2. Unavailable -> Check Active Order\n    const activeOrderId = table.active_order_id || ((_table_active_order = table.active_order) === null || _table_active_order === void 0 ? void 0 : _table_active_order.id);\n    const activeOrderStatus = table.active_order_status || ((_table_active_order1 = table.active_order) === null || _table_active_order1 === void 0 ? void 0 : _table_active_order1.status);\n    if (activeOrderId) {\n        // If Waiting For Payment -> Go to Payment Page\n        if (activeOrderStatus === _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.WaitingForPayment) {\n            return \"/pos/items/payment/\".concat(activeOrderId);\n        }\n        // Other statuses (Pending, Cooking, Served) -> Go to Order Detail Page\n        return \"/pos/orders/\".concat(activeOrderId);\n    }\n    // Fallback if unavailable but no active order ID (should not happen in normal flow)\n    return \"/pos/channels/dine-in/\".concat(table.id);\n};\nconst getOrderStatusColor = (status)=>{\n    switch(status){\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Pending:\n            return \"orange\"; // กำลังดำเนินการ\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Cooking:\n            return \"blue\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Served:\n            return \"green\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Paid:\n            return \"cyan\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Cancelled:\n            return \"red\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.WaitingForPayment:\n            return \"gold\";\n        default:\n            return \"default\";\n    }\n};\nconst getOrderStatusText = (status, orderType)=>{\n    switch(status){\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Pending:\n            return \"กำลังดำเนินการ\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Cooking:\n            return \"กำลังปรุง\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Served:\n            if (orderType === \"TakeAway\" || orderType === \"Delivery\") {\n                return \"ทำแล้ว\";\n            }\n            return \"เสิร์ฟแล้ว\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Paid:\n            return \"ชำระเงินแล้ว\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Completed:\n            return \"สำเร็จ\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Cancelled:\n            return \"ยกเลิก\";\n        case _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.WaitingForPayment:\n            return \"รอชำระเงิน\";\n        default:\n            return status;\n    }\n};\nconst getOrderChannelColor = (type)=>{\n    switch(type){\n        case \"DineIn\":\n            return \"#722ed1\";\n        case \"TakeAway\":\n            return \"#fa8c16\";\n        case \"Delivery\":\n            return \"#eb2f96\";\n        default:\n            return \"#1890ff\";\n    }\n};\nconst getOrderChannelText = (type)=>{\n    switch(type){\n        case \"DineIn\":\n            return \"ทานที่ร้าน\";\n        case \"TakeAway\":\n            return \"สั่งกลับบ้าน\";\n        case \"Delivery\":\n            return \"เดลิเวอรี่\";\n        default:\n            return type;\n    }\n};\nconst getServeActionText = (type)=>{\n    if (type === \"DineIn\") return \"เสิร์ฟ\";\n    return \"ทำแล้ว\";\n};\nconst getConfirmServeActionText = (type)=>{\n    if (type === \"Delivery\") return \"จัดออเดอร์เสร็จแล้วพร้อมส่งให้ไรเดอร์\";\n    if (type === \"DineIn\") return \"ยืนยันเสิร์ฟพร้อมชำระเงิน\";\n    return \"ยืนยันทำแล้วพร้อมชำระเงิน\";\n};\nconst getServedStatusText = (type)=>{\n    if (type === \"DineIn\") return \"เสิร์ฟอาหารแล้ว\";\n    return \"ปรุงเสร็จแล้ว\";\n};\nconst formatCurrency = (amount)=>{\n    const numAmount = typeof amount === \"string\" ? parseFloat(amount) : amount;\n    return \"฿\".concat(Number(numAmount).toLocaleString(\"th-TH\", {\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 2\n    }));\n};\nconst getOrderReference = (order)=>{\n    if (order.order_type === \"DineIn\") {\n        var _order_table;\n        return ((_order_table = order.table) === null || _order_table === void 0 ? void 0 : _order_table.table_name) || \"ไม่ระบุโต๊ะ\";\n    }\n    if (order.order_type === \"Delivery\") {\n        var _order_delivery;\n        return order.delivery_code || ((_order_delivery = order.delivery) === null || _order_delivery === void 0 ? void 0 : _order_delivery.delivery_name) || \"ไม่ระบุข้อมูล\";\n    }\n    if (order.order_type === \"TakeAway\") {\n        return order.order_no || \"ไม่ระบุเลขที่\";\n    }\n    return order.order_no || \"N/A\";\n};\nconst getNonCancelledItems = (items)=>{\n    return (items !== null && items !== void 0 ? items : []).filter((item)=>item.status !== _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Cancelled);\n};\nconst calculateItemExtras = (details)=>{\n    return (details !== null && details !== void 0 ? details : []).reduce((sum, detail)=>sum + (Number(detail.extra_price) || 0), 0);\n};\nconst calculateItemTotal = (price, quantity, details)=>{\n    const basePrice = Number(price) || 0;\n    const extrasPrice = calculateItemExtras(details);\n    return (basePrice + extrasPrice) * quantity;\n};\nconst getTotalItemsQuantity = (items)=>{\n    return getNonCancelledItems(items).reduce((sum, item)=>sum + (item.quantity || 0), 0);\n};\nconst groupItemsByCategory = (items)=>{\n    return getNonCancelledItems(items).reduce((acc, item)=>{\n        var _item_product_category, _item_product;\n        const categoryName = ((_item_product = item.product) === null || _item_product === void 0 ? void 0 : (_item_product_category = _item_product.category) === null || _item_product_category === void 0 ? void 0 : _item_product_category.display_name) || \"ไม่ระบุหมวด\";\n        acc[categoryName] = (acc[categoryName] || 0) + (item.quantity || 0);\n        return acc;\n    }, {});\n};\nconst calculateOrderTotal = (items)=>{\n    return getNonCancelledItems(items).reduce((sum, item)=>sum + Number(item.total_price || 0), 0);\n};\nconst sortOrdersByDate = function() {\n    let orders = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], ascending = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    return [\n        ...orders\n    ].sort((a, b)=>{\n        const dateA = a.create_date ? new Date(a.create_date).getTime() : 0;\n        const dateB = b.create_date ? new Date(b.create_date).getTime() : 0;\n        return ascending ? dateA - dateB : dateB - dateA;\n    });\n};\nconst sortOrdersByQuantity = function() {\n    let orders = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], ascending = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    return [\n        ...orders\n    ].sort((a, b)=>{\n        const qtyA = getTotalItemsQuantity(a.items);\n        const qtyB = getTotalItemsQuantity(b.items);\n        return ascending ? qtyA - qtyB : qtyB - qtyA;\n    });\n};\n/**\n * Get navigation path after all items are served (Confirm Serve)\n * @param order - The order object\n * @returns The target navigation path\n */ const getPostConfirmServeNavigationPath = (order)=>{\n    if (order.order_type === \"DineIn\") {\n        return \"/pos/channels/dine-in\";\n    }\n    if (order.order_type === \"TakeAway\") {\n        return \"/pos/channels/takeaway\";\n    }\n    if (order.order_type === \"Delivery\") {\n        return \"/pos/channels/delivery\";\n    }\n    // Fallback to orders list\n    return \"/pos/orders\";\n};\n/**\n * Get navigation path after an order is successfully created\n * @param orderType - The type of order created\n * @returns The target navigation path\n */ /**\n * Get navigation path for editing an order (Order Detail page)\n * @param orderId - The ID of the order to edit\n * @returns The target navigation path\n */ const getEditOrderNavigationPath = (orderId)=>{\n    return \"/pos/orders/\".concat(orderId);\n};\n/**\n * Get navigation path for an order based on its status.\n * @param order - The order object\n * @returns The target navigation path\n */ const getOrderNavigationPath = (order)=>{\n    if (order.status === _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.WaitingForPayment) {\n        if (order.order_type === _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderType.Delivery) {\n            return \"/pos/items/delivery/\".concat(order.id);\n        }\n        return \"/pos/items/payment/\".concat(order.id);\n    }\n    return \"/pos/orders/\".concat(order.id);\n};\n/**\n * Get navigation path after an order is cancelled\n * @param orderType - The type of order that was cancelled\n * @returns The target navigation path\n */ const getCancelOrderNavigationPath = (orderType)=>{\n    if (orderType === _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderType.Delivery) {\n        return \"/pos/channels/delivery\";\n    }\n    if (orderType === _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderType.TakeAway) {\n        return \"/pos/channels/takeaway\";\n    }\n    if (orderType === _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderType.DineIn) {\n        return \"/pos/channels/dine-in\";\n    }\n    return \"/pos/channels\";\n};\nconst createOrderPayload = (cartItems, orderType, totals, options)=>{\n    return {\n        order_no: options.orderNo || \"ORD-\".concat(Date.now()),\n        order_type: orderType,\n        sub_total: totals.subTotal,\n        discount_amount: totals.discountAmount,\n        vat: 0,\n        total_amount: totals.totalAmount,\n        received_amount: 0,\n        change_amount: 0,\n        status: _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Pending,\n        discount_id: options.discountId || null,\n        payment_method_id: null,\n        table_id: options.tableId || null,\n        delivery_id: options.deliveryId || null,\n        delivery_code: options.deliveryCode || null,\n        items: cartItems.map((item)=>{\n            const productPrice = Number(item.product.price);\n            const detailsPrice = (item.details || []).reduce((sum, d)=>sum + Number(d.extra_price), 0);\n            const totalPrice = (productPrice + detailsPrice) * item.quantity;\n            return {\n                product_id: item.product.id,\n                quantity: item.quantity,\n                price: productPrice,\n                total_price: totalPrice,\n                discount_amount: 0,\n                notes: item.notes || \"\",\n                status: _types_api_pos_salesOrder__WEBPACK_IMPORTED_MODULE_0__.OrderStatus.Cooking,\n                details: item.details || []\n            };\n        })\n    };\n};\nconst groupSameItems = (items)=>{\n    const groupedMap = new Map();\n    items.forEach((item)=>{\n        // Create a unique key based on content\n        // Include product_id, status, notes, price, and details (modifiers)\n        const detailsKey = (item.details || []).map((d)=>\"\".concat(d.detail_name, \":\").concat(d.extra_price)).sort().join(\"|\");\n        const key = JSON.stringify({\n            pid: item.product_id,\n            price: item.price,\n            notes: (item.notes || \"\").trim(),\n            status: item.status,\n            details: detailsKey\n        });\n        if (groupedMap.has(key)) {\n            const existing = groupedMap.get(key);\n            // Sum quantity and total_price\n            existing.quantity += item.quantity;\n            existing.total_price = Number(existing.total_price) + Number(item.total_price);\n            // Add ID to originalIds\n            existing.originalIds.push(item.id);\n        } else {\n            groupedMap.set(key, {\n                ...item,\n                originalIds: [\n                    item.id\n                ],\n                // Ensure total_price is number\n                total_price: Number(item.total_price)\n            });\n        }\n    });\n    return Array.from(groupedMap.values());\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy91dGlscy9vcmRlcnMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUc7QUFFdEM7QUF5QjFELE1BQU1HLHlCQUF5QixDQUFDQztRQU9ZLHFCQUNRO0lBUHZELHNEQUFzRDtJQUN0RCxJQUFJQSxNQUFNQyxNQUFNLEtBQUtILDhEQUFXQSxDQUFDSSxTQUFTLEVBQUU7UUFDeEMsT0FBTyx5QkFBa0MsT0FBVEYsTUFBTUcsRUFBRTtJQUM1QztJQUVBLHVDQUF1QztJQUN2QyxNQUFNQyxnQkFBZ0JKLE1BQU1LLGVBQWUsTUFBSSw0QkFBZ0NDLFlBQVksY0FBNUMsOERBQThDSCxFQUFFO0lBQy9GLE1BQU1JLG9CQUFvQlAsTUFBTVEsbUJBQW1CLE1BQUksNkJBQWdDRixZQUFZLGNBQTVDLGdFQUE4Q0wsTUFBTTtJQUUzRyxJQUFJRyxlQUFlO1FBQ2YsK0NBQStDO1FBQy9DLElBQUlHLHNCQUFzQlgsa0VBQVdBLENBQUNhLGlCQUFpQixFQUFFO1lBQ3JELE9BQU8sc0JBQW9DLE9BQWRMO1FBQ2pDO1FBRUEsdUVBQXVFO1FBQ3ZFLE9BQU8sZUFBNkIsT0FBZEE7SUFDMUI7SUFFQSxvRkFBb0Y7SUFDcEYsT0FBTyx5QkFBa0MsT0FBVEosTUFBTUcsRUFBRTtBQUM1QyxFQUFFO0FBaUNLLE1BQU1PLHNCQUFzQixDQUFDVDtJQUNoQyxPQUFRQTtRQUNKLEtBQUtMLGtFQUFXQSxDQUFDZSxPQUFPO1lBQ3BCLE9BQU8sVUFBVSxpQkFBaUI7UUFDdEMsS0FBS2Ysa0VBQVdBLENBQUNnQixPQUFPO1lBQ3BCLE9BQU87UUFDWCxLQUFLaEIsa0VBQVdBLENBQUNpQixNQUFNO1lBQ25CLE9BQU87UUFDWCxLQUFLakIsa0VBQVdBLENBQUNrQixJQUFJO1lBQ2pCLE9BQU87UUFDWCxLQUFLbEIsa0VBQVdBLENBQUNtQixTQUFTO1lBQ3RCLE9BQU87UUFDWCxLQUFLbkIsa0VBQVdBLENBQUNh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QVNFLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDekYsS0FBS3pDLEVBQUU7UUFDckMsT0FBTztZQUNIbUgsV0FBV2dCLEdBQUcsQ0FBQ1YsS0FBSztnQkFDaEIsR0FBR2hGLElBQUk7Z0JBQ1B3RixhQUFhO29CQUFDeEYsS0FBS3pDLEVBQUU7aUJBQUM7Z0JBQ3RCLCtCQUErQjtnQkFDL0I2RCxhQUFhbkMsT0FBT2UsS0FBS29CLFdBQVc7WUFDeEM7UUFDSjtJQUNKO0lBRUEsT0FBT3VFLE1BQU1DLElBQUksQ0FBQ2xCLFdBQVdtQixNQUFNO0FBQ3ZDLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3V0aWxzL29yZGVycy9pbmRleC50cz8xYzYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9yZGVyU3RhdHVzLCBPcmRlclR5cGUsIFNhbGVzT3JkZXIsIFNhbGVzT3JkZXJTdW1tYXJ5IH0gZnJvbSAnLi4vLi4vdHlwZXMvYXBpL3Bvcy9zYWxlc09yZGVyJztcbmltcG9ydCB7IFNhbGVzT3JkZXJJdGVtIH0gZnJvbSAnLi4vLi4vdHlwZXMvYXBpL3Bvcy9zYWxlc09yZGVySXRlbSc7XG5pbXBvcnQgeyBUYWJsZXMsIFRhYmxlU3RhdHVzIH0gZnJvbSAnLi4vLi4vdHlwZXMvYXBpL3Bvcy90YWJsZXMnO1xuaW1wb3J0IHsgRGlhbG9nVHlwZSB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZGlhbG9nL0NvbmZpcm1hdGlvbkRpYWxvZyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlybWF0aW9uQ29uZmlnIHtcbiAgICBvcGVuOiBib29sZWFuO1xuICAgIHR5cGU6IERpYWxvZ1R5cGU7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBjb250ZW50OiBzdHJpbmcgfCBSZWFjdC5SZWFjdE5vZGU7XG4gICAgb2tUZXh0Pzogc3RyaW5nO1xuICAgIGNhbmNlbFRleHQ/OiBzdHJpbmc7XG4gICAgb25PazogKCkgPT4gdm9pZDtcbiAgICBvbkNhbmNlbD86ICgpID0+IHZvaWQ7XG4gICAgbG9hZGluZz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogR2V0IHRoZSBuYXZpZ2F0aW9uIHBhdGggZm9yIGEgdGFibGUgYmFzZWQgb24gaXRzIHN0YXR1cyBhbmQgYWN0aXZlIG9yZGVyIHN0YXR1cy5cbiAqIEBwYXJhbSB0YWJsZSAtIFRoZSB0YWJsZSBvYmplY3RcbiAqIEByZXR1cm5zIFRoZSBuYXZpZ2F0aW9uIHBhdGggc3RyaW5nXG4gKi9cbi8vIExvY2FsIGludGVyZmFjZSB0byBoYW5kbGUgbG9hZGVkIHJlbGF0aW9uc2hpcHMgdGhhdCBtaWdodCBub3QgYmUgaW4gdGhlIGJhc2UgdHlwZVxuaW50ZXJmYWNlIFRhYmxlV2l0aEFjdGl2ZU9yZGVyIGV4dGVuZHMgVGFibGVzIHtcbiAgICBhY3RpdmVfb3JkZXI/OiB7IGlkOiBzdHJpbmc7IHN0YXR1czogT3JkZXJTdGF0dXMgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFRhYmxlTmF2aWdhdGlvblBhdGggPSAodGFibGU6IFRhYmxlcyk6IHN0cmluZyA9PiB7XG4gICAgLy8gMS4gQXZhaWxhYmxlIC0+IEdvIHRvIFRhYmxlIERldGFpbCBQYWdlIChOZXcgT3JkZXIpXG4gICAgaWYgKHRhYmxlLnN0YXR1cyA9PT0gVGFibGVTdGF0dXMuQXZhaWxhYmxlKSB7XG4gICAgICAgIHJldHVybiBgL3Bvcy9jaGFubmVscy9kaW5lLWluLyR7dGFibGUuaWR9YDtcbiAgICB9XG5cbiAgICAvLyAyLiBVbmF2YWlsYWJsZSAtPiBDaGVjayBBY3RpdmUgT3JkZXJcbiAgICBjb25zdCBhY3RpdmVPcmRlcklkID0gdGFibGUuYWN0aXZlX29yZGVyX2lkIHx8ICh0YWJsZSBhcyBUYWJsZVdpdGhBY3RpdmVPcmRlcikuYWN0aXZlX29yZGVyPy5pZDtcbiAgICBjb25zdCBhY3RpdmVPcmRlclN0YXR1cyA9IHRhYmxlLmFjdGl2ZV9vcmRlcl9zdGF0dXMgfHwgKHRhYmxlIGFzIFRhYmxlV2l0aEFjdGl2ZU9yZGVyKS5hY3RpdmVfb3JkZXI/LnN0YXR1cztcblxuICAgIGlmIChhY3RpdmVPcmRlcklkKSB7XG4gICAgICAgIC8vIElmIFdhaXRpbmcgRm9yIFBheW1lbnQgLT4gR28gdG8gUGF5bWVudCBQYWdlXG4gICAgICAgIGlmIChhY3RpdmVPcmRlclN0YXR1cyA9PT0gT3JkZXJTdGF0dXMuV2FpdGluZ0ZvclBheW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBgL3Bvcy9pdGVtcy9wYXltZW50LyR7YWN0aXZlT3JkZXJJZH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3RoZXIgc3RhdHVzZXMgKFBlbmRpbmcsIENvb2tpbmcsIFNlcnZlZCkgLT4gR28gdG8gT3JkZXIgRGV0YWlsIFBhZ2VcbiAgICAgICAgcmV0dXJuIGAvcG9zL29yZGVycy8ke2FjdGl2ZU9yZGVySWR9YDtcbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjayBpZiB1bmF2YWlsYWJsZSBidXQgbm8gYWN0aXZlIG9yZGVyIElEIChzaG91bGQgbm90IGhhcHBlbiBpbiBub3JtYWwgZmxvdylcbiAgICByZXR1cm4gYC9wb3MvY2hhbm5lbHMvZGluZS1pbi8ke3RhYmxlLmlkfWA7XG59O1xuXG50eXBlIE9yZGVySXRlbURldGFpbExpa2UgPSB7XG4gICAgZGV0YWlsX25hbWU/OiBzdHJpbmc7XG4gICAgZXh0cmFfcHJpY2U/OiBudW1iZXIgfCBzdHJpbmc7XG59O1xuXG50eXBlIE9yZGVySXRlbUxpa2UgPSB7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgc3RhdHVzPzogT3JkZXJTdGF0dXMgfCBzdHJpbmc7XG4gICAgcXVhbnRpdHk/OiBudW1iZXI7XG4gICAgcHJpY2U/OiBudW1iZXIgfCBzdHJpbmc7XG4gICAgdG90YWxfcHJpY2U/OiBudW1iZXIgfCBzdHJpbmc7XG4gICAgbm90ZXM/OiBzdHJpbmc7XG4gICAgcHJvZHVjdD86IHtcbiAgICAgICAgZGlzcGxheV9uYW1lPzogc3RyaW5nO1xuICAgICAgICBjYXRlZ29yeT86IHtcbiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT86IHN0cmluZztcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGRldGFpbHM/OiBPcmRlckl0ZW1EZXRhaWxMaWtlW107XG59O1xuXG50eXBlIE9yZGVyTGlrZSA9IHtcbiAgICBvcmRlcl90eXBlPzogc3RyaW5nO1xuICAgIHRhYmxlPzogeyB0YWJsZV9uYW1lPzogc3RyaW5nIHwgbnVsbCB9IHwgbnVsbDtcbiAgICBkZWxpdmVyeV9jb2RlPzogc3RyaW5nIHwgbnVsbDtcbiAgICBkZWxpdmVyeT86IHsgZGVsaXZlcnlfbmFtZT86IHN0cmluZyB8IG51bGwgfSB8IG51bGw7XG4gICAgb3JkZXJfbm8/OiBzdHJpbmc7XG4gICAgaXRlbXM/OiBPcmRlckl0ZW1MaWtlW107XG4gICAgY3JlYXRlX2RhdGU/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T3JkZXJTdGF0dXNDb2xvciA9IChzdGF0dXM6IE9yZGVyU3RhdHVzIHwgc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICBjYXNlIE9yZGVyU3RhdHVzLlBlbmRpbmc6XG4gICAgICAgICAgICByZXR1cm4gJ29yYW5nZSc7IC8vIOC4geC4s+C4peC4seC4h+C4lOC4s+C5gOC4meC4tOC4meC4geC4suC4o1xuICAgICAgICBjYXNlIE9yZGVyU3RhdHVzLkNvb2tpbmc6XG4gICAgICAgICAgICByZXR1cm4gJ2JsdWUnO1xuICAgICAgICBjYXNlIE9yZGVyU3RhdHVzLlNlcnZlZDpcbiAgICAgICAgICAgIHJldHVybiAnZ3JlZW4nO1xuICAgICAgICBjYXNlIE9yZGVyU3RhdHVzLlBhaWQ6XG4gICAgICAgICAgICByZXR1cm4gJ2N5YW4nO1xuICAgICAgICBjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGxlZDpcbiAgICAgICAgICAgIHJldHVybiAncmVkJztcbiAgICAgICAgY2FzZSBPcmRlclN0YXR1cy5XYWl0aW5nRm9yUGF5bWVudDpcbiAgICAgICAgICAgIHJldHVybiAnZ29sZCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ2RlZmF1bHQnO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcmRlclN0YXR1c1RleHQgPSAoc3RhdHVzOiBPcmRlclN0YXR1cyB8IHN0cmluZywgb3JkZXJUeXBlPzogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICBjYXNlIE9yZGVyU3RhdHVzLlBlbmRpbmc6XG4gICAgICAgICAgICByZXR1cm4gJ+C4geC4s+C4peC4seC4h+C4lOC4s+C5gOC4meC4tOC4meC4geC4suC4oyc7XG4gICAgICAgIGNhc2UgT3JkZXJTdGF0dXMuQ29va2luZzpcbiAgICAgICAgICAgIHJldHVybiAn4LiB4Liz4Lil4Lix4LiH4Lib4Lij4Li44LiHJztcbiAgICAgICAgY2FzZSBPcmRlclN0YXR1cy5TZXJ2ZWQ6XG4gICAgICAgICAgICBpZiAob3JkZXJUeXBlID09PSAnVGFrZUF3YXknIHx8IG9yZGVyVHlwZSA9PT0gJ0RlbGl2ZXJ5Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiAn4LiX4Liz4LmB4Lil4LmJ4LinJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAn4LmA4Liq4Li04Lij4LmM4Lif4LmB4Lil4LmJ4LinJztcbiAgICAgICAgY2FzZSBPcmRlclN0YXR1cy5QYWlkOlxuICAgICAgICAgICAgcmV0dXJuICfguIrguLPguKPguLDguYDguIfguLTguJnguYHguKXguYnguKcnO1xuICAgICAgICBjYXNlIE9yZGVyU3RhdHVzLkNvbXBsZXRlZDpcbiAgICAgICAgICAgIHJldHVybiAn4Liq4Liz4LmA4Lij4LmH4LiIJztcbiAgICAgICAgY2FzZSBPcmRlclN0YXR1cy5DYW5jZWxsZWQ6XG4gICAgICAgICAgICByZXR1cm4gJ+C4ouC4geC5gOC4peC4tOC4gSc7XG4gICAgICAgIGNhc2UgT3JkZXJTdGF0dXMuV2FpdGluZ0ZvclBheW1lbnQ6XG4gICAgICAgICAgICByZXR1cm4gJ+C4o+C4reC4iuC4s+C4o+C4sOC5gOC4h+C4tOC4mSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcmRlckNoYW5uZWxDb2xvciA9ICh0eXBlOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdEaW5lSW4nOlxuICAgICAgICAgICAgcmV0dXJuICcjNzIyZWQxJztcbiAgICAgICAgY2FzZSAnVGFrZUF3YXknOlxuICAgICAgICAgICAgcmV0dXJuICcjZmE4YzE2JztcbiAgICAgICAgY2FzZSAnRGVsaXZlcnknOlxuICAgICAgICAgICAgcmV0dXJuICcjZWIyZjk2JztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnIzE4OTBmZic7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldE9yZGVyQ2hhbm5lbFRleHQgPSAodHlwZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnRGluZUluJzpcbiAgICAgICAgICAgIHJldHVybiAn4LiX4Liy4LiZ4LiX4Li14LmI4Lij4LmJ4Liy4LiZJztcbiAgICAgICAgY2FzZSAnVGFrZUF3YXknOlxuICAgICAgICAgICAgcmV0dXJuICfguKrguLHguYjguIfguIHguKXguLHguJrguJrguYnguLLguJknO1xuICAgICAgICBjYXNlICdEZWxpdmVyeSc6XG4gICAgICAgICAgICByZXR1cm4gJ+C5gOC4lOC4peC4tOC5gOC4p+C4reC4o+C4teC5iCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2VydmVBY3Rpb25UZXh0ID0gKHR5cGU/OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGlmICh0eXBlID09PSAnRGluZUluJykgcmV0dXJuICfguYDguKrguLTguKPguYzguJ8nO1xuICAgIHJldHVybiAn4LiX4Liz4LmB4Lil4LmJ4LinJztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb25maXJtU2VydmVBY3Rpb25UZXh0ID0gKHR5cGU/OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGlmICh0eXBlID09PSAnRGVsaXZlcnknKSByZXR1cm4gJ+C4iOC4seC4lOC4reC4reC5gOC4lOC4reC4o+C5jOC5gOC4quC4o+C5h+C4iOC5geC4peC5ieC4p+C4nuC4o+C5ieC4reC4oeC4quC5iOC4h+C5g+C4q+C5ieC5hOC4o+C5gOC4lOC4reC4o+C5jCc7XG4gICAgaWYgKHR5cGUgPT09ICdEaW5lSW4nKSByZXR1cm4gJ+C4ouC4t+C4meC4ouC4seC4meC5gOC4quC4tOC4o+C5jOC4n+C4nuC4o+C5ieC4reC4oeC4iuC4s+C4o+C4sOC5gOC4h+C4tOC4mSc7XG4gICAgcmV0dXJuICfguKLguLfguJnguKLguLHguJnguJfguLPguYHguKXguYnguKfguJ7guKPguYnguK3guKHguIrguLPguKPguLDguYDguIfguLTguJknO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNlcnZlZFN0YXR1c1RleHQgPSAodHlwZT86IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgaWYgKHR5cGUgPT09ICdEaW5lSW4nKSByZXR1cm4gJ+C5gOC4quC4tOC4o+C5jOC4n+C4reC4suC4q+C4suC4o+C5geC4peC5ieC4pyc7XG4gICAgcmV0dXJuICfguJvguKPguLjguIfguYDguKrguKPguYfguIjguYHguKXguYnguKcnO1xufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdEN1cnJlbmN5ID0gKGFtb3VudDogbnVtYmVyIHwgc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBudW1BbW91bnQgPSB0eXBlb2YgYW1vdW50ID09PSAnc3RyaW5nJyA/IHBhcnNlRmxvYXQoYW1vdW50KSA6IGFtb3VudDtcbiAgICByZXR1cm4gYOC4vyR7TnVtYmVyKG51bUFtb3VudCkudG9Mb2NhbGVTdHJpbmcoJ3RoLVRIJywgeyBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KX1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9yZGVyUmVmZXJlbmNlID0gKG9yZGVyOiBPcmRlckxpa2UpOiBzdHJpbmcgPT4ge1xuICAgIGlmIChvcmRlci5vcmRlcl90eXBlID09PSAnRGluZUluJykge1xuICAgICAgICByZXR1cm4gb3JkZXIudGFibGU/LnRhYmxlX25hbWUgfHwgJ+C5hOC4oeC5iOC4o+C4sOC4muC4uOC5guC4leC5iuC4sCc7XG4gICAgfVxuICAgIGlmIChvcmRlci5vcmRlcl90eXBlID09PSAnRGVsaXZlcnknKSB7XG4gICAgICAgIHJldHVybiBvcmRlci5kZWxpdmVyeV9jb2RlIHx8IG9yZGVyLmRlbGl2ZXJ5Py5kZWxpdmVyeV9uYW1lIHx8ICfguYTguKHguYjguKPguLDguJrguLjguILguYnguK3guKHguLnguKUnO1xuICAgIH1cbiAgICBpZiAob3JkZXIub3JkZXJfdHlwZSA9PT0gJ1Rha2VBd2F5Jykge1xuICAgICAgICByZXR1cm4gb3JkZXIub3JkZXJfbm8gfHwgJ+C5hOC4oeC5iOC4o+C4sOC4muC4uOC5gOC4peC4guC4l+C4teC5iCc7XG4gICAgfVxuICAgIHJldHVybiBvcmRlci5vcmRlcl9ubyB8fCAnTi9BJztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXROb25DYW5jZWxsZWRJdGVtcyA9IChpdGVtcz86IE9yZGVySXRlbUxpa2VbXSk6IE9yZGVySXRlbUxpa2VbXSA9PiB7XG4gICAgcmV0dXJuIChpdGVtcyA/PyBbXSkuZmlsdGVyKGl0ZW0gPT4gaXRlbS5zdGF0dXMgIT09IE9yZGVyU3RhdHVzLkNhbmNlbGxlZCk7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlSXRlbUV4dHJhcyA9IChkZXRhaWxzPzogT3JkZXJJdGVtRGV0YWlsTGlrZVtdKTogbnVtYmVyID0+IHtcbiAgICByZXR1cm4gKGRldGFpbHMgPz8gW10pLnJlZHVjZSgoc3VtLCBkZXRhaWwpID0+IHN1bSArIChOdW1iZXIoZGV0YWlsLmV4dHJhX3ByaWNlKSB8fCAwKSwgMCk7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlSXRlbVRvdGFsID0gKHByaWNlOiBudW1iZXIgfCBzdHJpbmcsIHF1YW50aXR5OiBudW1iZXIsIGRldGFpbHM/OiBPcmRlckl0ZW1EZXRhaWxMaWtlW10pOiBudW1iZXIgPT4ge1xuICAgIGNvbnN0IGJhc2VQcmljZSA9IE51bWJlcihwcmljZSkgfHwgMDtcbiAgICBjb25zdCBleHRyYXNQcmljZSA9IGNhbGN1bGF0ZUl0ZW1FeHRyYXMoZGV0YWlscyk7XG4gICAgcmV0dXJuIChiYXNlUHJpY2UgKyBleHRyYXNQcmljZSkgKiBxdWFudGl0eTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRUb3RhbEl0ZW1zUXVhbnRpdHkgPSAoaXRlbXM/OiBPcmRlckl0ZW1MaWtlW10pOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiBnZXROb25DYW5jZWxsZWRJdGVtcyhpdGVtcykucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIChpdGVtLnF1YW50aXR5IHx8IDApLCAwKTtcbn07XG5cbmV4cG9ydCBjb25zdCBncm91cEl0ZW1zQnlDYXRlZ29yeSA9IChpdGVtcz86IE9yZGVySXRlbUxpa2VbXSk6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPT4ge1xuICAgIHJldHVybiBnZXROb25DYW5jZWxsZWRJdGVtcyhpdGVtcykucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlOYW1lID0gaXRlbS5wcm9kdWN0Py5jYXRlZ29yeT8uZGlzcGxheV9uYW1lIHx8ICfguYTguKHguYjguKPguLDguJrguLjguKvguKHguKfguJQnO1xuICAgICAgICBhY2NbY2F0ZWdvcnlOYW1lXSA9IChhY2NbY2F0ZWdvcnlOYW1lXSB8fCAwKSArIChpdGVtLnF1YW50aXR5IHx8IDApO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZU9yZGVyVG90YWwgPSAoaXRlbXM/OiBPcmRlckl0ZW1MaWtlW10pOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiBnZXROb25DYW5jZWxsZWRJdGVtcyhpdGVtcykucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIE51bWJlcihpdGVtLnRvdGFsX3ByaWNlIHx8IDApLCAwKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzb3J0T3JkZXJzQnlEYXRlID0gPFQgZXh0ZW5kcyB7IGNyZWF0ZV9kYXRlPzogc3RyaW5nIH0+KG9yZGVyczogVFtdID0gW10sIGFzY2VuZGluZzogYm9vbGVhbiA9IHRydWUpOiBUW10gPT4ge1xuICAgIHJldHVybiBbLi4ub3JkZXJzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGVBID0gYS5jcmVhdGVfZGF0ZSA/IG5ldyBEYXRlKGEuY3JlYXRlX2RhdGUpLmdldFRpbWUoKSA6IDA7XG4gICAgICAgIGNvbnN0IGRhdGVCID0gYi5jcmVhdGVfZGF0ZSA/IG5ldyBEYXRlKGIuY3JlYXRlX2RhdGUpLmdldFRpbWUoKSA6IDA7XG4gICAgICAgIHJldHVybiBhc2NlbmRpbmcgPyBkYXRlQSAtIGRhdGVCIDogZGF0ZUIgLSBkYXRlQTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzb3J0T3JkZXJzQnlRdWFudGl0eSA9IDxUIGV4dGVuZHMgeyBpdGVtcz86IE9yZGVySXRlbUxpa2VbXSB9PihvcmRlcnM6IFRbXSA9IFtdLCBhc2NlbmRpbmc6IGJvb2xlYW4gPSBmYWxzZSk6IFRbXSA9PiB7XG4gICAgcmV0dXJuIFsuLi5vcmRlcnNdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3QgcXR5QSA9IGdldFRvdGFsSXRlbXNRdWFudGl0eShhLml0ZW1zKTtcbiAgICAgICAgY29uc3QgcXR5QiA9IGdldFRvdGFsSXRlbXNRdWFudGl0eShiLml0ZW1zKTtcbiAgICAgICAgcmV0dXJuIGFzY2VuZGluZyA/IHF0eUEgLSBxdHlCIDogcXR5QiAtIHF0eUE7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEdldCBuYXZpZ2F0aW9uIHBhdGggYWZ0ZXIgYWxsIGl0ZW1zIGFyZSBzZXJ2ZWQgKENvbmZpcm0gU2VydmUpXG4gKiBAcGFyYW0gb3JkZXIgLSBUaGUgb3JkZXIgb2JqZWN0XG4gKiBAcmV0dXJucyBUaGUgdGFyZ2V0IG5hdmlnYXRpb24gcGF0aFxuICovXG5leHBvcnQgY29uc3QgZ2V0UG9zdENvbmZpcm1TZXJ2ZU5hdmlnYXRpb25QYXRoID0gKG9yZGVyOiBPcmRlckxpa2UgfCBTYWxlc09yZGVyKTogc3RyaW5nID0+IHtcbiAgICBpZiAob3JkZXIub3JkZXJfdHlwZSA9PT0gJ0RpbmVJbicpIHtcbiAgICAgICAgcmV0dXJuICcvcG9zL2NoYW5uZWxzL2RpbmUtaW4nO1xuICAgIH1cbiAgICBpZiAob3JkZXIub3JkZXJfdHlwZSA9PT0gJ1Rha2VBd2F5Jykge1xuICAgICAgICByZXR1cm4gJy9wb3MvY2hhbm5lbHMvdGFrZWF3YXknO1xuICAgIH1cbiAgICBpZiAob3JkZXIub3JkZXJfdHlwZSA9PT0gJ0RlbGl2ZXJ5Jykge1xuICAgICAgICByZXR1cm4gJy9wb3MvY2hhbm5lbHMvZGVsaXZlcnknO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIG9yZGVycyBsaXN0XG4gICAgcmV0dXJuICcvcG9zL29yZGVycyc7XG59O1xuXG4vKipcbiAqIEdldCBuYXZpZ2F0aW9uIHBhdGggYWZ0ZXIgYW4gb3JkZXIgaXMgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWRcbiAqIEBwYXJhbSBvcmRlclR5cGUgLSBUaGUgdHlwZSBvZiBvcmRlciBjcmVhdGVkXG4gKiBAcmV0dXJucyBUaGUgdGFyZ2V0IG5hdmlnYXRpb24gcGF0aFxuICovXG4vKipcbiAqIEdldCBuYXZpZ2F0aW9uIHBhdGggZm9yIGVkaXRpbmcgYW4gb3JkZXIgKE9yZGVyIERldGFpbCBwYWdlKVxuICogQHBhcmFtIG9yZGVySWQgLSBUaGUgSUQgb2YgdGhlIG9yZGVyIHRvIGVkaXRcbiAqIEByZXR1cm5zIFRoZSB0YXJnZXQgbmF2aWdhdGlvbiBwYXRoXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFZGl0T3JkZXJOYXZpZ2F0aW9uUGF0aCA9IChvcmRlcklkOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBgL3Bvcy9vcmRlcnMvJHtvcmRlcklkfWA7XG59O1xuXG4vKipcbiAqIEdldCBuYXZpZ2F0aW9uIHBhdGggZm9yIGFuIG9yZGVyIGJhc2VkIG9uIGl0cyBzdGF0dXMuXG4gKiBAcGFyYW0gb3JkZXIgLSBUaGUgb3JkZXIgb2JqZWN0XG4gKiBAcmV0dXJucyBUaGUgdGFyZ2V0IG5hdmlnYXRpb24gcGF0aFxuICovXG5leHBvcnQgY29uc3QgZ2V0T3JkZXJOYXZpZ2F0aW9uUGF0aCA9IChvcmRlcjogU2FsZXNPcmRlciB8IFNhbGVzT3JkZXJTdW1tYXJ5KTogc3RyaW5nID0+IHtcbiAgICBpZiAob3JkZXIuc3RhdHVzID09PSBPcmRlclN0YXR1cy5XYWl0aW5nRm9yUGF5bWVudCkge1xuICAgICAgICBpZiAob3JkZXIub3JkZXJfdHlwZSA9PT0gT3JkZXJUeXBlLkRlbGl2ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gYC9wb3MvaXRlbXMvZGVsaXZlcnkvJHtvcmRlci5pZH1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgL3Bvcy9pdGVtcy9wYXltZW50LyR7b3JkZXIuaWR9YDtcbiAgICB9XG4gICAgcmV0dXJuIGAvcG9zL29yZGVycy8ke29yZGVyLmlkfWA7XG59O1xuXG4vKipcbiAqIEdldCBuYXZpZ2F0aW9uIHBhdGggYWZ0ZXIgYW4gb3JkZXIgaXMgY2FuY2VsbGVkXG4gKiBAcGFyYW0gb3JkZXJUeXBlIC0gVGhlIHR5cGUgb2Ygb3JkZXIgdGhhdCB3YXMgY2FuY2VsbGVkXG4gKiBAcmV0dXJucyBUaGUgdGFyZ2V0IG5hdmlnYXRpb24gcGF0aFxuICovXG5leHBvcnQgY29uc3QgZ2V0Q2FuY2VsT3JkZXJOYXZpZ2F0aW9uUGF0aCA9IChvcmRlclR5cGU/OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGlmIChvcmRlclR5cGUgPT09IE9yZGVyVHlwZS5EZWxpdmVyeSkge1xuICAgICAgICByZXR1cm4gJy9wb3MvY2hhbm5lbHMvZGVsaXZlcnknO1xuICAgIH1cbiAgICBpZiAob3JkZXJUeXBlID09PSBPcmRlclR5cGUuVGFrZUF3YXkpIHtcbiAgICAgICAgcmV0dXJuICcvcG9zL2NoYW5uZWxzL3Rha2Vhd2F5JztcbiAgICB9XG4gICAgaWYgKG9yZGVyVHlwZSA9PT0gT3JkZXJUeXBlLkRpbmVJbikge1xuICAgICAgICByZXR1cm4gJy9wb3MvY2hhbm5lbHMvZGluZS1pbic7XG4gICAgfVxuICAgIHJldHVybiAnL3Bvcy9jaGFubmVscyc7XG59O1xuXG5pbnRlcmZhY2UgQ2FydEl0ZW1JbnB1dCB7XG4gICAgcHJvZHVjdDogeyBpZDogc3RyaW5nOyBwcmljZTogbnVtYmVyIHwgc3RyaW5nIH07XG4gICAgcXVhbnRpdHk6IG51bWJlcjtcbiAgICBub3Rlcz86IHN0cmluZztcbiAgICBkZXRhaWxzPzogeyBkZXRhaWxfbmFtZTogc3RyaW5nOyBleHRyYV9wcmljZTogbnVtYmVyIHwgc3RyaW5nIH1bXTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yZGVyUGF5bG9hZCA9IChcbiAgICBjYXJ0SXRlbXM6IENhcnRJdGVtSW5wdXRbXSxcbiAgICBvcmRlclR5cGU6IE9yZGVyVHlwZSxcbiAgICB0b3RhbHM6IHsgc3ViVG90YWw6IG51bWJlcjsgZGlzY291bnRBbW91bnQ6IG51bWJlcjsgdG90YWxBbW91bnQ6IG51bWJlciB9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZGlzY291bnRJZD86IHN0cmluZyB8IG51bGw7XG4gICAgICAgIHRhYmxlSWQ/OiBzdHJpbmcgfCBudWxsO1xuICAgICAgICBkZWxpdmVyeUlkPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgZGVsaXZlcnlDb2RlPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgb3JkZXJObz86IHN0cmluZztcbiAgICAgICAgcXVldWVOdW1iZXI/OiBzdHJpbmc7XG4gICAgfVxuKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb3JkZXJfbm86IG9wdGlvbnMub3JkZXJObyB8fCBgT1JELSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBvcmRlcl90eXBlOiBvcmRlclR5cGUsXG4gICAgICAgIHN1Yl90b3RhbDogdG90YWxzLnN1YlRvdGFsLFxuICAgICAgICBkaXNjb3VudF9hbW91bnQ6IHRvdGFscy5kaXNjb3VudEFtb3VudCxcbiAgICAgICAgdmF0OiAwLFxuICAgICAgICB0b3RhbF9hbW91bnQ6IHRvdGFscy50b3RhbEFtb3VudCxcbiAgICAgICAgcmVjZWl2ZWRfYW1vdW50OiAwLFxuICAgICAgICBjaGFuZ2VfYW1vdW50OiAwLFxuICAgICAgICBzdGF0dXM6IE9yZGVyU3RhdHVzLlBlbmRpbmcsIC8vIERlZmF1bHQgT3JkZXIgU3RhdHVzXG4gICAgICAgIGRpc2NvdW50X2lkOiBvcHRpb25zLmRpc2NvdW50SWQgfHwgbnVsbCxcbiAgICAgICAgcGF5bWVudF9tZXRob2RfaWQ6IG51bGwsXG4gICAgICAgIHRhYmxlX2lkOiBvcHRpb25zLnRhYmxlSWQgfHwgbnVsbCxcbiAgICAgICAgZGVsaXZlcnlfaWQ6IG9wdGlvbnMuZGVsaXZlcnlJZCB8fCBudWxsLFxuICAgICAgICBkZWxpdmVyeV9jb2RlOiBvcHRpb25zLmRlbGl2ZXJ5Q29kZSB8fCBudWxsLFxuICAgICAgICBpdGVtczogY2FydEl0ZW1zLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RQcmljZSA9IE51bWJlcihpdGVtLnByb2R1Y3QucHJpY2UpO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlsc1ByaWNlID0gKGl0ZW0uZGV0YWlscyB8fCBbXSkucmVkdWNlKChzdW06IG51bWJlciwgZCkgPT4gc3VtICsgTnVtYmVyKGQuZXh0cmFfcHJpY2UpLCAwKTtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsUHJpY2UgPSAocHJvZHVjdFByaWNlICsgZGV0YWlsc1ByaWNlKSAqIGl0ZW0ucXVhbnRpdHk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdF9pZDogaXRlbS5wcm9kdWN0LmlkLFxuICAgICAgICAgICAgICAgIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5LFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcm9kdWN0UHJpY2UsXG4gICAgICAgICAgICAgICAgdG90YWxfcHJpY2U6IHRvdGFsUHJpY2UsXG4gICAgICAgICAgICAgICAgZGlzY291bnRfYW1vdW50OiAwLFxuICAgICAgICAgICAgICAgIG5vdGVzOiBpdGVtLm5vdGVzIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBPcmRlclN0YXR1cy5Db29raW5nLCAvLyBEZWZhdWx0IEl0ZW0gU3RhdHVzOiBDb29raW5nXG4gICAgICAgICAgICAgICAgZGV0YWlsczogaXRlbS5kZXRhaWxzIHx8IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgIH07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwZWRTYWxlc09yZGVySXRlbSBleHRlbmRzIFNhbGVzT3JkZXJJdGVtIHtcbiAgICBvcmlnaW5hbElkczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjb25zdCBncm91cFNhbWVJdGVtcyA9IChpdGVtczogU2FsZXNPcmRlckl0ZW1bXSk6IEdyb3VwZWRTYWxlc09yZGVySXRlbVtdID0+IHtcbiAgICBjb25zdCBncm91cGVkTWFwID0gbmV3IE1hcDxzdHJpbmcsIEdyb3VwZWRTYWxlc09yZGVySXRlbT4oKTtcblxuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBrZXkgYmFzZWQgb24gY29udGVudFxuICAgICAgICAvLyBJbmNsdWRlIHByb2R1Y3RfaWQsIHN0YXR1cywgbm90ZXMsIHByaWNlLCBhbmQgZGV0YWlscyAobW9kaWZpZXJzKVxuICAgICAgICBjb25zdCBkZXRhaWxzS2V5ID0gKGl0ZW0uZGV0YWlscyB8fCBbXSlcbiAgICAgICAgICAgIC5tYXAoZCA9PiBgJHtkLmRldGFpbF9uYW1lfToke2QuZXh0cmFfcHJpY2V9YClcbiAgICAgICAgICAgIC5zb3J0KClcbiAgICAgICAgICAgIC5qb2luKCd8Jyk7XG5cbiAgICAgICAgY29uc3Qga2V5ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcGlkOiBpdGVtLnByb2R1Y3RfaWQsXG4gICAgICAgICAgICBwcmljZTogaXRlbS5wcmljZSxcbiAgICAgICAgICAgIG5vdGVzOiAoaXRlbS5ub3RlcyB8fCAnJykudHJpbSgpLFxuICAgICAgICAgICAgc3RhdHVzOiBpdGVtLnN0YXR1cyxcbiAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHNLZXlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGdyb3VwZWRNYXAuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gZ3JvdXBlZE1hcC5nZXQoa2V5KSE7XG4gICAgICAgICAgICAvLyBTdW0gcXVhbnRpdHkgYW5kIHRvdGFsX3ByaWNlXG4gICAgICAgICAgICBleGlzdGluZy5xdWFudGl0eSArPSBpdGVtLnF1YW50aXR5O1xuICAgICAgICAgICAgZXhpc3RpbmcudG90YWxfcHJpY2UgPSBOdW1iZXIoZXhpc3RpbmcudG90YWxfcHJpY2UpICsgTnVtYmVyKGl0ZW0udG90YWxfcHJpY2UpO1xuICAgICAgICAgICAgLy8gQWRkIElEIHRvIG9yaWdpbmFsSWRzXG4gICAgICAgICAgICBleGlzdGluZy5vcmlnaW5hbElkcy5wdXNoKGl0ZW0uaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ3JvdXBlZE1hcC5zZXQoa2V5LCB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbElkczogW2l0ZW0uaWRdLFxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0b3RhbF9wcmljZSBpcyBudW1iZXJcbiAgICAgICAgICAgICAgICB0b3RhbF9wcmljZTogTnVtYmVyKGl0ZW0udG90YWxfcHJpY2UpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIEFycmF5LmZyb20oZ3JvdXBlZE1hcC52YWx1ZXMoKSk7XG59O1xuXG4iXSwibmFtZXMiOlsiT3JkZXJTdGF0dXMiLCJPcmRlclR5cGUiLCJUYWJsZVN0YXR1cyIsImdldFRhYmxlTmF2aWdhdGlvblBhdGgiLCJ0YWJsZSIsInN0YXR1cyIsIkF2YWlsYWJsZSIsImlkIiwiYWN0aXZlT3JkZXJJZCIsImFjdGl2ZV9vcmRlcl9pZCIsImFjdGl2ZV9vcmRlciIsImFjdGl2ZU9yZGVyU3RhdHVzIiwiYWN0aXZlX29yZGVyX3N0YXR1cyIsIldhaXRpbmdGb3JQYXltZW50IiwiZ2V0T3JkZXJTdGF0dXNDb2xvciIsIlBlbmRpbmciLCJDb29raW5nIiwiU2VydmVkIiwiUGFpZCIsIkNhbmNlbGxlZCIsImdldE9yZGVyU3RhdHVzVGV4dCIsIm9yZGVyVHlwZSIsIkNvbXBsZXRlZCIsImdldE9yZGVyQ2hhbm5lbENvbG9yIiwidHlwZSIsImdldE9yZGVyQ2hhbm5lbFRleHQiLCJnZXRTZXJ2ZUFjdGlvblRleHQiLCJnZXRDb25maXJtU2VydmVBY3Rpb25UZXh0IiwiZ2V0U2VydmVkU3RhdHVzVGV4dCIsImZvcm1hdEN1cnJlbmN5IiwiYW1vdW50IiwibnVtQW1vdW50IiwicGFyc2VGbG9hdCIsIk51bWJlciIsInRvTG9jYWxlU3RyaW5nIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZ2V0T3JkZXJSZWZlcmVuY2UiLCJvcmRlciIsIm9yZGVyX3R5cGUiLCJ0YWJsZV9uYW1lIiwiZGVsaXZlcnlfY29kZSIsImRlbGl2ZXJ5IiwiZGVsaXZlcnlfbmFtZSIsIm9yZGVyX25vIiwiZ2V0Tm9uQ2FuY2VsbGVkSXRlbXMiLCJpdGVtcyIsImZpbHRlciIsIml0ZW0iLCJjYWxjdWxhdGVJdGVtRXh0cmFzIiwiZGV0YWlscyIsInJlZHVjZSIsInN1bSIsImRldGFpbCIsImV4dHJhX3ByaWNlIiwiY2FsY3VsYXRlSXRlbVRvdGFsIiwicHJpY2UiLCJxdWFudGl0eSIsImJhc2VQcmljZSIsImV4dHJhc1ByaWNlIiwiZ2V0VG90YWxJdGVtc1F1YW50aXR5IiwiZ3JvdXBJdGVtc0J5Q2F0ZWdvcnkiLCJhY2MiLCJjYXRlZ29yeU5hbWUiLCJwcm9kdWN0IiwiY2F0ZWdvcnkiLCJkaXNwbGF5X25hbWUiLCJjYWxjdWxhdGVPcmRlclRvdGFsIiwidG90YWxfcHJpY2UiLCJzb3J0T3JkZXJzQnlEYXRlIiwib3JkZXJzIiwiYXNjZW5kaW5nIiwic29ydCIsImEiLCJiIiwiZGF0ZUEiLCJjcmVhdGVfZGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwiZGF0ZUIiLCJzb3J0T3JkZXJzQnlRdWFudGl0eSIsInF0eUEiLCJxdHlCIiwiZ2V0UG9zdENvbmZpcm1TZXJ2ZU5hdmlnYXRpb25QYXRoIiwiZ2V0RWRpdE9yZGVyTmF2aWdhdGlvblBhdGgiLCJvcmRlcklkIiwiZ2V0T3JkZXJOYXZpZ2F0aW9uUGF0aCIsIkRlbGl2ZXJ5IiwiZ2V0Q2FuY2VsT3JkZXJOYXZpZ2F0aW9uUGF0aCIsIlRha2VBd2F5IiwiRGluZUluIiwiY3JlYXRlT3JkZXJQYXlsb2FkIiwiY2FydEl0ZW1zIiwidG90YWxzIiwib3B0aW9ucyIsIm9yZGVyTm8iLCJub3ciLCJzdWJfdG90YWwiLCJzdWJUb3RhbCIsImRpc2NvdW50X2Ftb3VudCIsImRpc2NvdW50QW1vdW50IiwidmF0IiwidG90YWxfYW1vdW50IiwidG90YWxBbW91bnQiLCJyZWNlaXZlZF9hbW91bnQiLCJjaGFuZ2VfYW1vdW50IiwiZGlzY291bnRfaWQiLCJkaXNjb3VudElkIiwicGF5bWVudF9tZXRob2RfaWQiLCJ0YWJsZV9pZCIsInRhYmxlSWQiLCJkZWxpdmVyeV9pZCIsImRlbGl2ZXJ5SWQiLCJkZWxpdmVyeUNvZGUiLCJtYXAiLCJwcm9kdWN0UHJpY2UiLCJkZXRhaWxzUHJpY2UiLCJkIiwidG90YWxQcmljZSIsInByb2R1Y3RfaWQiLCJub3RlcyIsImdyb3VwU2FtZUl0ZW1zIiwiZ3JvdXBlZE1hcCIsIk1hcCIsImZvckVhY2giLCJkZXRhaWxzS2V5IiwiZGV0YWlsX25hbWUiLCJqb2luIiwia2V5IiwiSlNPTiIsInN0cmluZ2lmeSIsInBpZCIsInRyaW0iLCJoYXMiLCJleGlzdGluZyIsImdldCIsIm9yaWdpbmFsSWRzIiwicHVzaCIsInNldCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/utils/orders/index.ts\n"));

/***/ })

});